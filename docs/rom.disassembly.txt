RESET_PTR = 861dh
RESET_CHECKSUM_VALUE = e1h

TOPMEM = 803Dh
STACKPTR = 839dh

KEY_SCAN_CODE = 85f0h
LAST_KEY_ASCII = 8030h
KEY_REPLAY_STRING = 85f7h

PORT10_LATCH = 8612h
PORT45_LATCH = 866Ah

BANK0_LATCH = 8665h
BANK1_LATCH = 8666h
BANK2_LATCH = 8667h

TEXT80 = 85fdh

NROWS = 85e5h
NCOLS = 85e7h
CAPSLOCK = 85fbh

; tagged labels
RESET = 0h
BOOT_SEQUENCE = 66C8h

; Disassembly of the file "kernel.rom"
; 
; CPU Type: Z80
; 
; Created with dZ80 2.0
; 
; on Saturday, 16 of June 2018 at 12:33 PM
; 
; #RST 00#
RESET:
   di      
   ld      a,01h     ; select ROM 1 in BANK 1
   out     (41h),a   ;
   jp      BOOT_SEQUENCE

VECTORS:
0008 c30080    jp      8000h    ; ?? warm reset #RST 08#
000b c36b00    jp      006bh    ; CONOUT outputs char in A to console       
000e 00        nop     
000f 00        nop     
0010 c30380    jp      8003h    ; #RST 10#
0013 c33105    jp      CONIN    ; CONIN gets char from console and puts into A
0016 00        nop     
0017 00        nop     
0018 c30680    jp      8006h    ; #RST 18#
001b c3ac06    jp      06ach    ; ??
001e 00        nop     
001f 00        nop     
0020 c30980    jp      8009h    ; #RST 20#
0023 c3ca05    jp      05cah    ; ROLLOVER 
0026 00        nop     
0027 00        nop     
0028 c30c80    jp      800ch    ; #RST 28#
002b c3d957    jp      57d9h
002e 00        nop     
002f 00        nop     
0030 c30f80    jp      800fh    ; #RST 30#
0033 c38069    jp      6980h    ; READSC - read sector from disk
0036 00        nop     
0037 00        nop 

; #RST 38#
INTERRUPT_MODE_1:
0038 c30c0a    jp      0a0ch

003b c31a28    jp      281ah
003e c3a85f    jp      5fa8h
0041 c30a35    jp      350ah
0044 c3d32e    jp      2ed3h
0047 c36518    jp      1865h   ; RDBYET - read byte from cassette in A
004a c31f16    jp      161fh   ; WRBYET - write byte in A to cassette
004d c3a038    jp      38a0h
0050 c3f223    jp      23f2h
0053 c3105f    jp      5f10h
0056 c3b427    jp      27b4h
0059 c3dc22    jp      22dch
005c c3d45f    jp      5fd4h   ; CTRLBRK - handles CTRL+C
005f c34222    jp      2242h
0062 c32a13    jp      132ah

NMI_INTERRUPT:
0065 c36f14    jp      146fh

0068 c30d0c    jp      0c0dh

CONOUT:
006b cdc785    call    85c7h
006e 21fb85    ld      hl,CAPSLOCK
0071 cbf6      set     6,(hl)
0073 21f985    ld      hl,85f9h
0076 cb5e      bit     3,(hl)
0078 2833      jr      z,00adh
007a f5        push    af
007b 7e        ld      a,(hl)
007c e6f7      and     0f7h
007e 118e00    ld      de,008eh
0081 d5        push    de
0082 0602      ld      b,02h
0084 cde50a    call    SETBANK1
0087 77        ld      (hl),a
0088 320068    ld      (6800h),a
008b c3d30a    jp      0ad3h
008e f1        pop     af
008f cdde0a    call    RESTORE_BANK1
0092 f5        push    af
0093 cdd004    call    04d0h
0096 3a6986    ld      a,(8669h)
0099 e6f8      and     0f8h
009b 47        ld      b,a
009c 3afd85    ld      a,(TEXT80)
009f b0        or      b
00a0 326986    ld      (8669h),a
00a3 d344      out     (44h),a
00a5 210078    ld      hl,7800h
00a8 22e285    ld      (85e2h),hl
00ab 1807      jr      00b4h
00ad cdde0a    call    RESTORE_BANK1
00b0 f5        push    af
00b1 cd7803    call    0378h
00b4 eb        ex      de,hl
00b5 f1        pop     af
00b6 213901    ld      hl,0139h
00b9 e5        push    hl
00ba 21fa85    ld      hl,85fah
00bd cb46      bit     0,(hl)
00bf c27604    jp      nz,0476h
00c2 4f        ld      c,a
00c3 3a0586    ld      a,(8605h)
00c6 b7        or      a
00c7 c2fa03    jp      nz,03fah
00ca 79        ld      a,c
00cb fe7f      cp      7fh
00cd cad501    jp      z,01d5h
00d0 fe20      cp      20h
00d2 303d      jr      nc,0111h
00d4 fe0d      cp      0dh
00d6 ca6601    jp      z,0166h
00d9 fe0a      cp      0ah
00db ca6e01    jp      z,016eh
00de fe08      cp      08h
00e0 ca9903    jp      z,0399h
00e3 fe19      cp      19h
00e5 cac003    jp      z,03c0h
00e8 fe18      cp      18h
00ea cae003    jp      z,03e0h
00ed fe1d      cp      1dh
00ef caee03    jp      z,03eeh
00f2 fe15      cp      15h
00f4 ca1f02    jp      z,021fh
00f7 fe07      cp      07h
00f9 cae209    jp      z,09e2h
00fc fe1c      cp      1ch
00fe cac504    jp      z,04c5h
0101 fe1e      cp      1eh
0103 cabf04    jp      z,04bfh
0106 fe1f      cp      1fh
0108 cad004    jp      z,04d0h
010b fe1b      cp      1bh
010d c0        ret     nz
010e cbc6      set     0,(hl)
0110 c9        ret    
 
0111 fe80      cp      80h
0113 303e      jr      nc,0153h
0115 cb4e      bit     1,(hl)
0117 2802      jr      z,011bh
0119 ee80      xor     80h
011b 12        ld      (de),a
011c 13        inc     de
011d 21e985    ld      hl,85e9h
0120 3afd85    ld      a,(TEXT80)
0123 b7        or      a
0124 2006      jr      nz,012ch
0126 3a6a86    ld      a,(PORT45_LATCHh)
0129 12        ld      (de),a
012a 13        inc     de
012b 34        inc     (hl)
012c 34        inc     (hl)
012d 3ae785    ld      a,(NCOLS)
0130 47        ld      b,a
0131 7e        ld      a,(hl)
0132 eb        ex      de,hl
0133 b8        cp      b
0134 3024      jr      nc,015ah
0136 d1        pop     de
0137 180b      jr      0144h
0139 3ae885    ld      a,(85e8h)
013c cd0c05    call    050ch
013f 3ae985    ld      a,(85e9h)
0142 85        add     a,l
0143 6f        ld      l,a
0144 22e285    ld      (85e2h),hl
0147 7e        ld      a,(hl)
0148 320486    ld      (8604h),a
014b 21fb85    ld      hl,CAPSLOCK
014e cbb6      res     6,(hl)
0150 c3d30a    jp      0ad3h
0153 fea0      cp      0a0h
0155 d0        ret     nc
0156 e67f      and     7fh
0158 18bb      jr      0115h
015a cd5e03    call    035eh
015d af        xor     a
015e 32e985    ld      (85e9h),a
0161 3ae885    ld      a,(85e8h)
0164 180b      jr      0171h
0166 cd6203    call    0362h
0169 af        xor     a
016a 32e985    ld      (85e9h),a
016d c9        ret     
016e cd6203    call    0362h
0171 21e585    ld      hl,NROWS
0174 3c        inc     a
0175 be        cp      (hl)
0176 3004      jr      nc,017ch
0178 32e885    ld      (85e8h),a
017b c9        ret     
017c cd8401    call    0184h
017f 3d        dec     a
0180 32e885    ld      (85e8h),a
0183 c9        ret     
0184 3ae785    ld      a,(NCOLS)
0187 4f        ld      c,a
0188 0600      ld      b,00h
018a c5        push    bc
018b 3ae485    ld      a,(85e4h)
018e cd0c05    call    050ch
0191 eb        ex      de,hl
0192 3c        inc     a
0193 cd0c05    call    050ch
0196 c1        pop     bc
0197 c5        push    bc
0198 e5        push    hl
0199 edb0      ldir    
019b cd6e03    call    036eh
019e 56        ld      d,(hl)
019f 2b        dec     hl
01a0 72        ld      (hl),d
01a1 21e585    ld      hl,NROWS
01a4 56        ld      d,(hl)
01a5 15        dec     d
01a6 ba        cp      d
01a7 d1        pop     de
01a8 20e8      jr      nz,0192h
01aa c1        pop     bc
01ab 210286    ld      hl,8602h
01ae 35        dec     (hl)
01af f2b601    jp      p,01b6h
01b2 34        inc     (hl)
01b3 1801      jr      01b6h
01b5 af        xor     a
01b6 21e585    ld      hl,NROWS
01b9 5e        ld      e,(hl)
01ba cd8003    call    0380h
01bd 21e785    ld      hl,NCOLS
01c0 46        ld      b,(hl)
01c1 cd0c05    call    050ch
01c4 71        ld      (hl),c
01c5 23        inc     hl
01c6 05        dec     b
01c7 2804      jr      z,01cdh
01c9 72        ld      (hl),d
01ca 23        inc     hl
01cb 10f7      djnz    01c4h
01cd cd6703    call    0367h
01d0 3c        inc     a
01d1 bb        cp      e
01d2 38e9      jr      c,01bdh
01d4 c9        ret     
01d5 010100    ld      bc,0001h
01d8 3afd85    ld      a,(TEXT80)
01db b7        or      a
01dc 2001      jr      nz,01dfh
01de 03        inc     bc
01df c5        push    bc
01e0 3ae885    ld      a,(85e8h)
01e3 f5        push    af
01e4 2ae285    ld      hl,(85e2h)
01e7 e5        push    hl
01e8 09        add     hl,bc
01e9 3ae985    ld      a,(85e9h)
01ec 57        ld      d,a
01ed 3ae785    ld      a,(NCOLS)
01f0 92        sub     d
01f1 91        sub     c
01f2 4f        ld      c,a
01f3 d1        pop     de
01f4 2802      jr      z,01f8h
01f6 edb0      ldir    
01f8 f1        pop     af
01f9 cd5503    call    0355h
01fc 2815      jr      z,0213h
01fe 3c        inc     a
01ff 21e585    ld      hl,NROWS
0202 be        cp      (hl)
0203 280e      jr      z,0213h
0205 cd0c05    call    050ch
0208 c1        pop     bc
0209 c5        push    bc
020a f5        push    af
020b e5        push    hl
020c c5        push    bc
020d edb0      ldir    
020f c1        pop     bc
0210 af        xor     a
0211 18d9      jr      01ech
0213 c1        pop     bc
0214 eb        ex      de,hl
0215 41        ld      b,c
0216 cd8003    call    0380h
0219 71        ld      (hl),c
021a 05        dec     b
021b c8        ret     z
021c 23        inc     hl
021d 72        ld      (hl),d
021e c9        ret     
021f 010100    ld      bc,0001h
0222 3afd85    ld      a,(TEXT80)
0225 b7        or      a
0226 2001      jr      nz,0229h
0228 03        inc     bc
0229 fde5      push    iy
022b c5        push    bc
022c 3ae585    ld      a,(NROWS)
022f 47        ld      b,a
0230 3ae885    ld      a,(85e8h)
0233 cd5503    call    0355h
0236 2805      jr      z,023dh
0238 3c        inc     a
0239 b8        cp      b
023a 38f7      jr      c,0233h
023c 3d        dec     a
023d f5        push    af
023e cd0c05    call    050ch
0241 3ae785    ld      a,(NCOLS)
0244 5f        ld      e,a
0245 1600      ld      d,00h
0247 19        add     hl,de
0248 f1        pop     af
0249 c1        pop     bc
024a d5        push    de
024b c5        push    bc
024c f5        push    af
024d b7        or      a
024e ed42      sbc     hl,bc
0250 7e        ld      a,(hl)
0251 e67f      and     7fh
0253 fe20      cp      20h
0255 285a      jr      z,02b1h
0257 f1        pop     af
0258 e5        push    hl
0259 f5        push    af
025a 57        ld      d,a
025b 14        inc     d
025c 3ae585    ld      a,(NROWS)
025f ba        cp      d
0260 2033      jr      nz,0295h
0262 21e485    ld      hl,85e4h
0265 3ae885    ld      a,(85e8h)
0268 be        cp      (hl)
0269 2825      jr      z,0290h
026b cd8401    call    0184h
026e 21e885    ld      hl,85e8h
0271 7e        ld      a,(hl)
0272 3d        dec     a
0273 77        ld      (hl),a
0274 cd0c05    call    050ch
0277 3ae985    ld      a,(85e9h)
027a 85        add     a,l
027b 6f        ld      l,a
027c 22e285    ld      (85e2h),hl
027f f1        pop     af
0280 3d        dec     a
0281 e1        pop     hl
0282 c1        pop     bc
0283 d1        pop     de
0284 cd0c05    call    050ch
0287 19        add     hl,de
0288 b7        or      a
0289 ed42      sbc     hl,bc
028b d5        push    de
028c c5        push    bc
028d e5        push    hl
028e 180b      jr      029bh
0290 f1        pop     af
0291 c1        pop     bc
0292 f5        push    af
0293 181c      jr      02b1h
0295 14        inc     d
0296 d5        push    de
0297 cd1c03    call    031ch
029a f1        pop     af
029b 0601      ld      b,01h
029d cd6703    call    0367h
02a0 3c        inc     a
02a1 0600      ld      b,00h
02a3 cd6703    call    0367h
02a6 cd0c05    call    050ch
02a9 d1        pop     de
02aa eb        ex      de,hl
02ab c1        pop     bc
02ac c5        push    bc
02ad 3d        dec     a
02ae f5        push    af
02af edb0      ldir    
02b1 f1        pop     af
02b2 c1        pop     bc
02b3 f5        push    af
02b4 3ae785    ld      a,(NCOLS)
02b7 2600      ld      h,00h
02b9 6f        ld      l,a
02ba 2b        dec     hl
02bb e5        push    hl
02bc fde1      pop     iy
02be 23        inc     hl
02bf b7        or      a
02c0 ed42      sbc     hl,bc
02c2 e5        push    hl
02c3 dde1      pop     ix
02c5 f1        pop     af
02c6 d1        pop     de
02c7 c5        push    bc
02c8 cd0c05    call    050ch
02cb fde5      push    iy
02cd d1        pop     de
02ce 19        add     hl,de
02cf e5        push    hl
02d0 b7        or      a
02d1 ed42      sbc     hl,bc
02d3 181d      jr      02f2h
02d5 dde5      push    ix
02d7 c1        pop     bc
02d8 0c        inc     c
02d9 0d        dec     c
02da 2802      jr      z,02deh
02dc edb8      lddr    
02de 3d        dec     a
02df 21e885    ld      hl,85e8h
02e2 be        cp      (hl)
02e3 fa0c03    jp      m,030ch
02e6 cd0c05    call    050ch
02e9 fde5      push    iy
02eb c1        pop     bc
02ec 09        add     hl,bc
02ed c1        pop     bc
02ee c5        push    bc
02ef e5        push    hl
02f0 edb8      lddr    
02f2 d1        pop     de
02f3 e5        push    hl
02f4 21e885    ld      hl,85e8h
02f7 be        cp      (hl)
02f8 2803      jr      z,02fdh
02fa e1        pop     hl
02fb 18d8      jr      02d5h
02fd f5        push    af
02fe 3ae985    ld      a,(85e9h)
0301 2f        cpl     
0302 4f        ld      c,a
0303 06ff      ld      b,0ffh
0305 03        inc     bc
0306 dd09      add     ix,bc
0308 f1        pop     af
0309 e1        pop     hl
030a 18c9      jr      02d5h
030c c1        pop     bc
030d 41        ld      b,c
030e cd8003    call    0380h
0311 2ae285    ld      hl,(85e2h)
0314 71        ld      (hl),c
0315 fde1      pop     iy
0317 05        dec     b
0318 c8        ret     z
0319 23        inc     hl
031a 72        ld      (hl),d
031b c9        ret     
031c e1        pop     hl
031d e3        ex      (sp),hl
031e e5        push    hl
031f 3ae785    ld      a,(NCOLS)
0322 4f        ld      c,a
0323 0600      ld      b,00h
0325 3ae585    ld      a,(NROWS)
0328 3d        dec     a
0329 d1        pop     de
032a ba        cp      d
032b 3815      jr      c,0342h
032d d5        push    de
032e cd0c05    call    050ch
0331 eb        ex      de,hl
0332 3d        dec     a
0333 cd0c05    call    050ch
0336 c5        push    bc
0337 edb0      ldir    
0339 cd6e03    call    036eh
033c 56        ld      d,(hl)
033d 23        inc     hl
033e 72        ld      (hl),d
033f c1        pop     bc
0340 18e7      jr      0329h
0342 41        ld      b,c
0343 cd8003    call    0380h
0346 cd0c05    call    050ch
0349 71        ld      (hl),c
034a 23        inc     hl
034b 05        dec     b
034c c8        ret     z
034d 72        ld      (hl),d
034e 23        inc     hl
034f 10f8      djnz    0349h
0351 c9        ret     
0352 3ae885    ld      a,(85e8h)
0355 e5        push    hl
0356 cd6e03    call    036eh
0359 66        ld      h,(hl)
035a 24        inc     h
035b 25        dec     h
035c e1        pop     hl
035d c9        ret     
035e 0601      ld      b,01h
0360 1802      jr      0364h
0362 0600      ld      b,00h
0364 3ae885    ld      a,(85e8h)
0367 e5        push    hl
0368 cd6e03    call    036eh
036b 70        ld      (hl),b
036c e1        pop     hl
036d c9        ret     
036e c5        push    bc
036f 216d86    ld      hl,866dh
0372 4f        ld      c,a
0373 0600      ld      b,00h
0375 09        add     hl,bc
0376 c1        pop     bc
0377 c9        ret     
0378 2ae285    ld      hl,(85e2h)
037b 3a0486    ld      a,(8604h)
037e 77        ld      (hl),a
037f c9        ret     
0380 f5        push    af
0381 0e20      ld      c,20h
0383 3afa85    ld      a,(85fah)
0386 cb4f      bit     1,a
0388 2802      jr      z,038ch
038a 0ea0      ld      c,0a0h
038c 3afd85    ld      a,(TEXT80)
038f b7        or      a
0390 79        ld      a,c
0391 2003      jr      nz,0396h
0393 3a6a86    ld      a,(PORT45_LATCHh)
0396 57        ld      d,a
0397 f1        pop     af
0398 c9        ret     
0399 21e985    ld      hl,85e9h
039c 7e        ld      a,(hl)
039d b7        or      a
039e 2808      jr      z,03a8h
03a0 35        dec     (hl)
03a1 3afd85    ld      a,(TEXT80)
03a4 b7        or      a
03a5 c0        ret     nz
03a6 35        dec     (hl)
03a7 c9        ret     
03a8 3ae485    ld      a,(85e4h)
03ab 47        ld      b,a
03ac 3ae885    ld      a,(85e8h)
03af b8        cp      b
03b0 c8        ret     z
03b1 3d        dec     a
03b2 cd5503    call    0355h
03b5 c8        ret     z
03b6 32e885    ld      (85e8h),a
03b9 3ae785    ld      a,(NCOLS)
03bc 3d        dec     a
03bd 77        ld      (hl),a
03be 18e1      jr      03a1h
03c0 21e985    ld      hl,85e9h
03c3 46        ld      b,(hl)
03c4 04        inc     b
03c5 3afd85    ld      a,(TEXT80)
03c8 b7        or      a
03c9 2001      jr      nz,03cch
03cb 04        inc     b
03cc 3ae785    ld      a,(NCOLS)
03cf b8        cp      b
03d0 2802      jr      z,03d4h
03d2 70        ld      (hl),b
03d3 c9        ret     
03d4 3ae885    ld      a,(85e8h)
03d7 cd5503    call    0355h
03da c8        ret     z
03db 3600      ld      (hl),00h
03dd c37101    jp      0171h
03e0 3ae485    ld      a,(85e4h)
03e3 47        ld      b,a
03e4 3ae885    ld      a,(85e8h)
03e7 b8        cp      b
03e8 c8        ret     z
03e9 3d        dec     a
03ea 32e885    ld      (85e8h),a
03ed c9        ret     
03ee 3ae585    ld      a,(NROWS)
03f1 47        ld      b,a
03f2 3ae885    ld      a,(85e8h)
03f5 3c        inc     a
03f6 b8        cp      b
03f7 d0        ret     nc
03f8 18f0      jr      03eah
03fa 3d        dec     a
03fb 320586    ld      (8605h),a
03fe 79        ld      a,c
03ff 2815      jr      z,0416h
0401 d620      sub     20h
0403 f8        ret     m
0404 4f        ld      c,a
0405 3afd85    ld      a,(TEXT80)
0408 b7        or      a
0409 79        ld      a,c
040a 2001      jr      nz,040dh
040c 17        rla     
040d 21e785    ld      hl,NCOLS
0410 be        cp      (hl)
0411 d0        ret     nc
0412 32e985    ld      (85e9h),a
0415 c9        ret     
0416 d620      sub     20h
0418 21e585    ld      hl,NROWS
041b be        cp      (hl)
041c d0        ret     nc
041d 21e485    ld      hl,85e4h
0420 be        cp      (hl)
0421 f8        ret     m
0422 32e885    ld      (85e8h),a
0425 c9        ret     
0426 e60f      and     0fh
0428 07        rlca    
0429 07        rlca    
042a 07        rlca    
042b 07        rlca    
042c 4f        ld      c,a
042d 3a6986    ld      a,(8669h)
0430 e60f      and     0fh
0432 b1        or      c
0433 d344      out     (44h),a
0435 326986    ld      (8669h),a
0438 c9        ret     
0439 3e02      ld      a,02h
043b 320586    ld      (8605h),a
043e c9        ret     
043f cbde      set     3,(hl)
0441 c9        ret     
0442 cb9e      res     3,(hl)
0444 c9        ret     
0445 3afd85    ld      a,(TEXT80)
0448 b7        or      a
0449 2801      jr      z,044ch
044b c9        ret     
044c 3c        inc     a
044d 32fd85    ld      (TEXT80),a
0450 cdd004    call    04d0h
0453 3a6986    ld      a,(8669h)
0456 f601      or      01h
0458 326986    ld      (8669h),a
045b d344      out     (44h),a
045d c9        ret     
045e 3afd85    ld      a,(TEXT80)
0461 b7        or      a
0462 2001      jr      nz,0465h
0464 c9        ret     
0465 3a6986    ld      a,(8669h)
0468 e6fe      and     0feh
046a 326986    ld      (8669h),a
046d d344      out     (44h),a
046f af        xor     a
0470 32fd85    ld      (TEXT80),a
0473 c3d004    jp      04d0h
0476 e5        push    hl
0477 119e04    ld      de,049eh
047a d5        push    de
047b fea0      cp      0a0h
047d 285a      jr      z,04d9h
047f fe41      cp      41h
0481 caf204    jp      z,04f2h
0484 fe42      cp      42h
0486 caf504    jp      z,04f5h
0489 fea1      cp      0a1h
048b 28ac      jr      z,0439h
048d fe43      cp      43h
048f 28ae      jr      z,043fh
0491 fe44      cp      44h
0493 28ad      jr      z,0442h
0495 fea2      cp      0a2h
0497 28ac      jr      z,0445h
0499 fea3      cp      0a3h
049b 28c1      jr      z,045eh
049d d1        pop     de
049e e1        pop     hl
049f cb86      res     0,(hl)
04a1 c9        ret     
04a2 e60f      and     0fh
04a4 4f        ld      c,a
04a5 3a6a86    ld      a,(PORT45_LATCHh)
04a8 e6f0      and     0f0h
04aa b1        or      c
04ab 326a86    ld      (PORT45_LATCHh),a
04ae d345      out     (45h),a
04b0 c9        ret     
04b1 e60f      and     0fh
04b3 07        rlca    
04b4 07        rlca    
04b5 07        rlca    
04b6 07        rlca    
04b7 4f        ld      c,a
04b8 3a6a86    ld      a,(PORT45_LATCHh)
04bb e60f      and     0fh
04bd 18eb      jr      04aah
04bf cdf804    call    04f8h
04c2 5f        ld      e,a
04c3 1818      jr      04ddh
04c5 af        xor     a
04c6 32e985    ld      (85e9h),a
04c9 3ae485    ld      a,(85e4h)
04cc 32e885    ld      (85e8h),a
04cf c9        ret     
04d0 cdc504    call    04c5h
04d3 cd0c05    call    050ch
04d6 22e285    ld      (85e2h),hl
04d9 3ae585    ld      a,(NROWS)
04dc 5f        ld      e,a
04dd cd8003    call    0380h
04e0 2ae285    ld      hl,(85e2h)
04e3 3ae985    ld      a,(85e9h)
04e6 47        ld      b,a
04e7 3ae785    ld      a,(NCOLS)
04ea 90        sub     b
04eb 47        ld      b,a
04ec 3ae885    ld      a,(85e8h)
04ef c3c401    jp      01c4h
04f2 cb8e      res     1,(hl)
04f4 c9        ret     
04f5 cbce      set     1,(hl)
04f7 c9        ret     
04f8 e5        push    hl
04f9 21e585    ld      hl,NROWS
04fc 3ae885    ld      a,(85e8h)
04ff cd5503    call    0355h
0502 2805      jr      z,0509h
0504 3c        inc     a
0505 be        cp      (hl)
0506 38f7      jr      c,04ffh
0508 3d        dec     a
0509 3c        inc     a
050a e1        pop     hl
050b c9        ret     
050c f5        push    af
050d c5        push    bc
050e 6f        ld      l,a
050f e607      and     07h
0511 f678      or      78h
0513 67        ld      h,a
0514 7d        ld      a,l
0515 e618      and     18h
0517 07        rlca    
0518 6f        ld      l,a
0519 07        rlca    
051a 07        rlca    
051b 85        add     a,l
051c 6f        ld      l,a
051d 3ae685    ld      a,(85e6h)
0520 4f        ld      c,a
0521 0600      ld      b,00h
0523 09        add     hl,bc
0524 c1        pop     bc
0525 f1        pop     af
0526 c9        ret     

0527 3afd85    ld      a,(TEXT80)
052a b7        or      a
052b 3ae985    ld      a,(85e9h)
052e c0        ret     nz
052f 1f        rra     
0530 c9        ret  

;
; CONIN gets a character from console and puts into A
;
;0531
CONIN:
   ld      hl, (KEY_REPLAY_STRING) ; if (KEY_REPLAY_STRING) <> 0 then jr 05fah
   ld      a,l                     ;
   or      h                       ;
   jr      nz, 05afh               ;
            
0538 0602      ld      b,02h
053a cde50a    call    SETBANK1
053d cdca05    call    05cah
0540 21f085    ld      hl,KEY_SCAN_CODE
0543 b7        or      a
               if not zero then 
0546 47        ld      b,a
0547 79        ld      a,c
0548 be        cp      (hl)
0549 284b      jr      z,0596h
054b 71        ld      (hl),c
054c 3af585    ld      a,(85f5h)
054f 32f485    ld      (85f4h),a
0552 78        ld      a,b
0553 21fb85    ld      hl,CAPSLOCK
0556 cba6      res     4,(hl)
0558 21f385    ld      hl,85f3h
055b 3619      ld      (hl),19h
055d fee0      cp      0e0h
055f 3813      jr      c,0574h
0561 fefe      cp      0feh
0563 300f      jr      nc,0574h
0565 d6e0      sub     0e0h
0567 47        ld      b,a
0568 0e00      ld      c,00h
056a 210040    ld      hl,4000h
056d 09        add     hl,bc
056e cdaf05    call    05afh
0571 b7        or      a
0572 28c9      jr      z,053dh
0574 21fa85    ld      hl,85fah
0577 cbd6      set     2,(hl)
0579 c3d30a    jp      0ad3h
               end if
               
057c 21fb85    ld      hl,CAPSLOCK
057f cba6      res     4,(hl)
0581 21f385    ld      hl,85f3h
0584 35        dec     (hl)
0585 20b6      jr      nz,053dh
0587 3619      ld      (hl),19h
0589 3eff      ld      a,0ffh
058b 32f085    ld      (KEY_SCAN_CODE),a
058e 3af585    ld      a,(85f5h)
0591 32f485    ld      (85f4h),a
0594 18a7      jr      053dh
0596 21fb85    ld      hl,CAPSLOCK
0599 cbe6      set     4,(hl)
059b 3e19      ld      a,19h
059d 32f385    ld      (85f3h),a
05a0 3af485    ld      a,(85f4h)
05a3 b7        or      a
05a4 2097      jr      nz,053dh
05a6 3af685    ld      a,(85f6h)
05a9 32f485    ld      (85f4h),a
05ac 78        ld      a,b
05ad 18a4      jr      0553h

REPLAY_KEY_IN_HL_BUFFER:
05af 0606      ld      b,06h
05b1 cde50a    call    SETBANK1
05b4 46        ld      b,(hl)
05b5 23        inc     hl
05b6 7e        ld      a,(hl)
05b7 b7        or      a
05b8 280b      jr      z,05c5h
05ba 2c        inc     l
05bb 2d        dec     l
05bc 2807      jr      z,05c5h
05be 22f785    ld      (KEY_REPLAY_STRING),hl
05c1 78        ld      a,b
05c2 c3d30a    jp      0ad3h
05c5 210000    ld      hl,0000h
05c8 18f4      jr      05beh

05ca cd4b06    call    064bh
05cd 04        inc     b
05ce 281c      jr      z,05ech
05d0 05        dec     b
05d1 c5        push    bc
05d2 ed4bf185  ld      bc,(85f1h)
05d6 05        dec     b
05d7 2818      jr      z,05f1h
05d9 04        inc     b
05da 7b        ld      a,e
05db cd5a06    call    065ah
05de 04        inc     b
05df 2810      jr      z,05f1h
05e1 05        dec     b
05e2 3af085    ld      a,(KEY_SCAN_CODE)
05e5 b9        cp      c
05e6 2806      jr      z,05eeh
05e8 c1        pop     bc
05e9 b9        cp      c
05ea 2806      jr      z,05f2h
05ec af        xor     a
05ed c9        ret     
05ee d1        pop     de
05ef 1801      jr      05f2h
05f1 c1        pop     bc
05f2 21fb85    ld      hl,CAPSLOCK
05f5 56        ld      d,(hl)
05f6 cb5a      bit     3,d
05f8 2831      jr      z,062bh
05fa 2aec85    ld      hl,(85ech)
05fd 09        add     hl,bc
05fe 7e        ld      a,(hl)
05ff fe41      cp      41h
0601 380c      jr      c,060fh
0603 fe5e      cp      5eh
0605 3008      jr      nc,060fh
0607 cb4a      bit     1,d
0609 2014      jr      nz,061fh
060b fe5b      cp      5bh
060d 3810      jr      c,061fh
060f cb42      bit     0,d
0611 2818      jr      z,062bh
0613 fe30      cp      30h
0615 3814      jr      c,062bh
0617 fe5b      cp      5bh
0619 2804      jr      z,061fh
061b fe3a      cp      3ah
061d 300c      jr      nc,062bh
061f cd9e0a    call    0a9eh
0622 281b      jr      z,063fh
0624 cda30a    call    0aa3h
0627 2811      jr      z,063ah
0629 1805      jr      0630h
062b cd9e0a    call    0a9eh
062e 2005      jr      nz,0635h
0630 2aec85    ld      hl,(85ech)
0633 180d      jr      0642h
0635 cda30a    call    0aa3h
0638 2005      jr      nz,063fh
063a 2aee85    ld      hl,(85eeh)
063d 1803      jr      0642h
063f 2aea85    ld      hl,(85eah)
0642 09        add     hl,bc
0643 7e        ld      a,(hl)
0644 c9        ret     
0645 00        nop     
0646 00        nop     
0647 00        nop     
0648 00        nop     
0649 00        nop     
064a 00        nop     

064b 21ff6b    ld      hl,6bffh
064e 0e0c      ld      c,0ch
0650 1604      ld      d,04h
0652 0607      ld      b,07h
0654 7e        ld      a,(hl)
0655 f6c0      or      0c0h
   0657 1f        rra     
   0658 302f      jr      nc,0689h
   065a 10fb      djnz    0657h
065c 15        dec     d
065d 2822      jr      z,0681h
065f f28506    jp      p,0685h
0662 266f      ld      h,6fh
0664 cb0d      rrc     l
0666 0d        dec     c
0667 20e9      jr      nz,0652h
0669 1606      ld      d,06h
066b 0601      ld      b,01h
066d 0e08      ld      c,08h
066f 217f6f    ld      hl,6f7fh
0672 7e        ld      a,(hl)
0673 cb77      bit     6,a
0675 281f      jr      z,0696h
0677 cb0d      rrc     l
0679 0d        dec     c
067a 15        dec     d
067b 20f5      jr      nz,0672h
067d 01ffff    ld      bc,0ffffh
0680 c9        ret     

0681 2efe      ld      l,0feh
0683 18dd      jr      0662h
0685 25        dec     h
0686 0d        dec     c
0687 18c9      jr      0652h
0689 5f        ld      e,a
068a 3e06      ld      a,06h
068c b9        cp      c
068d 2008      jr      nz,0697h
068f 3e03      ld      a,03h
0691 b8        cp      b
0692 30c6      jr      nc,065ah
0694 1801      jr      0697h
0696 5f        ld      e,a
0697 ed43f185  ld      (85f1h),bc
069b 3e07      ld      a,07h
069d 90        sub     b
069e cb27      sla     a
06a0 cb27      sla     a
06a2 47        ld      b,a
06a3 cb27      sla     a
06a5 80        add     a,b
06a6 0d        dec     c
06a7 81        add     a,c
06a8 0600      ld      b,00h
06aa 4f        ld      c,a
06ab c9        ret     
06ac 0602      ld      b,02h
06ae cde50a    call    SETBANK1
06b1 210068    ld      hl,6800h
06b4 0604      ld      b,04h
06b6 7e        ld      a,(hl)
06b7 f680      or      80h
06b9 2f        cpl     
06ba b7        or      a
06bb 200d      jr      nz,06cah
06bd 24        inc     h
06be 2eff      ld      l,0ffh
06c0 10f4      djnz    06b6h
06c2 2f        cpl     
06c3 32f085    ld      (KEY_SCAN_CODE),a
06c6 af        xor     a
06c7 c3d30a    jp      0ad3h
06ca cdca05    call    05cah
06cd 21f085    ld      hl,KEY_SCAN_CODE
06d0 47        ld      b,a
06d1 79        ld      a,c
06d2 be        cp      (hl)
06d3 78        ld      a,b
06d4 28f0      jr      z,06c6h
06d6 b7        or      a
06d7 28e9      jr      z,06c2h
06d9 3eff      ld      a,0ffh
06db c3d30a    jp      0ad3h
06de 6e        ld      l,(hl)
06df 68        ld      l,b
06e0 79        ld      a,c
06e1 3637      ld      (hl),37h
06e3 75        ld      (hl),l
06e4 6a        ld      l,d
06e5 6d        ld      l,l
06e6 00        nop     
06e7 e41d15    call    po,151dh
06ea 62        ld      h,d
06eb 67        ld      h,a
06ec 74        ld      (hl),h
06ed 35        dec     (hl)
06ee 3869      jr      c,0759h
06f0 6b        ld      l,e
06f1 2c        inc     l
06f2 00        nop     
06f3 e5        push    hl
06f4 19        add     hl,de
06f5 7f        ld      a,a
06f6 76        halt    
06f7 66        ld      h,(hl)
06f8 72        ld      (hl),d
06f9 34        inc     (hl)
06fa 39        add     hl,sp
06fb 6f        ld      l,a
06fc 6c        ld      l,h
06fd 2ee3      ld      l,0e3h
06ff e608      and     08h
0701 de63      sbc     a,63h
0703 64        ld      h,h
0704 65        ld      h,l
0705 33        inc     sp
0706 3070      jr      nc,0778h
0708 3b        dec     sp
0709 2f        cpl     
070a e2e718    jp      po,18e7h
070d 5b        ld      e,e
070e 78        ld      a,b
070f 73        ld      (hl),e
0710 77        ld      (hl),a
0711 322d00    ld      (002dh),a
0714 27        daa     
0715 20e1      jr      nz,06f8h
0717 e8        ret     pe
0718 1c        inc     e
0719 5d        ld      e,l
071a 7a        ld      a,d
071b 61        ld      h,c
071c 71        ld      (hl),c
071d 313d00    ld      sp,003dh
0720 00        nop     
0721 60        ld      h,b
0722 e0        ret     po
0723 e9        jp      (hl)
0724 1e5c      ld      e,5ch
0726 00        nop     
0727 00        nop     
0728 09        add     hl,bc
0729 1b        dec     de
072a 00        nop     
072b 08        ex      af,af'
072c 0d        dec     c
072d ff        rst     38h
072e 00        nop     
072f 00        nop     
0730 00        nop     
0731 00        nop     
0732 4e        ld      c,(hl)
0733 48        ld      c,b
0734 59        ld      e,c
0735 5e        ld      e,(hl)
0736 2655      ld      h,55h
0738 4a        ld      c,d
0739 4d        ld      c,l
073a 00        nop     
073b ee1d      xor     1dh
073d 15        dec     d
073e 42        ld      b,d
073f 47        ld      b,a
0740 54        ld      d,h
0741 25        dec     h
0742 2a494b    ld      hl,(4b49h)
0745 3c        inc     a
0746 00        nop     
0747 ef        rst     28h
0748 19        add     hl,de
0749 7f        ld      a,a
074a 56        ld      d,(hl)
074b 46        ld      b,(hl)
074c 52        ld      d,d
074d 24        inc     h
074e 284f      jr      z,079fh
0750 4c        ld      c,h
0751 3eed      ld      a,0edh
0753 f0        ret     p
0754 08        ex      af,af'
0755 df        rst     18h
0756 43        ld      b,e
0757 44        ld      b,h
0758 45        ld      b,l
0759 23        inc     hl
075a 29        add     hl,hl
075b 50        ld      d,b
075c 3a3fec    ld      a,(0ec3fh)
075f f1        pop     af
0760 187b      jr      07ddh
0762 58        ld      e,b
0763 53        ld      d,e
0764 57        ld      d,a
0765 40        ld      b,b
0766 5f        ld      e,a
0767 00        nop     
0768 2220eb    ld      (0eb20h),hl
076b f21f7d    jp      p,7d1fh
076e 5a        ld      e,d
076f 41        ld      b,c
0770 51        ld      d,c
0771 212b00    ld      hl,002bh
0774 00        nop     
0775 7e        ld      a,(hl)
0776 eaf31e    jp      pe,1ef3h
0779 7c        ld      a,h
077a 00        nop     
077b 00        nop     
077c 09        add     hl,bc
077d 1b        dec     de
077e 00        nop     
077f 08        ex      af,af'
0780 0d        dec     c
0781 ff        rst     38h
0782 00        nop     
0783 00        nop     
0784 00        nop     
0785 00        nop     
0786 94        sub     h
0787 a0        and     b
0788 a2        and     d
0789 07        rlca    
078a 7b        ld      a,e
078b 8b        adc     a,e
078c 8f        adc     a,a
078d aa        xor     d
078e 00        nop     
078f f8        ret     m
0790 1d        dec     e
0791 15        dec     d
0792 9f        sbc     a,a
0793 89        adc     a,c
0794 db1f      in      a,(1fh)
0796 7d        ld      a,l
0797 85        add     a,l
0798 8a        adc     a,d
0799 08        ex      af,af'
079a 00        nop     
079b f9        ld      sp,hl
079c 19        add     hl,de
079d 7f        ld      a,a
079e 9e        sbc     a,(hl)
079f 8d        adc     a,l
07a0 8e        adc     a,(hl)
07a1 1c        inc     e
07a2 5b        ld      e,e
07a3 88        adc     a,b
07a4 93        sub     e
07a5 19        add     hl,de
07a6 f7        rst     30h
07a7 fa08de    jp      m,0de08h
07aa 03        inc     bc
07ab 86        add     a,(hl)
07ac 83        add     a,e
07ad 1e5d      ld      e,5dh
07af 91        sub     c
07b0 15        dec     d
07b1 18f6      jr      07a9h
07b3 fb        ei      
07b4 185b      jr      0811h
07b6 99        sbc     a,c
07b7 ddda095c  jp      c,5c09h
07bb 00        nop     
07bc 7f        ld      a,a
07bd 1d        dec     e
07be f5        push    af
07bf fc1c5d    call    m,5d1ch
07c2 97        sub     a
07c3 ab        xor     e
07c4 82        add     a,d
07c5 00        nop     
07c6 7c        ld      a,h
07c7 00        nop     
07c8 00        nop     
07c9 ff        rst     38h
07ca f4fd1e    call    p,1efdh
07cd 5c        ld      e,h
07ce 00        nop     
07cf 00        nop     
07d0 09        add     hl,bc
07d1 1b        dec     de
07d2 00        nop     
07d3 08        ex      af,af'
07d4 0d        dec     c
07d5 ff        rst     38h
07d6 00        nop     
07d7 00        nop     
07d8 00        nop     
07d9 00        nop     
07da 6e        ld      l,(hl)
07db 68        ld      l,b
07dc 79        ld      a,c
07dd 5d        ld      e,l
07de 7d        ld      a,l
07df 75        ld      (hl),l
07e0 6a        ld      l,d
07e1 2c        inc     l
07e2 00        nop     
07e3 e41d15    call    po,151dh
07e6 62        ld      h,d
07e7 67        ld      h,a
07e8 74        ld      (hl),h
07e9 2821      jr      z,080ch
07eb 69        ld      l,c
07ec 6b        ld      l,e
07ed 3b        dec     sp
07ee 00        nop     
07ef e5        push    hl
07f0 19        add     hl,de
07f1 7f        ld      a,a
07f2 76        halt    
07f3 66        ld      h,(hl)
07f4 72        ld      (hl),d
07f5 27        daa     
07f6 5c        ld      e,h
07f7 6f        ld      l,a
07f8 6c        ld      l,h
07f9 3ae3e6    ld      a,(0e6e3h)
07fc 08        ex      af,af'
07fd 3c        inc     a
07fe 63        ld      h,e
07ff 64        ld      h,h
0800 65        ld      h,l
0801 224070    ld      (7040h),hl
0804 6d        ld      l,l
0805 3d        dec     a
0806 e2e718    jp      po,18e7h
0809 5e        ld      e,(hl)
080a 78        ld      a,b
080b 73        ld      (hl),e
080c 7a        ld      a,d
080d 7b        ld      a,e
080e 29        add     hl,hl
080f 00        nop     
0810 7c        ld      a,h
0811 20e1      jr      nz,07f4h
0813 e8        ret     pe
0814 1c        inc     e
0815 de77      sbc     a,77h
0817 71        ld      (hl),c
0818 61        ld      h,c
0819 262d      ld      h,2dh
081b 00        nop     
081c 00        nop     
081d 24        inc     h
081e e0        ret     po
081f e9        jp      (hl)
0820 1e23      ld      e,23h
0822 00        nop     
0823 00        nop     
0824 09        add     hl,bc
0825 1b        dec     de
0826 00        nop     
0827 08        ex      af,af'
0828 0d        dec     c
0829 ff        rst     38h
082a 00        nop     
082b 00        nop     
082c 00        nop     
082d 00        nop     
082e 4e        ld      c,(hl)
082f 48        ld      c,b
0830 59        ld      e,c
0831 3637      ld      (hl),37h
0833 55        ld      d,l
0834 4a        ld      c,d
0835 3f        ccf     
0836 00        nop     
0837 ee1d      xor     1dh
0839 15        dec     d
083a 42        ld      b,d
083b 47        ld      b,a
083c 54        ld      d,h
083d 35        dec     (hl)
083e 3849      jr      c,0889h
0840 4b        ld      c,e
0841 2e00      ld      l,00h
0843 ef        rst     28h
0844 19        add     hl,de
0845 7f        ld      a,a
0846 56        ld      d,(hl)
0847 46        ld      b,(hl)
0848 52        ld      d,d
0849 34        inc     (hl)
084a 39        add     hl,sp
084b 4f        ld      c,a
084c 4c        ld      c,h
084d 2f        cpl     
084e edf0      db      0edh, 0f0h       ; Undocumented 8 T-State NOP
0850 08        ex      af,af'
0851 3e43      ld      a,43h
0853 44        ld      b,h
0854 45        ld      b,l
0855 33        inc     sp
0856 3050      jr      nc,08a8h
0858 4d        ld      c,l
0859 2b        dec     hl
085a ecf118    call    pe,18f1h
085d 7e        ld      a,(hl)
085e 58        ld      e,b
085f 53        ld      d,e
0860 5a        ld      e,d
0861 325b00    ld      (005bh),a
0864 25        dec     h
0865 20eb      jr      nz,0852h
0867 f21fdf    jp      p,0df1fh
086a 57        ld      d,a
086b 51        ld      d,c
086c 41        ld      b,c
086d 315f00    ld      sp,005fh
0870 00        nop     
0871 2aeaf3    ld      hl,(0f3eah)
0874 1e60      ld      e,60h
0876 00        nop     
0877 00        nop     
0878 09        add     hl,bc
0879 1b        dec     de
087a 00        nop     
087b 08        ex      af,af'
087c 0d        dec     c
087d ff        rst     38h
087e 00        nop     
087f 00        nop     
0880 00        nop     
0881 00        nop     
0882 94        sub     h
0883 a0        and     b
0884 a2        and     d
0885 07        rlca    
0886 23        inc     hl
0887 8b        adc     a,e
0888 8f        adc     a,a
0889 aa        xor     d
088a 00        nop     
088b f8        ret     m
088c 1d        dec     e
088d 15        dec     d
088e 9f        sbc     a,a
088f 89        adc     a,c
0890 db1f      in      a,(1fh)
0892 7e        ld      a,(hl)
0893 85        add     a,l
0894 8a        adc     a,d
0895 08        ex      af,af'
0896 00        nop     
0897 f9        ld      sp,hl
0898 19        add     hl,de
0899 7f        ld      a,a
089a 9e        sbc     a,(hl)
089b 8d        adc     a,l
089c 8e        adc     a,(hl)
089d 1c        inc     e
089e 5e        ld      e,(hl)
089f 88        adc     a,b
08a0 93        sub     e
08a1 19        add     hl,de
08a2 f7        rst     30h
08a3 fa083c    jp      m,3c08h
08a6 03        inc     bc
08a7 86        add     a,(hl)
08a8 83        add     a,e
08a9 1e3c      ld      e,3ch
08ab 91        sub     c
08ac 15        dec     d
08ad 18f6      jr      08a5h
08af fb        ei      
08b0 185e      jr      0910h
08b2 99        sbc     a,c
08b3 ddda093e  jp      c,3e09h
08b7 00        nop     
08b8 7f        ld      a,a
08b9 1d        dec     e
08ba f5        push    af
08bb fc1cde    call    m,0de1ch
08be 97        sub     a
08bf ab        xor     e
08c0 82        add     a,d
08c1 00        nop     
08c2 60        ld      h,b
08c3 00        nop     
08c4 00        nop     
08c5 ff        rst     38h
08c6 f4fd1e    call    p,1efdh
08c9 23        inc     hl
08ca 00        nop     
08cb 00        nop     
08cc 09        add     hl,bc
08cd 1b        dec     de
08ce 00        nop     
08cf 08        ex      af,af'
08d0 0d        dec     c
08d1 ff        rst     38h
08d2 00        nop     
08d3 00        nop     
08d4 00        nop     
08d5 00        nop     
08d6 6e        ld      l,(hl)
08d7 68        ld      l,b
08d8 7a        ld      a,d
08d9 3637      ld      (hl),37h
08db 75        ld      (hl),l
08dc 6a        ld      l,d
08dd 6d        ld      l,l
08de 00        nop     
08df e41d15    call    po,151dh
08e2 62        ld      h,d
08e3 67        ld      h,a
08e4 74        ld      (hl),h
08e5 35        dec     (hl)
08e6 3869      jr      c,0951h
08e8 6b        ld      l,e
08e9 2c        inc     l
08ea 00        nop     
08eb e5        push    hl
08ec 19        add     hl,de
08ed 7f        ld      a,a
08ee 76        halt    
08ef 66        ld      h,(hl)
08f0 72        ld      (hl),d
08f1 34        inc     (hl)
08f2 39        add     hl,sp
08f3 6f        ld      l,a
08f4 6c        ld      l,h
08f5 2ee3      ld      l,0e3h
08f7 e608      and     08h
08f9 27        daa     
08fa 63        ld      h,e
08fb 64        ld      h,h
08fc 65        ld      h,l
08fd 33        inc     sp
08fe 3070      jr      nc,0970h
0900 7c        ld      a,h
0901 2d        dec     l
0902 e2e718    jp      po,18e7h
0905 7d        ld      a,l
0906 78        ld      a,b
0907 73        ld      (hl),e
0908 77        ld      (hl),a
0909 327e00    ld      (007eh),a
090c 7b        ld      a,e
090d 20e1      jr      nz,08f0h
090f e8        ret     pe
0910 1c        inc     e
0911 3c        inc     a
0912 79        ld      a,c
0913 61        ld      h,c
0914 71        ld      (hl),c
0915 312b00    ld      sp,002bh
0918 00        nop     
0919 23        inc     hl
091a e0        ret     po
091b e9        jp      (hl)
091c 1e3e      ld      e,3eh
091e 00        nop     
091f 00        nop     
0920 09        add     hl,bc
0921 1b        dec     de
0922 00        nop     
0923 08        ex      af,af'
0924 0d        dec     c
0925 ff        rst     38h
0926 00        nop     
0927 00        nop     
0928 00        nop     
0929 00        nop     
092a 4e        ld      c,(hl)
092b 48        ld      c,b
092c 5a        ld      e,d
092d 262f      ld      h,2fh
092f 55        ld      d,l
0930 4a        ld      c,d
0931 4d        ld      c,l
0932 00        nop     
0933 ee1d      xor     1dh
0935 15        dec     d
0936 42        ld      b,d
0937 47        ld      b,a
0938 54        ld      d,h
0939 25        dec     h
093a 2849      jr      z,0985h
093c 4b        ld      c,e
093d 3b        dec     sp
093e 00        nop     
093f ef        rst     28h
0940 19        add     hl,de
0941 7f        ld      a,a
0942 56        ld      d,(hl)
0943 46        ld      b,(hl)
0944 52        ld      d,d
0945 24        inc     h
0946 29        add     hl,hl
0947 4f        ld      c,a
0948 4c        ld      c,h
0949 3aedf0    ld      a,(0f0edh)
094c 08        ex      af,af'
094d 60        ld      h,b
094e 43        ld      b,e
094f 44        ld      b,h
0950 45        ld      b,l
0951 40        ld      b,b
0952 3d        dec     a
0953 50        ld      d,b
0954 5c        ld      e,h
0955 5f        ld      e,a
0956 ecf118    call    pe,18f1h
0959 5d        ld      e,l
095a 58        ld      e,b
095b 53        ld      d,e
095c 57        ld      d,a
095d 223f00    ld      (003fh),hl
0960 5b        ld      e,e
0961 20eb      jr      nz,094eh
0963 f21f3c    jp      p,3c1fh
0966 59        ld      e,c
0967 41        ld      b,c
0968 51        ld      d,c
0969 212a00    ld      hl,002ah
096c 00        nop     
096d 5e        ld      e,(hl)
096e eaf31e    jp      pe,1ef3h
0971 3e00      ld      a,00h
0973 00        nop     
0974 09        add     hl,bc
0975 1b        dec     de
0976 00        nop     
0977 08        ex      af,af'
0978 0d        dec     c
0979 ff        rst     38h
097a 00        nop     
097b 00        nop     
097c 00        nop     
097d 00        nop     
097e 94        sub     h
097f a0        and     b
0980 a2        and     d
0981 07        rlca    
0982 27        daa     
0983 8b        adc     a,e
0984 8f        adc     a,a
0985 aa        xor     d
0986 00        nop     
0987 f8        ret     m
0988 1d        dec     e
0989 15        dec     d
098a 9f        sbc     a,a
098b 89        adc     a,c
098c db1f      in      a,(1fh)
098e 3c        inc     a
098f 85        add     a,l
0990 8a        adc     a,d
0991 08        ex      af,af'
0992 00        nop     
0993 f9        ld      sp,hl
0994 19        add     hl,de
0995 7f        ld      a,a
0996 9e        sbc     a,(hl)
0997 8d        adc     a,l
0998 8e        adc     a,(hl)
0999 1c        inc     e
099a 3e88      ld      a,88h
099c 93        sub     e
099d 19        add     hl,de
099e f7        rst     30h
099f fa0827    jp      m,2708h
09a2 03        inc     bc
09a3 86        add     a,(hl)
09a4 83        add     a,e
09a5 1e5d      ld      e,5dh
09a7 91        sub     c
09a8 15        dec     d
09a9 18f6      jr      09a1h
09ab fb        ei      
09ac 187d      jr      0a2bh
09ae 99        sbc     a,c
09af ddda097d  jp      c,7d09h
09b3 00        nop     
09b4 7f        ld      a,a
09b5 1d        dec     e
09b6 f5        push    af
09b7 fc1c3c    call    m,3c1ch
09ba 97        sub     a
09bb ab        xor     e
09bc 82        add     a,d
09bd 00        nop     
09be 60        ld      h,b
09bf 00        nop     
09c0 00        nop     
09c1 ff        rst     38h
09c2 f4fd1e    call    p,1efdh
09c5 3e00      ld      a,00h
09c7 00        nop     
09c8 09        add     hl,bc
09c9 1b        dec     de
09ca 00        nop     
09cb 08        ex      af,af'
09cc 0d        dec     c
09cd ff        rst     38h
09ce 00        nop     
09cf 00        nop     
09d0 00        nop     
09d1 00        nop     
09d2 4f        ld      c,a
09d3 cd4f0b    call    0b4fh
09d6 d8        ret     c
09d7 db00      in      a,(00h)
09d9 1f        rra     
09da 38f7      jr      c,09d3h
09dc 79        ld      a,c
09dd d30e      out     (0eh),a
09df d30d      out     (0dh),a
09e1 c9        ret     
09e2 216400    ld      hl,0064h
09e5 110600    ld      de,0006h
09e8 0602      ld      b,02h
09ea cde50a    call    SETBANK1
09ed 3af985    ld      a,(85f9h)
09f0 cb23      sla     e
09f2 cb12      rl      d
09f4 f5        push    af
09f5 f1        pop     af
09f6 ee01      xor     01h
09f8 320068    ld      (6800h),a
09fb f5        push    af
09fc e5        push    hl
09fd 2b        dec     hl
09fe 7c        ld      a,h
09ff b5        or      l
0a00 20fb      jr      nz,09fdh
0a02 e1        pop     hl
0a03 1b        dec     de
0a04 7a        ld      a,d
0a05 b3        or      e
0a06 20ed      jr      nz,09f5h
0a08 f1        pop     af
0a09 c3d30a    jp      0ad3h

; interrupt 0038
0a0c f5        push    af
0a0d c5        push    bc
0a0e d5        push    de
0a0f e5        push    hl
0a10 dde5      push    ix
0a12 fde5      push    iy
0a14 cd1280    call    8012h                    ; user defined interrupt routine
0a17 cd2e0a    call    INTERRUPT_FLASH_CURSOR
0a1a cd560a    call    INTERRUPT_3
0a1d cda90a    call    INTERRUPT_KEY_REPEAT
0a20 cdb80a    call    INTERRUPT_4
0a23 fde1      pop     iy
0a25 dde1      pop     ix
0a27 e1        pop     hl
0a28 d1        pop     de
0a29 c1        pop     bc
0a2a f1        pop     af
0a2b fb        ei      
0a2c ed4d      reti    
;******************************* interrupt ends here

;0a2e
INTERRUPT_FLASH_CURSOR:
   ld      hl,85f9h
   bit     3,(hl)
   ret     nz
   ld      hl,CAPSLOCK
   bit     6,(hl)
   ret     nz
   ld      hl,85fah
   bit     5,(hl)
   ret     z
   ld      hl,8606h            ; flashing cursor check
   dec     (hl)
   ret     nz
   ld      a,(8607h)
   ld      (hl),a              ; restore counter
   call    RESTORE_BANK1
   ld      hl,(85e2h)          ; cursor address
   ld      a,(hl)
   xor     80h                 ; negate
   ld      (hl),a              ; draw cursor
   jp      0ad3h               ; something with bank 1

;0a56
INTERRUPT_3:
0a56 0602      ld      b,02h      ; { switch to bank 2
0a58 cde50a    call    SETBANK1      ; }
0a5b 21ff6a    ld      hl,6affh
0a5e cb76      bit     6,(hl)
0a60 2811      jr      z,0a73h
0a62 cda30a    call    LABEL_0aa3
0a65 202f      jr      nz,0a96h
0a67 21f76f    ld      hl,6ff7h
0a6a cb6e      bit     5,(hl)
0a6c 2028      jr      nz,0a96h
0a6e 3e3f      ld      a,3fh
0a70 32f085    ld      (KEY_SCAN_CODE),a
0a73 21fb85    ld      hl,CAPSLOCK
0a76 cb6e      bit     5,(hl)
0a78 2021      jr      nz,0a9bh
0a7a cbee      set     5,(hl)
0a7c 3af985    ld      a,(85f9h)
0a7f cb77      bit     6,a
0a81 200d      jr      nz,0a90h
0a83 cbf7      set     6,a
0a85 cb9e      res     3,(hl)
0a87 320068    ld      (6800h),a
0a8a 32f985    ld      (85f9h),a
0a8d c3d30a    jp      0ad3h
0a90 cbb7      res     6,a
0a92 cbde      set     3,(hl)
0a94 18f1      jr      0a87h
0a96 21fb85    ld      hl,CAPSLOCK
0a99 cbae      res     5,(hl)
0a9b c3d30a    jp      0ad3h
0a9e 21fe6f    ld      hl,6ffeh
0aa1 1803      jr      0aa6

LABEL_0aa3:
0aa3 21fd6f    ld      hl,6ffdh

LABEL_0aa6:
0aa6 cb76      bit     6,(hl)
0aa8 c9        ret     

;0aa9
INTERRUPT_KEY_REPEAT:
0aa9 21fb85    ld      hl,CAPSLOCK
0aac cb66      bit     4,(hl)
0aae c8        ret     z
0aaf 21f485    ld      hl,85f4h
0ab2 35        dec     (hl)
0ab3 7e        ld      a,(hl)
0ab4 3c        inc     a
0ab5 c0        ret     nz
0ab6 77        ld      (hl),a
0ab7 c9        ret     

;0ab8
INTERRUPT_4:
   ld   hl,85fah
   bit  2,(hl)
   res  2,(hl)
   if zero then jr INTERRUPT_4
   bit  5,(hl)
   if zero then jr INTERRUPT_4
   bit  3,(hl)
   if zero then jp 09e2

;0aca
INTERRUPT_41:              ; small delay, I guess related to keypress?
   ld bc,000ch
   do
      dec bc
      ld  a,b
      or  c
   while not zero 
   ret    

;0ad3
LABEL_0ad3:
   ex      (sp),hl             ; loads HL from (sp)
   push    af                  ; and writes L in port 41h
   ld      a,l
   ld      (BANK1_LATCH),a
   out     (41h),a
   pop     af
   pop     hl
   ret     

;0ade
RESTORE_BANK1:
   ld    ix,8664h
   ld    b,(ix+00h)
   cont  SETBANK1

;0ae5
SETBANK1:                     ; sets BANK1 = b (and returns old value in stack?)
   ld    ix,(BANK1_LATCH)
   ex    (sp),ix
   push  af
   ld    a,b
   ld    (BANK1_LATCH),a
   out   (41h),a
   pop   af
   jp    (ix)

; comes here from boot routine
; 0af5
SOME_KEY:
   ld      b,02h            ; I/O in bank 1
   call    SETBANK1         ;

   ld      a, (6fdfh)       ; read AZERTY/QWERTZ layout key
   ld      hl, CAPSLOCK
   res     0,(hl)           ; reset AZERTY flag
   res     1,(hl)           ; reset QWERTZ flag
   set     3,(hl)

   bit 5,a
   if zero then 
      set  0,(hl)           ; BIT 0 = AZERTY
      ld   hl,07dah
   else
      bit 4,a               
      if zero then
         set 1,(hl)         ; BIT 0 = QWERTZ
         ld  hl,08d6h   
      else         
         ld  hl,06deh
      end if
   endif    

0b1f 115400    ld      de,0054h
0b22 22ea85    ld      (85eah),hl
0b25 19        add     hl,de
0b26 22ec85    ld      (85ech),hl
0b29 19        add     hl,de
0b2a 22ee85    ld      (85eeh),hl
0b2d af        xor     a
0b2e cda30a    call    0aa3h
0b31 2001      jr      nz,0b34h
0b33 3c        inc     a
0b34 32fd85    ld      (TEXT80),a
0b37 f690      or      90h
0b39 47        ld      b,a
0b3a 3a6486    ld      a,(8664h)
0b3d fe07      cp      07h
0b3f 78        ld      a,b
0b40 2802      jr      z,0b44h
0b42 f608      or      08h
0b44 d344      out     (44h),a
0b46 326986    ld      (8669h),a
0b49 cd5b0b    call    0b5bh
0b4c c3d30a    jp      0ad3h

;0b4f
GETKEY:
   ;
   ; reads the keyboard and updates KEY_SCAN_CODE and KEYASCII
   ;   
   ld     hl, KEY_SCAN_CODE
   ld     d,(hl)
   call   READKEY
   ld     (hl),d
   ret  

; apparently unused bytes
0b58 00        nop     
0b59 00        nop     
0b5a 00        nop    

0b5b 0606      ld      b,06h
0b5d cde50a    call    SETBANK1
0b60 0e03      ld      c,03h
0b62 210040    ld      hl,4000h
0b65 117b0b    ld      de,0b7bh
0b68 060a      ld      b,0ah
0b6a 1a        ld      a,(de)
0b6b 77        ld      (hl),a
0b6c 23        inc     hl
0b6d 13        inc     de
0b6e b7        or      a
0b6f 20f9      jr      nz,0b6ah
0b71 24        inc     h
0b72 6f        ld      l,a
0b73 10f5      djnz    0b6ah
0b75 0d        dec     c
0b76 20ed      jr      nz,0b65h
0b78 c3d30a    jp      0ad3h

0b7b 1f        rra     
0b7c 4c        ld      c,h
0b7d 49        ld      c,c
0b7e 53        ld      d,e
0b7f 54        ld      d,h
0b80 0d        dec     c
0b81 00        nop     
0b82 52        ld      d,d
0b83 55        ld      d,l
0b84 4e        ld      c,(hl)
0b85 1e0d      ld      e,0dh
0b87 00        nop     
0b88 54        ld      d,h
0b89 45        ld      b,l
0b8a 58        ld      e,b
0b8b 54        ld      d,h
0b8c 2034      jr      nz,0bc2h
0b8e 301e      jr      nc,0baeh
0b90 0d        dec     c
0b91 00        nop     
0b92 54        ld      d,h
0b93 45        ld      b,l
0b94 58        ld      e,b
0b95 54        ld      d,h
0b96 2038      jr      nz,0bd0h
0b98 301e      jr      nc,0bb8h
0b9a 0d        dec     c
0b9b 00        nop     
0b9c 43        ld      b,e
0b9d 4f        ld      c,a
0b9e 4c        ld      c,h
0b9f 4f        ld      c,a
0ba0 52        ld      d,d
0ba1 2031      jr      nz,0bd4h
0ba3 35        dec     (hl)
0ba4 2c        inc     l
0ba5 302c      jr      nc,0bd3h
0ba7 301e      jr      nc,0bc7h
0ba9 0d        dec     c
0baa 00        nop     
0bab 43        ld      b,e
0bac 4f        ld      c,a
0bad 4c        ld      c,h
0bae 4f        ld      c,a
0baf 52        ld      d,d
0bb0 2039      jr      nz,0bebh
0bb2 2c        inc     l
0bb3 312c39    ld      sp,392ch
0bb6 1e0d      ld      e,0dh
0bb8 00        nop     
0bb9 50        ld      d,b
0bba 52        ld      d,d
0bbb 49        ld      c,c
0bbc 4e        ld      c,(hl)
0bbd 54        ld      d,h
0bbe 2043      jr      nz,0c03h
0bc0 48        ld      c,b
0bc1 52        ld      d,d
0bc2 24        inc     h
0bc3 2832      jr      z,0bf7h
0bc5 37        scf     
0bc6 29        add     hl,hl
0bc7 3b        dec     sp
0bc8 224122    ld      (2241h),hl
0bcb 1e0d      ld      e,0dh
0bcd 00        nop     
0bce 50        ld      d,b
0bcf 52        ld      d,d
0bd0 49        ld      c,c
0bd1 4e        ld      c,(hl)
0bd2 54        ld      d,h
0bd3 2043      jr      nz,0c18h
0bd5 48        ld      c,b
0bd6 52        ld      d,d
0bd7 24        inc     h
0bd8 2832      jr      z,0c0ch
0bda 37        scf     
0bdb 29        add     hl,hl
0bdc 3b        dec     sp
0bdd 224222    ld      (2242h),hl
0be0 1e0d      ld      e,0dh
0be2 00        nop     
0be3 4b        ld      c,e
0be4 45        ld      b,l
0be5 59        ld      e,c
0be6 2053      jr      nz,0c3bh
0be8 1e0d      ld      e,0dh
0bea 00        nop     
0beb 4b        ld      c,e
0bec 45        ld      b,l
0bed 59        ld      e,c
0bee 2042      jr      nz,0c32h
0bf0 1e0d      ld      e,0dh
0bf2 00        nop     

   ld      a,3fh     ; prints "? "
   call    57d9h     ;   
   ld      a,20h     ;
   call    57d9h     ; 
   xor     a

0bfe 323080    ld      (LAST_KEY_ASCII),a
0c01 320d85    ld      (850dh),a
0c04 c31c0c    jp      0c1ch
0c07 cdbc58    call    58bch
0c0a 1835      jr      0c41h
0c0c 70        ld      (hl),b
0c0d af        xor     a
0c0e 323080    ld      (LAST_KEY_ASCII),a
0c11 320d85    ld      (850dh),a
0c14 2a3b80    ld      hl,(803bh)
0c17 7c        ld      a,h
0c18 b5        or      l
0c19 ca130d    jp      z,0d13h
0c1c 2a3b80    ld      hl,(803bh)
0c1f 7c        ld      a,h
0c20 b5        or      l
0c21 ca000d    jp      z,0d00h
0c24 cdbc58    call    58bch
0c27 180d      jr      0c36h
0c29 05        dec     b
0c2a 2b        dec     hl
0c2b cdd957    call    57d9h
0c2e 20d7      jr      nz,0c07h
0c30 cdd957    call    57d9h
0c33 cd1c59    call    591ch
0c36 218982    ld      hl,8289h
0c39 0601      ld      b,01h
0c3b f5        push    af
0c3c af        xor     a
0c3d 323980    ld      (8039h),a
0c40 f1        pop     af
0c41 4f        ld      c,a
0c42 79        ld      a,c
0c43 fe07      cp      07h
0c45 285e      jr      z,0ca5h
0c47 fe03      cp      03h
0c49 cc1460    call    z,6014h
0c4c 37        scf     
0c4d c8        ret     z
0c4e fe0d      cp      0dh
0c50 cae30c    jp      z,0ce3h
0c53 fe09      cp      09h
0c55 284e      jr      z,0ca5h
0c57 fe0a      cp      0ah
0c59 2007      jr      nz,0c62h
0c5b 05        dec     b
0c5c ca0d0c    jp      z,0c0dh
0c5f 04        inc     b
0c60 1843      jr      0ca5h
0c62 fe15      cp      15h
0c64 cc1460    call    z,6014h
0c67 ca0d0c    jp      z,0c0dh
0c6a fe08      cp      08h
0c6c 2011      jr      nz,0c7fh
0c6e 05        dec     b
0c6f ca1c0c    jp      z,0c1ch
0c72 cdd957    call    57d9h
0c75 3e20      ld      a,20h
0c77 cdd957    call    57d9h
0c7a 3e08      ld      a,08h
0c7c c32a0c    jp      0c2ah
0c7f fe18      cp      18h
0c81 2005      jr      nz,0c88h
0c83 3e23      ld      a,23h
0c85 c3300c    jp      0c30h
0c88 fe12      cp      12h
0c8a 2014      jr      nz,0ca0h
0c8c c5        push    bc
0c8d d5        push    de
0c8e e5        push    hl
0c8f 3600      ld      (hl),00h
0c91 cd1c59    call    591ch
0c94 218982    ld      hl,8289h
0c97 cd6f35    call    356fh
0c9a e1        pop     hl
0c9b d1        pop     de
0c9c c1        pop     bc
0c9d c3070c    jp      0c07h
0ca0 fe20      cp      20h
0ca2 da070c    jp      c,0c07h
0ca5 78        ld      a,b
0ca6 b7        or      a
0ca7 2018      jr      nz,0cc1h
0ca9 e5        push    hl
0caa 2a3b80    ld      hl,(803bh)
0cad 7c        ld      a,h
0cae b5        or      l
0caf e1        pop     hl
0cb0 3e07      ld      a,07h
0cb2 2811      jr      z,0cc5h
0cb4 218982    ld      hl,8289h
0cb7 cd2b29    call    292bh
0cba eb        ex      de,hl
0cbb 223f80    ld      (803fh),hl
0cbe c37e26    jp      267eh
0cc1 79        ld      a,c
0cc2 71        ld      (hl),c
0cc3 23        inc     hl
0cc4 04        inc     b
0cc5 cdd957    call    57d9h
0cc8 d60a      sub     0ah
0cca c2070c    jp      nz,0c07h
0ccd 328c83    ld      (838ch),a
0cd0 3e0d      ld      a,0dh
0cd2 cdd957    call    57d9h
0cd5 cdbc58    call    58bch
0cd8 b7        or      a
0cd9 28fa      jr      z,0cd5h
0cdb fe0d      cp      0dh
0cdd ca070c    jp      z,0c07h
0ce0 c3410c    jp      0c41h
0ce3 3a0d85    ld      a,(850dh)
0ce6 b7        or      a
0ce7 ca1759    jp      z,5917h
0cea af        xor     a
0ceb 77        ld      (hl),a
0cec 218882    ld      hl,8288h
0cef c9        ret     
0cf0 f5        push    af
0cf1 3e00      ld      a,00h
0cf3 320d85    ld      (850dh),a
0cf6 f1        pop     af
0cf7 fe3b      cp      3bh
0cf9 c0        ret     nz
0cfa 320d85    ld      (850dh),a
0cfd c31a28    jp      281ah
0d00 3ae985    ld      a,(85e9h)
0d03 320386    ld      (8603h),a
0d06 3ae885    ld      a,(85e8h)
0d09 320286    ld      (8602h),a
0d0c 21fc85    ld      hl,85fch
0d0f cbce      set     1,(hl)
0d11 180f      jr      0d22h
0d13 af        xor     a
0d14 320386    ld      (8603h),a
0d17 3ae485    ld      a,(85e4h)
0d1a 320286    ld      (8602h),a
0d1d 21fc85    ld      hl,85fch
0d20 cb8e      res     1,(hl)
0d22 21fa85    ld      hl,85fah
0d25 cbee      set     5,(hl)
0d27 fb        ei      
0d28 cdbc58    call    58bch
0d2b fe03      cp      03h
0d2d cad30d    jp      z,0dd3h
0d30 21fc85    ld      hl,85fch
0d33 cb4e      bit     1,(hl)
0d35 2828      jr      z,0d5fh
0d37 fe1d      cp      1dh
0d39 28ed      jr      z,0d28h
0d3b fe18      cp      18h
0d3d 28e9      jr      z,0d28h
0d3f fe1f      cp      1fh
0d41 28e5      jr      z,0d28h
0d43 fe1c      cp      1ch
0d45 28e1      jr      z,0d28h
0d47 fe08      cp      08h
0d49 2014      jr      nz,0d5fh
0d4b 3ae885    ld      a,(85e8h)
0d4e 210286    ld      hl,8602h
0d51 be        cp      (hl)
0d52 2009      jr      nz,0d5dh
0d54 3ae985    ld      a,(85e9h)
0d57 210386    ld      hl,8603h
0d5a be        cp      (hl)
0d5b 28cb      jr      z,0d28h
0d5d 3e08      ld      a,08h
0d5f fe0d      cp      0dh
0d61 caf00d    jp      z,0df0h
0d64 feff      cp      0ffh
0d66 200a      jr      nz,0d72h
0d68 3afc85    ld      a,(85fch)
0d6b ee01      xor     01h
0d6d 32fc85    ld      (85fch),a
0d70 18b6      jr      0d28h
0d72 21fc85    ld      hl,85fch
0d75 cb46      bit     0,(hl)
0d77 280e      jr      z,0d87h
0d79 fe40      cp      40h
0d7b 38ab      jr      c,0d28h
0d7d fe7b      cp      7bh
0d7f 30a7      jr      nc,0d28h
0d81 e61f      and     1fh
0d83 f680      or      80h
0d85 1846      jr      0dcdh
0d87 fede      cp      0deh
0d89 380a      jr      c,0d95h
0d8b fee0      cp      0e0h
0d8d d2280d    jp      nc,0d28h
0d90 d650      sub     50h
0d92 c3cd0d    jp      0dcdh
0d95 b7        or      a
0d96 f2cd0d    jp      p,0dcdh
0d99 fe97      cp      97h
0d9b 2002      jr      nz,0d9fh
0d9d e67f      and     7fh
0d9f 47        ld      b,a
0da0 0e40      ld      c,40h
0da2 211c1c    ld      hl,1c1ch
0da5 0c        inc     c
0da6 23        inc     hl
0da7 54        ld      d,h
0da8 5d        ld      e,l
0da9 7e        ld      a,(hl)
0daa b7        or      a
0dab 28f8      jr      z,0da5h
0dad 23        inc     hl
0dae f2a90d    jp      p,0da9h
0db1 7e        ld      a,(hl)
0db2 b8        cp      b
0db3 20f1      jr      nz,0da6h
0db5 79        ld      a,c
0db6 cdd957    call    57d9h
0db9 1a        ld      a,(de)
0dba b7        or      a
0dbb 13        inc     de
0dbc f2b60d    jp      p,0db6h
0dbf e67f      and     7fh
0dc1 cdd957    call    57d9h
0dc4 78        ld      a,b
0dc5 fe17      cp      17h
0dc7 3e20      ld      a,20h
0dc9 2002      jr      nz,0dcdh
0dcb 3e28      ld      a,28h
0dcd cdd957    call    57d9h
0dd0 c3280d    jp      0d28h
0dd3 cd940e    call    0e94h
0dd6 cdde0a    call    RESTORE_BANK1
0dd9 cd7803    call    0378h
0ddc cdf804    call    04f8h
0ddf 21e585    ld      hl,NROWS
0de2 be        cp      (hl)
0de3 3804      jr      c,0de9h
0de5 cd8401    call    0184h
0de8 3d        dec     a
0de9 cdc00e    call    0ec0h
0dec 37        scf     
0ded c3890e    jp      0e89h
0df0 cd940e    call    0e94h
0df3 cdde0a    call    RESTORE_BANK1
0df6 cd7803    call    0378h
0df9 210286    ld      hl,8602h
0dfc 46        ld      b,(hl)
0dfd 3ae885    ld      a,(85e8h)
0e00 b8        cp      b
0e01 280c      jr      z,0e0fh
0e03 3d        dec     a
0e04 cd5503    call    0355h
0e07 2805      jr      z,0e0eh
0e09 3d        dec     a
0e0a b8        cp      b
0e0b f2040e    jp      p,0e04h
0e0e 3c        inc     a
0e0f f5        push    af
0e10 3a0386    ld      a,(8603h)
0e13 5f        ld      e,a
0e14 3ae785    ld      a,(NCOLS)
0e17 93        sub     e
0e18 47        ld      b,a
0e19 f1        pop     af
0e1a f5        push    af
0e1b cd0c05    call    050ch
0e1e 1600      ld      d,00h
0e20 19        add     hl,de
0e21 118982    ld      de,8289h
0e24 0e00      ld      c,00h
0e26 1808      jr      0e30h
0e28 cd0c05    call    050ch
0e2b f5        push    af
0e2c 3ae785    ld      a,(NCOLS)
0e2f 47        ld      b,a
0e30 7e        ld      a,(hl)
0e31 fe20      cp      20h
0e33 3004      jr      nc,0e39h
0e35 f680      or      80h
0e37 1806      jr      0e3fh
0e39 fea0      cp      0a0h
0e3b 3802      jr      c,0e3fh
0e3d e67f      and     7fh
0e3f fe22      cp      22h
0e41 ccab0e    call    z,0eabh
0e44 b7        or      a
0e45 fcb60e    call    m,0eb6h
0e48 12        ld      (de),a
0e49 23        inc     hl
0e4a 3afd85    ld      a,(TEXT80)
0e4d b7        or      a
0e4e 2002      jr      nz,0e52h
0e50 23        inc     hl
0e51 05        dec     b
0e52 13        inc     de
0e53 0c        inc     c
0e54 ccd90e    call    z,0ed9h
0e57 10d7      djnz    0e30h
0e59 f1        pop     af
0e5a 3c        inc     a
0e5b 21e585    ld      hl,NROWS
0e5e be        cp      (hl)
0e5f 300c      jr      nc,0e6dh
0e61 3d        dec     a
0e62 cd6e03    call    036eh
0e65 46        ld      b,(hl)
0e66 3c        inc     a
0e67 04        inc     b
0e68 05        dec     b
0e69 20bd      jr      nz,0e28h
0e6b 1808      jr      0e75h
0e6d d5        push    de
0e6e c5        push    bc
0e6f cd8401    call    0184h
0e72 3d        dec     a
0e73 c1        pop     bc
0e74 d1        pop     de
0e75 eb        ex      de,hl
0e76 f5        push    af
0e77 41        ld      b,c
0e78 04        inc     b
0e79 3600      ld      (hl),00h
0e7b 2b        dec     hl
0e7c 7e        ld      a,(hl)
0e7d e67f      and     7fh
0e7f fe20      cp      20h
0e81 2002      jr      nz,0e85h
0e83 10f4      djnz    0e79h
0e85 f1        pop     af
0e86 cdc00e    call    0ec0h
0e89 21fb85    ld      hl,CAPSLOCK
0e8c cbb6      res     6,(hl)
0e8e 218882    ld      hl,8288h
0e91 c3d30a    jp      0ad3h
0e94 3afc85    ld      a,(85fch)
0e97 e6f8      and     0f8h
0e99 32fc85    ld      (85fch),a
0e9c 21fb85    ld      hl,CAPSLOCK
0e9f cbf6      set     6,(hl)
0ea1 21fa85    ld      hl,85fah
0ea4 cb56      bit     2,(hl)
0ea6 20fc      jr      nz,0ea4h
0ea8 cbae      res     5,(hl)
0eaa c9        ret     
0eab f5        push    af
0eac 3afc85    ld      a,(85fch)
0eaf ee04      xor     04h
0eb1 32fc85    ld      (85fch),a
0eb4 f1        pop     af
0eb5 c9        ret     
0eb6 e5        push    hl
0eb7 21fc85    ld      hl,85fch
0eba cb56      bit     2,(hl)
0ebc e1        pop     hl
0ebd 2816      jr      z,0ed5h
0ebf c9        ret     
0ec0 32e885    ld      (85e8h),a
0ec3 cd0c05    call    050ch
0ec6 22e285    ld      (85e2h),hl
0ec9 7e        ld      a,(hl)
0eca 320486    ld      (8604h),a
0ecd af        xor     a
0ece 32e985    ld      (85e9h),a
0ed1 328c83    ld      (838ch),a
0ed4 c9        ret     
0ed5 1e02      ld      e,02h
0ed7 180c      jr      0ee5h
0ed9 1b        dec     de
0eda 1a        ld      a,(de)
0edb e67f      and     7fh
0edd fe20      cp      20h
0edf 2002      jr      nz,0ee3h
0ee1 0d        dec     c
0ee2 c9        ret     
0ee3 1e17      ld      e,17h
0ee5 3afc85    ld      a,(85fch)
0ee8 e6f8      and     0f8h
0eea 32fc85    ld      (85fch),a
0eed f1        pop     af
0eee f1        pop     af
0eef 21e585    ld      hl,NROWS
0ef2 46        ld      b,(hl)
0ef3 05        dec     b
0ef4 b8        cp      b
0ef5 3008      jr      nc,0effh
0ef7 cd5503    call    0355h
0efa 280a      jr      z,0f06h
0efc 3c        inc     a
0efd 18f5      jr      0ef4h
0eff d5        push    de
0f00 cd8401    call    0184h
0f03 d1        pop     de
0f04 3d        dec     a
0f05 3d        dec     a
0f06 3c        inc     a
0f07 cdc00e    call    0ec0h
0f0a c1        pop     bc
0f0b e1        pop     hl
0f0c 214222    ld      hl,2242h
0f0f e5        push    hl
0f10 c5        push    bc
0f11 c3d30a    jp      0ad3h
0f14 3e1f      ld      a,1fh
0f16 c3aa0f    jp      0faah
0f19 c8        ret     z
0f1a fe2c      cp      2ch
0f1c 2811      jr      z,0f2fh
0f1e cd0a35    call    350ah
0f21 fe10      cp      10h
0f23 d21c29    jp      nc,291ch
0f26 cdb104    call    04b1h
0f29 7e        ld      a,(hl)
0f2a b7        or      a
0f2b c8        ret     z
0f2c fe3a      cp      3ah
0f2e c8        ret     z
0f2f cda85f    call    5fa8h
0f32 2c        inc     l
0f33 fe2c      cp      2ch
0f35 2811      jr      z,0f48h
0f37 cd0a35    call    350ah
0f3a fe10      cp      10h
0f3c d21c29    jp      nc,291ch
0f3f cda204    call    04a2h
0f42 7e        ld      a,(hl)
0f43 b7        or      a
0f44 c8        ret     z
0f45 fe3a      cp      3ah
0f47 c8        ret     z
0f48 cda85f    call    5fa8h
0f4b 2c        inc     l
0f4c cd0a35    call    350ah
0f4f fe10      cp      10h
0f51 d21c29    jp      nc,291ch
0f54 c32604    jp      0426h
0f57 fe95      cp      95h
0f59 2828      jr      z,0f83h
0f5b cda85f    call    5fa8h
0f5e 4f        ld      c,a
0f5f cda85f    call    5fa8h
0f62 46        ld      b,(hl)
0f63 cda85f    call    5fa8h
0f66 46        ld      b,(hl)
0f67 0e00      ld      c,00h
0f69 0602      ld      b,02h
0f6b cde50a    call    SETBANK1
0f6e e5        push    hl
0f6f 3af985    ld      a,(85f9h)
0f72 cbbf      res     7,a
0f74 0d        dec     c
0f75 2002      jr      nz,0f79h
0f77 cbff      set     7,a
0f79 320068    ld      (6800h),a
0f7c 32f985    ld      (85f9h),a
0f7f e1        pop     hl
0f80 c3d30a    jp      0ad3h
0f83 cd1a28    call    281ah
0f86 0e01      ld      c,01h
0f88 18df      jr      0f69h
0f8a 281c      jr      z,0fa8h
0f8c cd0a35    call    350ah
0f8f fe28      cp      28h
0f91 2807      jr      z,0f9ah
0f93 fe50      cp      50h
0f95 280d      jr      z,0fa4h
0f97 c31c29    jp      291ch
0f9a 06a3      ld      b,0a3h
0f9c 3e1b      ld      a,1bh
0f9e cdaa0f    call    0faah
0fa1 78        ld      a,b
0fa2 1806      jr      0faah
0fa4 06a2      ld      b,0a2h
0fa6 18f4      jr      0f9ch
0fa8 3e1a      ld      a,1ah
0faa f5        push    af
0fab c5        push    bc
0fac d5        push    de
0fad e5        push    hl
0fae cd6b00    call    006bh
0fb1 e1        pop     hl
0fb2 d1        pop     de
0fb3 c1        pop     bc
0fb4 f1        pop     af
0fb5 c9        ret     
0fb6 e5        push    hl
0fb7 21fa85    ld      hl,85fah
0fba 05        dec     b
0fbb 2804      jr      z,0fc1h
0fbd cbde      set     3,(hl)
0fbf 1802      jr      0fc3h
0fc1 cb9e      res     3,(hl)
0fc3 e1        pop     hl
0fc4 c31a28    jp      281ah
0fc7 c5        push    bc
0fc8 cd1a28    call    281ah
0fcb cda85f    call    5fa8h
0fce 2c        inc     l
0fcf cd0a35    call    350ah
0fd2 c1        pop     bc
0fd3 b7        or      a
0fd4 ca1c29    jp      z,291ch
0fd7 05        dec     b
0fd8 2804      jr      z,0fdeh
0fda 32f585    ld      (85f5h),a
0fdd c9        ret     
0fde 32f685    ld      (85f6h),a
0fe1 c9        ret     
0fe2 c8        ret     z
0fe3 fe93      cp      93h
0fe5 286a      jr      z,1051h
0fe7 fe9f      cp      9fh
0fe9 2861      jr      z,104ch
0feb 0600      ld      b,00h
0fed fe53      cp      53h
0fef 28c5      jr      z,0fb6h
0ff1 04        inc     b
0ff2 fe42      cp      42h
0ff4 28c0      jr      z,0fb6h
0ff6 05        dec     b
0ff7 fe44      cp      44h
0ff9 28cc      jr      z,0fc7h
0ffb 04        inc     b
0ffc fe50      cp      50h
0ffe 28c7      jr      z,0fc7h
1000 cd0a35    call    350ah
1003 b7        or      a
1004 ca1c29    jp      z,291ch
1007 fe1f      cp      1fh
1009 d21c29    jp      nc,291ch
100c e5        push    hl
100d 3d        dec     a
100e 47        ld      b,a
100f 0e00      ld      c,00h
1011 210040    ld      hl,4000h
1014 09        add     hl,bc
1015 e3        ex      (sp),hl
1016 cda85f    call    5fa8h
1019 2c        inc     l
101a cdd32e    call    2ed3h
101d 3a8e83    ld      a,(838eh)
1020 fe03      cp      03h
1022 d1        pop     de
1023 c24022    jp      nz,2240h
1026 e5        push    hl
1027 d5        push    de
1028 ed5b2b85  ld      de,(852bh)
102c d5        push    de
102d cd6864    call    6468h
1030 e1        pop     hl
1031 4e        ld      c,(hl)
1032 23        inc     hl
1033 5e        ld      e,(hl)
1034 23        inc     hl
1035 56        ld      d,(hl)
1036 e1        pop     hl
1037 0606      ld      b,06h
1039 cde50a    call    SETBANK1
103c 0600      ld      b,00h
103e eb        ex      de,hl
103f 0c        inc     c
1040 0d        dec     c
1041 2802      jr      z,1045h
1043 edb0      ldir    
1045 af        xor     a
1046 12        ld      (de),a
1047 e1        pop     hl
1048 e3        ex      (sp),hl
1049 c3d30a    jp      0ad3h
104c 3e01      ld      a,01h
104e 323480    ld      (8034h),a
1051 cd1a28    call    281ah
1054 3a6486    ld      a,(8664h)
1057 fe03      cp      03h
1059 c8        ret     z
105a e5        push    hl
105b 0e01      ld      c,01h
105d 210040    ld      hl,4000h
1060 e5        push    hl
1061 3e46      ld      a,46h
1063 cdd957    call    57d9h
1066 c5        push    bc
1067 69        ld      l,c
1068 2600      ld      h,00h
106a cda744    call    44a7h
106d 3e20      ld      a,20h
106f cdd957    call    57d9h
1072 c1        pop     bc
1073 e1        pop     hl
1074 1600      ld      d,00h
1076 cdac10    call    10ach
1079 b7        or      a
107a 2817      jr      z,1093h
107c fa7610    jp      m,1076h
107f fe20      cp      20h
1081 3009      jr      nc,108ch
1083 f5        push    af
1084 3e5e      ld      a,5eh
1086 cdd957    call    57d9h
1089 f1        pop     af
108a c640      add     a,40h
108c cdd957    call    57d9h
108f 23        inc     hl
1090 14        inc     d
1091 20e3      jr      nz,1076h
1093 24        inc     h
1094 2e00      ld      l,00h
1096 d1        pop     de
1097 cd4959    call    5949h
109a d5        push    de
109b e5        push    hl
109c cd1c59    call    591ch
109f 0c        inc     c
10a0 79        ld      a,c
10a1 fe1f      cp      1fh
10a3 38bc      jr      c,1061h
10a5 e1        pop     hl
10a6 af        xor     a
10a7 323480    ld      (8034h),a
10aa e1        pop     hl
10ab c9        ret     
10ac 0606      ld      b,06h
10ae cde50a    call    SETBANK1
10b1 7e        ld      a,(hl)
10b2 c3d30a    jp      0ad3h
10b5 284d      jr      z,1104h
10b7 cd0a35    call    350ah
10ba fe06      cp      06h
10bc d21c29    jp      nc,291ch
10bf fe03      cp      03h
10c1 3809      jr      c,10cch
10c3 f5        push    af
10c4 3a6486    ld      a,(8664h)
10c7 fe03      cp      03h
10c9 283c      jr      z,1107h
10cb f1        pop     af
10cc e5        push    hl
10cd 32fe85    ld      (85feh),a
10d0 f5        push    af
10d1 cd2411    call    1124h
10d4 cd3511    call    1135h
10d7 210c11    ld      hl,110ch
10da f1        pop     af
10db 07        rlca    
10dc 07        rlca    
10dd 85        add     a,l
10de 6f        ld      l,a
10df 3001      jr      nc,10e2h
10e1 24        inc     h
10e2 5e        ld      e,(hl)
10e3 23        inc     hl
10e4 56        ld      d,(hl)
10e5 23        inc     hl
10e6 ed53ff85  ld      (85ffh),de
10ea 7e        ld      a,(hl)
10eb 320186    ld      (8601h),a
10ee 23        inc     hl
10ef 116986    ld      de,8669h
10f2 1a        ld      a,(de)
10f3 e6f8      and     0f8h
10f5 b6        or      (hl)
10f6 12        ld      (de),a
10f7 d344      out     (44h),a
10f9 211486    ld      hl,8614h
10fc af        xor     a
10fd 77        ld      (hl),a
10fe 23        inc     hl
10ff 77        ld      (hl),a
1100 23        inc     hl
1101 77        ld      (hl),a
1102 e1        pop     hl
1103 c9        ret     
1104 af        xor     a
1105 18c5      jr      10cch
1107 1e07      ld      e,07h
1109 c34222    jp      2242h
110c 9f        sbc     a,a
110d 00        nop     
110e 5f        ld      e,a
110f 04        inc     b
1110 9f        sbc     a,a
1111 00        nop     
1112 bf        cp      a
1113 07        rlca    
1114 3f        ccf     
1115 01bf06    ld      bc,06bfh
1118 9f        sbc     a,a
1119 00        nop     
111a bf        cp      a
111b 03        inc     bc
111c 3f        ccf     
111d 01bf02    ld      bc,02bfh
1120 7f        ld      a,a
1121 02        ld      (bc),a
1122 bf        cp      a
1123 00        nop     
1124 0602      ld      b,02h
1126 cde50a    call    SETBANK1
1129 21f985    ld      hl,85f9h
112c cbde      set     3,(hl)
112e 7e        ld      a,(hl)
112f 320068    ld      (6800h),a
1132 c3d30a    jp      0ad3h
1135 cdde0a    call    RESTORE_BANK1
1138 3afe85    ld      a,(85feh)
113b b7        or      a
113c 2812      jr      z,1150h
113e 3d        dec     a
113f 281e      jr      z,115fh
1141 3d        dec     a
1142 281e      jr      z,1162h
1144 3d        dec     a
1145 282d      jr      z,1174h
1147 3d        dec     a
1148 2827      jr      z,1171h
114a 3d        dec     a
114b 2827      jr      z,1174h
114d c3d30a    jp      0ad3h
1150 dd211000  ld      ix,0010h
1154 210060    ld      hl,6000h
1157 112078    ld      de,7820h
115a 010078    ld      bc,7800h
115d 1822      jr      1181h
115f 3a6a86    ld      a,(PORT45_LATCHh)
1162 dd210800  ld      ix,0008h
1166 210060    ld      hl,6000h
1169 11403c    ld      de,3c40h
116c 01003c    ld      bc,3c00h
116f 1810      jr      1181h
1171 3a6a86    ld      a,(PORT45_LATCHh)
1174 dd211000  ld      ix,0010h
1178 210040    ld      hl,4000h
117b 114078    ld      de,7840h
117e 010078    ld      bc,7800h
1181 d5        push    de
1182 c38a11    jp      118ah
1185 d5        push    de
1186 dde5      push    ix
1188 d1        pop     de
1189 19        add     hl,de
118a 71        ld      (hl),c
118b 23        inc     hl
118c 77        ld      (hl),a
118d 23        inc     hl
118e 10fa      djnz    118ah
1190 d1        pop     de
1191 42        ld      b,d
1192 1d        dec     e
1193 20f0      jr      nz,1185h
1195 c3d30a    jp      0ad3h
1198 cd0a35    call    350ah
119b fe20      cp      20h
119d d21c29    jp      nc,291ch
11a0 326b86    ld      (866bh),a
11a3 cda85f    call    5fa8h
11a6 2c        inc     l
11a7 cd0a35    call    350ah
11aa b7        or      a
11ab ca1c29    jp      z,291ch
11ae f3        di      
11af e5        push    hl
11b0 3d        dec     a
11b1 f5        push    af
11b2 3a6b86    ld      a,(866bh)
11b5 b7        or      a
11b6 2836      jr      z,11eeh
11b8 3d        dec     a
11b9 cb27      sla     a
11bb 4f        ld      c,a
11bc 0600      ld      b,00h
11be f1        pop     af
11bf 215012    ld      hl,1250h
11c2 09        add     hl,bc
11c3 5e        ld      e,(hl)
11c4 23        inc     hl
11c5 56        ld      d,(hl)
11c6 d5        push    de
11c7 218e12    ld      hl,128eh
11ca cb39      srl     c
11cc 09        add     hl,bc
11cd 5e        ld      e,(hl)
11ce 1600      ld      d,00h
11d0 21ad12    ld      hl,12adh
11d3 4f        ld      c,a
11d4 09        add     hl,bc
11d5 46        ld      b,(hl)
11d6 62        ld      h,d
11d7 6b        ld      l,e
11d8 19        add     hl,de
11d9 10fd      djnz    11d8h
11db 54        ld      d,h
11dc 5d        ld      e,l
11dd e1        pop     hl
11de cd2612    call    1226h
11e1 3833      jr      c,1216h
11e3 e1        pop     hl
11e4 fb        ei      
11e5 7e        ld      a,(hl)
11e6 23        inc     hl
11e7 fe3b      cp      3bh
11e9 ca9811    jp      z,1198h
11ec 2b        dec     hl
11ed c9        ret     
11ee f1        pop     af
11ef 4f        ld      c,a
11f0 0600      ld      b,00h
11f2 21ad12    ld      hl,12adh
11f5 09        add     hl,bc
11f6 46        ld      b,(hl)
11f7 211203    ld      hl,0312h
11fa 54        ld      d,h
11fb 5c        ld      e,h
11fc 19        add     hl,de
11fd 10fd      djnz    11fch
11ff cde416    call    READKEY
1202 3812      jr      c,1216h
1204 2b        dec     hl
1205 7d        ld      a,l
1206 b4        or      h
1207 20f6      jr      nz,11ffh
1209 18d8      jr      11e3h
120b cd0717    call    1707h
120e d0        ret     nc
120f 1804      jr      1215h
1211 cde416    call    READKEY
1214 d0        ret     nc
1215 e1        pop     hl
1216 e1        pop     hl
1217 3afa85    ld      a,(85fah)
121a e63f      and     3fh
121c 32fa85    ld      (85fah),a
121f fb        ei      
1220 3e01      ld      a,01h
1222 3d        dec     a
1223 c3d45f    jp      5fd4h
1226 0602      ld      b,02h
1228 cde50a    call    SETBANK1
122b 3af985    ld      a,(85f9h)
122e cb23      sla     e
1230 cb12      rl      d
1232 b7        or      a
1233 f5        push    af
1234 cde416    call    READKEY
1237 3813      jr      c,124ch
1239 f1        pop     af
123a ee01      xor     01h
123c 320068    ld      (6800h),a
123f f5        push    af
1240 e5        push    hl
1241 2b        dec     hl
1242 7c        ld      a,h
1243 b5        or      l
1244 20fb      jr      nz,1241h
1246 e1        pop     hl
1247 1b        dec     de
1248 7a        ld      a,d
1249 b3        or      e
124a 20e8      jr      nz,1234h
124c d1        pop     de
124d c3d30a    jp      0ad3h
1250 0d        dec     c
1251 02        ld      (bc),a
1252 f0        ret     p
1253 01d401    ld      bc,01d4h
1256 b9        cp      c
1257 01a101    ld      bc,01a1h
125a 89        adc     a,c
125b 017001    ld      bc,0170h
125e 5b        ld      e,e
125f 014701    ld      bc,0147h
1262 35        dec     (hl)
1263 012301    ld      bc,0123h
1266 13        inc     de
1267 010301    ld      bc,0103h
126a f400e6    call    p,0e600h
126d 00        nop     
126e d9        exx     
126f 00        nop     
1270 cd00c1    call    0c100h
1273 00        nop     
1274 b6        or      (hl)
1275 00        nop     
1276 ac        xor     h
1277 00        nop     
1278 a2        and     d
1279 00        nop     
127a 99        sbc     a,c
127b 00        nop     
127c 90        sub     b
127d 00        nop     
127e 87        add     a,a
127f 00        nop     
1280 7f        ld      a,a
1281 00        nop     
1282 78        ld      a,b
1283 00        nop     
1284 71        ld      (hl),c
1285 00        nop     
1286 6b        ld      l,e
1287 00        nop     
1288 65        ld      h,l
1289 00        nop     
128a 5e        ld      e,(hl)
128b 00        nop     
128c 59        ld      e,c
128d 00        nop     
128e 0a        ld      a,(bc)
128f 0b        dec     bc
1290 0c        inc     c
1291 0c        inc     c
1292 0d        dec     c
1293 0e0f      ld      c,0fh
1295 0f        rrca    
1296 1011      djnz    12a9h
1298 12        ld      (de),a
1299 13        inc     de
129a 15        dec     d
129b 1617      ld      d,17h
129d 19        add     hl,de
129e 1a        ld      a,(de)
129f 1c        inc     e
12a0 1d        dec     e
12a1 1f        rra     
12a2 212325    ld      hl,2523h
12a5 27        daa     
12a6 29        add     hl,hl
12a7 2c        inc     l
12a8 2e31      ld      l,31h
12aa 34        inc     (hl)
12ab 35        dec     (hl)
12ac 3a0102    ld      a,(0201h)
12af 03        inc     bc
12b0 04        inc     b
12b1 0608      ld      b,08h
12b3 0c        inc     c
12b4 1018      djnz    12ceh
12b6 cd1a28    call    281ah
12b9 af        xor     a
12ba 013e01    ld      bc,013eh
12bd 013e02    ld      bc,023eh
12c0 013e80    ld      bc,803eh
12c3 013e03    ld      bc,033eh
12c6 f5        push    af
12c7 cda85f    call    5fa8h
12ca 28cd      jr      z,1299h
12cc ec342b    call    pe,2b34h
12cf cd1a28    call    281ah
12d2 e5        push    hl
12d3 2aff85    ld      hl,(85ffh)
12d6 cda25f    call    5fa2h
12d9 da1c29    jp      c,291ch
12dc e1        pop     hl
12dd d5        push    de
12de cda85f    call    5fa8h
12e1 2c        inc     l
12e2 cd0a35    call    350ah
12e5 47        ld      b,a
12e6 3a0186    ld      a,(8601h)
12e9 b8        cp      b
12ea da1c29    jp      c,291ch
12ed d1        pop     de
12ee f1        pop     af
12ef e5        push    hl
12f0 b7        or      a
12f1 4f        ld      c,a
12f2 78        ld      a,b
12f3 2824      jr      z,1319h
12f5 21f985    ld      hl,85f9h
12f8 cb5e      bit     3,(hl)
12fa 2809      jr      z,1305h
12fc 0d        dec     c
12fd 2811      jr      z,1310h
12ff 0d        dec     c
1300 2809      jr      z,130bh
1302 cd2113    call    1321h
1305 e1        pop     hl
1306 cda85f    call    5fa8h
1309 29        add     hl,hl
130a c9        ret     
130b cd6f14    call    146fh
130e 18f5      jr      1305h
1310 ed531486  ld      (8614h),de
1314 321686    ld      (8616h),a
1317 18ec      jr      1305h
1319 cdf913    call    13f9h
131c cd6f3c    call    3c6fh
131f 18e4      jr      1305h
1321 cdde0a    call    RESTORE_BANK1
1324 cd2a13    call    132ah
1327 c3d30a    jp      0ad3h
132a 21fe85    ld      hl,85feh
132d 46        ld      b,(hl)
132e 04        inc     b
132f 05        dec     b
1330 2814      jr      z,1346h
1332 05        dec     b
1333 2837      jr      z,136ch
1335 05        dec     b
1336 284d      jr      z,1385h
1338 cde113    call    13e1h
133b 05        dec     b
133c 280b      jr      z,1349h
133e 05        dec     b
133f ca6f13    jp      z,136fh
1342 05        dec     b
1343 c0        ret     nz
1344 1842      jr      1388h
1346 cda713    call    13a7h
1349 af        xor     a
134a cb3b      srl     e
134c 17        rla     
134d 19        add     hl,de
134e b7        or      a
134f 3a6a86    ld      a,(PORT45_LATCHh)
1352 2010      jr      nz,1364h
1354 e6f0      and     0f0h
1356 0f        rrca    
1357 0f        rrca    
1358 0f        rrca    
1359 0f        rrca    
135a 47        ld      b,a
135b 7e        ld      a,(hl)
135c e6f0      and     0f0h
135e 0d        dec     c
135f 2001      jr      nz,1362h
1361 b0        or      b
1362 77        ld      (hl),a
1363 c9        ret     
1364 e6f0      and     0f0h
1366 47        ld      b,a
1367 7e        ld      a,(hl)
1368 e60f      and     0fh
136a 18f2      jr      135eh
136c cdc413    call    13c4h
136f 7b        ld      a,e
1370 e607      and     07h
1372 cb3a      srl     d
1374 cb1b      rr      e
1376 cb3a      srl     d
1378 cb1b      rr      e
137a cb83      res     0,e
137c cd9313    call    1393h
137f 23        inc     hl
1380 3a6a86    ld      a,(PORT45_LATCHh)
1383 77        ld      (hl),a
1384 c9        ret     
1385 cdc413    call    13c4h
1388 7b        ld      a,e
1389 e607      and     07h
138b 0603      ld      b,03h
138d cb3a      srl     d
138f cb1b      rr      e
1391 10fa      djnz    138dh
1393 19        add     hl,de
1394 47        ld      b,a
1395 b7        or      a
1396 3efe      ld      a,0feh
1398 2803      jr      z,139dh
139a 07        rlca    
139b 10fd      djnz    139ah
139d 0d        dec     c
139e 2004      jr      nz,13a4h
13a0 2f        cpl     
13a1 b6        or      (hl)
13a2 1801      jr      13a5h
13a4 a6        and     (hl)
13a5 77        ld      (hl),a
13a6 c9        ret     
13a7 f5        push    af
13a8 2660      ld      h,60h
13aa 6f        ld      l,a
13ab e603      and     03h
13ad 07        rlca    
13ae 07        rlca    
13af 07        rlca    
13b0 b4        or      h
13b1 67        ld      h,a
13b2 7d        ld      a,l
13b3 e61c      and     1ch
13b5 0f        rrca    
13b6 0f        rrca    
13b7 b4        or      h
13b8 67        ld      h,a
13b9 7d        ld      a,l
13ba e660      and     60h
13bc 07        rlca    
13bd 6f        ld      l,a
13be 0f        rrca    
13bf 0f        rrca    
13c0 85        add     a,l
13c1 6f        ld      l,a
13c2 f1        pop     af
13c3 c9        ret     
13c4 f5        push    af
13c5 6f        ld      l,a
13c6 2660      ld      h,60h
13c8 e638      and     38h
13ca 0f        rrca    
13cb 0f        rrca    
13cc 0f        rrca    
13cd b4        or      h
13ce 67        ld      h,a
13cf 7d        ld      a,l
13d0 e606      and     06h
13d2 07        rlca    
13d3 07        rlca    
13d4 b4        or      h
13d5 67        ld      h,a
13d6 7d        ld      a,l
13d7 e6c1      and     0c1h
13d9 6f        ld      l,a
13da 1f        rra     
13db 0f        rrca    
13dc 85        add     a,l
13dd 0f        rrca    
13de 6f        ld      l,a
13df f1        pop     af
13e0 c9        ret     
13e1 f5        push    af
13e2 2640      ld      h,40h
13e4 6f        ld      l,a
13e5 e607      and     07h
13e7 07        rlca    
13e8 07        rlca    
13e9 07        rlca    
13ea b4        or      h
13eb 67        ld      h,a
13ec 7d        ld      a,l
13ed e638      and     38h
13ef 0f        rrca    
13f0 0f        rrca    
13f1 0f        rrca    
13f2 b4        or      h
13f3 67        ld      h,a
13f4 7d        ld      a,l
13f5 e6c0      and     0c0h
13f7 18c4      jr      13bdh
13f9 cdde0a    call    RESTORE_BANK1
13fc 21d30a    ld      hl,0ad3h
13ff e5        push    hl
1400 21fe85    ld      hl,85feh
1403 46        ld      b,(hl)
1404 04        inc     b
1405 05        dec     b
1406 2813      jr      z,141bh
1408 05        dec     b
1409 2826      jr      z,1431h
140b 05        dec     b
140c 2844      jr      z,1452h
140e cde113    call    13e1h
1411 05        dec     b
1412 280a      jr      z,141eh
1414 05        dec     b
1415 281d      jr      z,1434h
1417 05        dec     b
1418 c0        ret     nz
1419 183a      jr      1455h
141b cda713    call    13a7h
141e af        xor     a
141f cb3b      srl     e
1421 17        rla     
1422 19        add     hl,de
1423 b7        or      a
1424 7e        ld      a,(hl)
1425 2807      jr      z,142eh
1427 e6f0      and     0f0h
1429 0f        rrca    
142a 0f        rrca    
142b 0f        rrca    
142c 0f        rrca    
142d c9        ret     
142e e60f      and     0fh
1430 c9        ret     
1431 cdc413    call    13c4h
1434 7b        ld      a,e
1435 e607      and     07h
1437 cb3a      srl     d
1439 cb1b      rr      e
143b cb3a      srl     d
143d cb1b      rr      e
143f cb83      res     0,e
1441 cd6014    call    1460h
1444 23        inc     hl
1445 7e        ld      a,(hl)
1446 2807      jr      z,144fh
1448 e6f0      and     0f0h
144a 0f        rrca    
144b 0f        rrca    
144c 0f        rrca    
144d 0f        rrca    
144e c9        ret     
144f e60f      and     0fh
1451 c9        ret     
1452 cdc413    call    13c4h
1455 7b        ld      a,e
1456 e607      and     07h
1458 0603      ld      b,03h
145a cb3a      srl     d
145c cb1b      rr      e
145e 10fa      djnz    145ah
1460 19        add     hl,de
1461 47        ld      b,a
1462 b7        or      a
1463 3e01      ld      a,01h
1465 2803      jr      z,146ah
1467 07        rlca    
1468 10fd      djnz    1467h
146a a6        and     (hl)
146b c8        ret     z
146c 3e01      ld      a,01h
146e c9        ret     

;146f NMI_INTERRUPT entry point
146f cdde0a    call    RESTORE_BANK1
1472 d5        push    de
1473 f5        push    af
1474 2a1486    ld      hl,(8614h)
1477 eb        ex      de,hl
1478 b7        or      a
1479 ed52      sbc     hl,de
147b eb        ex      de,hl
147c 211786    ld      hl,8617h
147f 3600      ld      (hl),00h
1481 3008      jr      nc,148bh
1483 34        inc     (hl)
1484 7a        ld      a,d
1485 2f        cpl     
1486 57        ld      d,a
1487 7b        ld      a,e
1488 2f        cpl     
1489 5f        ld      e,a
148a 13        inc     de
148b f1        pop     af
148c f5        push    af
148d 211686    ld      hl,8616h
1490 96        sub     (hl)
1491 211886    ld      hl,8618h
1494 3600      ld      (hl),00h
1496 3003      jr      nc,149bh
1498 34        inc     (hl)
1499 ed44      neg     
149b f5        push    af
149c 7a        ld      a,d
149d b7        or      a
149e 2804      jr      z,14a4h
14a0 f1        pop     af
14a1 c30f15    jp      150fh
14a4 f1        pop     af
14a5 bb        cp      e
14a6 da0f15    jp      c,150fh
14a9 4f        ld      c,a
14aa 211c86    ld      hl,861ch
14ad 73        ld      (hl),e
14ae 211786    ld      hl,8617h
14b1 7e        ld      a,(hl)
14b2 23        inc     hl
14b3 ae        xor     (hl)
14b4 321986    ld      (8619h),a
14b7 7e        ld      a,(hl)
14b8 2b        dec     hl
14b9 71        ld      (hl),c
14ba 34        inc     (hl)
14bb b7        or      a
14bc 2011      jr      nz,14cfh
14be f1        pop     af
14bf d1        pop     de
14c0 2a1486    ld      hl,(8614h)
14c3 eb        ex      de,hl
14c4 221486    ld      (8614h),hl
14c7 211686    ld      hl,8616h
14ca 46        ld      b,(hl)
14cb 77        ld      (hl),a
14cc 78        ld      a,b
14cd 1809      jr      14d8h
14cf f1        pop     af
14d0 d1        pop     de
14d1 ed531486  ld      (8614h),de
14d5 321686    ld      (8616h),a
14d8 210000    ld      hl,0000h
14db 44        ld      b,h
14dc 221a86    ld      (861ah),hl
14df f5        push    af
14e0 d5        push    de
14e1 c5        push    bc
14e2 0e01      ld      c,01h
14e4 cd2a13    call    132ah
14e7 3a1c86    ld      a,(861ch)
14ea 211a86    ld      hl,861ah
14ed 86        add     a,(hl)
14ee 77        ld      (hl),a
14ef 23        inc     hl
14f0 3001      jr      nc,14f3h
14f2 34        inc     (hl)
14f3 c1        pop     bc
14f4 cd8015    call    1580h
14f7 d1        pop     de
14f8 380a      jr      c,1504h
14fa 3a1986    ld      a,(8619h)
14fd b7        or      a
14fe 2003      jr      nz,1503h
1500 13        inc     de
1501 1801      jr      1504h
1503 1b        dec     de
1504 f1        pop     af
1505 3c        inc     a
1506 211786    ld      hl,8617h
1509 35        dec     (hl)
150a 20d3      jr      nz,14dfh
150c c3d30a    jp      0ad3h

150f 42        ld      b,d
1510 4b        ld      c,e
1511 321c86    ld      (861ch),a
1514 211786    ld      hl,8617h
1517 7e        ld      a,(hl)
1518 23        inc     hl
1519 ae        xor     (hl)
151a 321986    ld      (8619h),a
151d 2b        dec     hl
151e 7e        ld      a,(hl)
151f b7        or      a
1520 13        inc     de
1521 ed531786  ld      (8617h),de
1525 2011      jr      nz,1538h
1527 f1        pop     af
1528 211686    ld      hl,8616h
152b 56        ld      d,(hl)
152c 77        ld      (hl),a
152d 7a        ld      a,d
152e d1        pop     de
152f 2a1486    ld      hl,(8614h)
1532 eb        ex      de,hl
1533 221486    ld      (8614h),hl
1536 1809      jr      1541h
1538 f1        pop     af
1539 d1        pop     de
153a ed531486  ld      (8614h),de
153e 321686    ld      (8616h),a
1541 210000    ld      hl,0000h
1544 221a86    ld      (861ah),hl
1547 d5        push    de
1548 f5        push    af
1549 c5        push    bc
154a 0e01      ld      c,01h
154c cd2a13    call    132ah
154f 3a1c86    ld      a,(861ch)
1552 211a86    ld      hl,861ah
1555 86        add     a,(hl)
1556 77        ld      (hl),a
1557 23        inc     hl
1558 3001      jr      nc,155bh
155a 34        inc     (hl)
155b c1        pop     bc
155c cd8015    call    1580h
155f d1        pop     de
1560 380a      jr      c,156ch
1562 3a1986    ld      a,(8619h)
1565 b7        or      a
1566 2003      jr      nz,156bh
1568 14        inc     d
1569 1801      jr      156ch
156b 15        dec     d
156c 7a        ld      a,d
156d d1        pop     de
156e 13        inc     de
156f 2a1786    ld      hl,(8617h)
1572 2b        dec     hl
1573 221786    ld      (8617h),hl
1576 f5        push    af
1577 7c        ld      a,h
1578 b5        or      l
1579 e1        pop     hl
157a 7c        ld      a,h
157b 20ca      jr      nz,1547h
157d c3d30a    jp      0ad3h
1580 7e        ld      a,(hl)
1581 b8        cp      b
1582 d8        ret     c
1583 2004      jr      nz,1589h
1585 2b        dec     hl
1586 7e        ld      a,(hl)
1587 b9        cp      c
1588 d8        ret     c
1589 2a1a86    ld      hl,(861ah)
158c ed42      sbc     hl,bc
158e 221a86    ld      (861ah),hl
1591 b7        or      a
1592 c9        ret     
1593 f3        di      
1594 e5        push    hl
1595 cda038    call    38a0h
1598 e1        pop     hl
1599 0ef0      ld      c,0f0h
159b cd8b16    call    168bh
159e da1712    jp      c,1217h
15a1 e5        push    hl
15a2 013b0b    ld      bc,0b3bh
15a5 0b        dec     bc
15a6 79        ld      a,c
15a7 b0        or      b
15a8 20fb      jr      nz,15a5h
15aa 2a4180    ld      hl,(8041h)
15ad ed5be983  ld      de,(83e9h)
15b1 cdba15    call    15bah
15b4 da1612    jp      c,1216h
15b7 e1        pop     hl
15b8 fb        ei      
15b9 c9        ret     
15ba 3e80      ld      a,80h
15bc 060a      ld      b,0ah
15be cd1f16    call    161fh
15c1 10fb      djnz    15beh
15c3 3eff      ld      a,0ffh
15c5 cd1f16    call    161fh
15c8 cd0717    call    1707h
15cb d8        ret     c
15cc 48        ld      c,b
15cd ed433c86  ld      (863ch),bc
15d1 7d        ld      a,l
15d2 cd1f16    call    161fh
15d5 7c        ld      a,h
15d6 cd1f16    call    161fh
15d9 7b        ld      a,e
15da cd1f16    call    161fh
15dd 7a        ld      a,d
15de cd1f16    call    161fh
15e1 cd0717    call    1707h
15e4 d8        ret     c
15e5 eb        ex      de,hl
15e6 ed52      sbc     hl,de
15e8 1a        ld      a,(de)
15e9 13        inc     de
15ea cd1f16    call    161fh
15ed cd0717    call    1707h
15f0 d8        ret     c
15f1 2b        dec     hl
15f2 7c        ld      a,h
15f3 b5        or      l
15f4 20f2      jr      nz,15e8h
15f6 2a3c86    ld      hl,(863ch)
15f9 7d        ld      a,l
15fa cd1f16    call    161fh
15fd 7c        ld      a,h
15fe cd1f16    call    161fh
1601 0614      ld      b,14h
1603 af        xor     a
1604 cd1f16    call    161fh
1607 10fb      djnz    1604h
1609 b7        or      a
160a c9        ret     
160b c5        push    bc
160c 060a      ld      b,0ah
160e 3e80      ld      a,80h
1610 cd1f16    call    161fh
1613 10fb      djnz    1610h
1615 3eff      ld      a,0ffh
1617 cd1f16    call    161fh
161a c1        pop     bc
161b f1        pop     af
161c cd1f16    call    161fh
161f c5        push    bc
1620 f5        push    af
1621 e5        push    hl
1622 2e08      ld      l,08h
1624 67        ld      h,a
1625 cd9218    call    1892h
1628 3a6686    ld      a,(BANK1_LATCH)
162b f5        push    af
162c 3e02      ld      a,02h
162e d341      out     (41h),a
1630 0e36      ld      c,36h
1632 cd7816    call    1678h
1635 2d        dec     l
1636 280c      jr      z,1644h
1638 cb04      rlc     h
163a 302a      jr      nc,1666h
163c cd7616    call    1676h
163f cd7616    call    1676h
1642 18ec      jr      1630h
1644 cb04      rlc     h
1646 3026      jr      nc,166eh
1648 cd7616    call    1676h
164b 0e2d      ld      c,2dh
164d cd7816    call    1678h
1650 3afe6f    ld      a,(6ffeh)
1653 f6f7      or      0f7h
1655 47        ld      b,a
1656 3afd6f    ld      a,(6ffdh)
1659 f6bf      or      0bfh
165b a0        and     b
165c 326c86    ld      (866ch),a
165f f1        pop     af
1660 d341      out     (41h),a
1662 e1        pop     hl
1663 f1        pop     af
1664 c1        pop     bc
1665 c9        ret     
1666 01797e    ld      bc,7e79h
1669 cd7a16    call    167ah
166c 18c2      jr      1630h
166e 016e7e    ld      bc,7e6eh
1671 cd7a16    call    167ah
1674 18da      jr      1650h
1676 0e38      ld      c,38h
1678 063d      ld      b,3dh
167a 3af985    ld      a,(85f9h)
167d e6fb      and     0fbh
167f cd8316    call    1683h
1682 41        ld      b,c
1683 ee04      xor     04h
1685 320068    ld      (6800h),a
1688 10fe      djnz    1688h
168a c9        ret     
168b cdbd16    call    16bdh
168e 06ff      ld      b,0ffh
1690 3e80      ld      a,80h
1692 cd1f16    call    161fh
1695 cd0717    call    1707h
1698 d8        ret     c
1699 10f5      djnz    1690h
169b 0605      ld      b,05h
169d 3efe      ld      a,0feh
169f cd1f16    call    161fh
16a2 cd0717    call    1707h
16a5 d8        ret     c
16a6 10f5      djnz    169dh
16a8 79        ld      a,c
16a9 cd1f16    call    161fh
16ac 3a3e86    ld      a,(863eh)
16af 47        ld      b,a
16b0 113f86    ld      de,863fh
16b3 1a        ld      a,(de)
16b4 13        inc     de
16b5 cd1f16    call    161fh
16b8 10f9      djnz    16b3h
16ba c31f16    jp      161fh
16bd 0610      ld      b,10h
16bf 113f86    ld      de,863fh
16c2 7e        ld      a,(hl)
16c3 fe3a      cp      3ah
16c5 2814      jr      z,16dbh
16c7 b7        or      a
16c8 2811      jr      z,16dbh
16ca cda85f    call    5fa8h
16cd 227eb7    ld      (0b77eh),hl
16d0 2809      jr      z,16dbh
16d2 23        inc     hl
16d3 fe22      cp      22h
16d5 2804      jr      z,16dbh
16d7 12        ld      (de),a
16d8 13        inc     de
16d9 10f3      djnz    16ceh
16db af        xor     a
16dc 12        ld      (de),a
16dd 3e11      ld      a,11h
16df 90        sub     b
16e0 323e86    ld      (863eh),a
16e3 c9        ret     

;16e4
READKEY:
   ;
   ; reads the keyboard and updates KEY_SCAN_CODE and KEYASCII
   ; d = value of last key pressed for compare
   ;
   push    bc
   call    LABEL_16ea
   pop     bc
   ret     

;16ea
LABEL_16ea:
   ld   b,02h
   call SETBANK1
   ld   a,(6ffdh)
   and  40h
   if not zero then jp 0ad3h
   ld   a,(6ffeh)
   and  08h
   if zero then 
      scf     
      ld   a,24h
      ld   (KEY_SCAN_CODE),a
   end if
   jp   0ad3h

1707 3a6c86    ld      a,(866ch)
170a eeb7      xor     0b7h
170c c0        ret     nz
170d 3e24      ld      a,24h
170f 32f085    ld      (KEY_SCAN_CODE),a
1712 37        scf     
1713 c9        ret  

1714 e5        push    hl
1715 21fa85    ld      hl,85fah
1718 cbb6      res     6,(hl)
171a cbbe      res     7,(hl)
171c e1        pop     hl
171d f3        di      
171e cdbd16    call    16bdh
1721 e5        push    hl
1722 210b19    ld      hl,190bh
1725 cdfc18    call    18fch
1728 cdc217    call    17c2h
172b da1612    jp      c,1216h
172e 3a6b86    ld      a,(866bh)
1731 fef2      cp      0f2h
1733 28f3      jr      z,1728h
1735 211819    ld      hl,1918h
1738 cdfc18    call    18fch
173b cdbc19    call    19bch
173e daf318    jp      c,18f3h
1741 e5        push    hl
1742 ed52      sbc     hl,de
1744 daf318    jp      c,18f3h
1747 ed536286  ld      (8662h),de
174b 44        ld      b,h
174c 4d        ld      c,l
174d e1        pop     hl
174e 3afa85    ld      a,(85fah)
1751 cb7f      bit     7,a
1753 c26f19    jp      nz,196fh
1756 cd9c17    call    179ch
1759 da1612    jp      c,1216h
175c c2f318    jp      nz,18f3h
175f 22e983    ld      (83e9h),hl
1762 fb        ei      
1763 cd1c59    call    591ch
1766 3a6b86    ld      a,(866bh)
1769 fef1      cp      0f1h
176b 2004      jr      nz,1771h
176d 2a6286    ld      hl,(8662h)
1770 e9        jp      (hl)
1771 cdf223    call    23f2h
1774 23        inc     hl
1775 23        inc     hl
1776 22e983    ld      (83e9h),hl
1779 216b80    ld      hl,806bh
177c 7e        ld      a,(hl)
177d 324680    ld      (8046h),a
1780 3600      ld      (hl),00h
1782 cd105f    call    5f10h
1785 3a4680    ld      a,(8046h)
1788 326b80    ld      (806bh),a
178b e5        push    hl
178c 21fa85    ld      hl,85fah
178f cb76      bit     6,(hl)
1791 cbb6      res     6,(hl)
1793 cbbe      res     7,(hl)
1795 e1        pop     hl
1796 c2b427    jp      nz,27b4h
1799 c3dc22    jp      22dch
179c cd6518    call    1865h
179f 381d      jr      c,17beh
17a1 12        ld      (de),a
17a2 cd0717    call    1707h
17a5 d8        ret     c
17a6 13        inc     de
17a7 0b        dec     bc
17a8 79        ld      a,c
17a9 b0        or      b
17aa 20f0      jr      nz,179ch
17ac ed4b3c86  ld      bc,(863ch)
17b0 cd6518    call    1865h
17b3 b9        cp      c
17b4 2008      jr      nz,17beh
17b6 cd6518    call    1865h
17b9 b8        cp      b
17ba 2002      jr      nz,17beh
17bc af        xor     a
17bd c9        ret     
17be 3eff      ld      a,0ffh
17c0 b7        or      a
17c1 c9        ret     
17c2 cd2d18    call    182dh
17c5 d8        ret     c
17c6 0604      ld      b,04h
17c8 fefe      cp      0feh
17ca c2c217    jp      nz,17c2h
17cd cd6518    call    1865h
17d0 dac217    jp      c,17c2h
17d3 10f3      djnz    17c8h
17d5 cd6518    call    1865h
17d8 326b86    ld      (866bh),a
17db 215086    ld      hl,8650h
17de 0612      ld      b,12h
17e0 cd6518    call    1865h
17e3 77        ld      (hl),a
17e4 b7        or      a
17e5 2806      jr      z,17edh
17e7 23        inc     hl
17e8 10f6      djnz    17e0h
17ea c3c217    jp      17c2h
17ed 212519    ld      hl,1925h
17f0 cdfc18    call    18fch
17f3 3a6b86    ld      a,(866bh)
17f6 e60f      and     0fh
17f8 211f18    ld      hl,181fh
17fb 3c        inc     a
17fc 23        inc     hl
17fd 23        inc     hl
17fe 23        inc     hl
17ff 3d        dec     a
1800 20fa      jr      nz,17fch
1802 cdfc18    call    18fch
1805 215086    ld      hl,8650h
1808 cdfc18    call    18fch
180b 212b18    ld      hl,182bh
180e cdfc18    call    18fch
1811 215086    ld      hl,8650h
1814 113f86    ld      de,863fh
1817 1a        ld      a,(de)
1818 b7        or      a
1819 c8        ret     z
181a be        cp      (hl)
181b c2c217    jp      nz,17c2h
181e 23        inc     hl
181f 13        inc     de
1820 18f5      jr      1817h
1822 54        ld      d,h
1823 3a0042    ld      a,(4200h)
1826 3a0044    ld      a,(4400h)
1829 3a001e    ld      a,(1e00h)
182c 00        nop     
182d 0602      ld      b,02h
182f cde50a    call    SETBANK1
1832 cdea16    call    16eah
1835 dad30a    jp      c,0ad3h
1838 3a0068    ld      a,(6800h)
183b cb7f      bit     7,a
183d 20f3      jr      nz,1832h
183f e5        push    hl
1840 210068    ld      hl,6800h
1843 cdc418    call    18c4h
1846 e1        pop     hl
1847 cb47      bit     0,a
1849 28f4      jr      z,183fh
184b 0607      ld      b,07h
184d cd9e18    call    189eh
1850 38e0      jr      c,1832h
1852 10f9      djnz    184dh
1854 fe80      cp      80h
1856 20da      jr      nz,1832h
1858 cd6518    call    1865h
185b 38d5      jr      c,1832h
185d fe80      cp      80h
185f 28f7      jr      z,1858h
1861 b7        or      a
1862 c3d30a    jp      0ad3h

; Name: RDBYET
; Purpose: reads a byte from cassette and returns into A
;
RDBYET:
   push    bc
   push    de
   ld      a,(BANK1_LATCH)
   push    af

   ld      a,02h       ; switch to I/O in bank 1
   out     (41h),a     ;

   ld b,08h
   do
      call 189eh
      if carry then jr RDBYET1
   loopb while b <> 0 

   call    1892h
   ld      a,(6ffeh)
   or      0f7h                 ; key "C"
   ld      b,a
   ld      a,(6ffdh)
   or      0bfh
   and     b
   ld      (866ch),a

RDBYET1:
   pop     bc
   ld      a,b
   out     (41h),a     ; restores port 41?
   ld      a,d         ; return value A=byte read
   pop     de
   pop     bc
   ret     

1892 e5        push    hl
1893 213c86    ld      hl,863ch
1896 86        add     a,(hl)
1897 77        ld      (hl),a
1898 3002      jr      nc,189ch
189a 23        inc     hl
189b 34        inc     (hl)
189c e1        pop     hl
189d c9        ret  

189e c5        push    bc
189f e5        push    hl
18a0 cda618    call    18a6h
18a3 e1        pop     hl
18a4 c1        pop     bc
18a5 c9        ret     

18a6 210068    ld      hl,6800h
18a9 01dc05    ld      bc,05dch
18ac 7e        ld      a,(hl)
18ad c5        push    bc
18ae 46        ld      b,(hl)
18af a8        xor     b
18b0 78        ld      a,b
18b1 c1        pop     bc
18b2 fabc18    jp      m,18bch
18b5 0d        dec     c
18b6 20f5      jr      nz,18adh
18b8 10f3      djnz    18adh
18ba 37        scf     
18bb c9        ret     

18bc cb7e      bit     7,(hl)
18be 20ed      jr      nz,18adh
18c0 cb7e      bit     7,(hl)
18c2 20e9      jr      nz,18adh
18c4 0645      ld      b,45h
18c6 10fe      djnz    18c6h
18c8 cb7e      bit     7,(hl)
18ca 2006      jr      nz,18d2h
18cc cb7e      bit     7,(hl)
18ce 28fc      jr      z,18cch
18d0 18d7      jr      18a9h
18d2 065c      ld      b,5ch
18d4 3eff      ld      a,0ffh
18d6 cb7e      bit     7,(hl)
18d8 2808      jr      z,18e2h
18da 10fa      djnz    18d6h
18dc 1f        rra     
18dd cb12      rl      d
18df 7a        ld      a,d
18e0 b7        or      a
18e1 c9        ret     
18e2 cb7e      bit     7,(hl)
18e4 20f4      jr      nz,18dah
18e6 cb7e      bit     7,(hl)
18e8 20f0      jr      nz,18dah
18ea 3c        inc     a
18eb cb7e      bit     7,(hl)
18ed 20eb      jr      nz,18dah
18ef 10fa      djnz    18ebh
18f1 18e9      jr      18dch
18f3 213319    ld      hl,1933h
18f6 cd0219    call    1902h
18f9 c32217    jp      1722h
18fc 3afb85    ld      a,(CAPSLOCK)
18ff cb7f      bit     7,a
1901 c0        ret     nz
1902 7e        ld      a,(hl)
1903 b7        or      a
1904 c8        ret     z
1905 cdaa0f    call    0faah
1908 23        inc     hl
1909 18f7      jr      1902h
190b 0d        dec     c
190c 1b        dec     de
190d 42        ld      b,d
190e 57        ld      d,a
190f 41        ld      b,c
1910 49        ld      c,c
1911 54        ld      d,h
1912 49        ld      c,c
1913 4e        ld      c,(hl)
1914 47        ld      b,a
1915 1b        dec     de
1916 41        ld      b,c
1917 00        nop     
1918 0d        dec     c
1919 1b        dec     de
191a 42        ld      b,d
191b 4c        ld      c,h
191c 4f        ld      c,a
191d 41        ld      b,c
191e 44        ld      b,h
191f 49        ld      c,c
1920 4e        ld      c,(hl)
1921 47        ld      b,a
1922 1b        dec     de
1923 41        ld      b,c
1924 00        nop     
1925 0d        dec     c
1926 1b        dec     de
1927 42        ld      b,d
1928 46        ld      b,(hl)
1929 4f        ld      c,a
192a 55        ld      d,l
192b 4e        ld      c,(hl)
192c 44        ld      b,h
192d 2020      jr      nz,194fh
192f 1b        dec     de
1930 41        ld      b,c
1931 2000      jr      nz,1933h
1933 0d        dec     c
1934 0a        ld      a,(bc)
1935 4c        ld      c,h
1936 4f        ld      c,a
1937 41        ld      b,c
1938 44        ld      b,h
1939 49        ld      c,c
193a 4e        ld      c,(hl)
193b 47        ld      b,a
193c 2045      jr      nz,1983h
193e 52        ld      d,d
193f 52        ld      d,d
1940 4f        ld      c,a
1941 52        ld      d,d
1942 0d        dec     c
1943 0a        ld      a,(bc)
1944 00        nop     
1945 0d        dec     c
1946 0a        ld      a,(bc)
1947 56        ld      d,(hl)
1948 45        ld      b,l
1949 52        ld      d,d
194a 49        ld      c,c
194b 46        ld      b,(hl)
194c 59        ld      e,c
194d 2000      jr      nz,194fh
194f 45        ld      b,l
1950 52        ld      d,d
1951 52        ld      d,d
1952 4f        ld      c,a
1953 52        ld      d,d
1954 00        nop     
1955 4f        ld      c,a
1956 4b        ld      c,e
1957 00        nop     
1958 e5        push    hl
1959 21fa85    ld      hl,85fah
195c cbf6      set     6,(hl)
195e e1        pop     hl
195f c31d17    jp      171dh
1962 e5        push    hl
1963 21fa85    ld      hl,85fah
1966 cbfe      set     7,(hl)
1968 cda038    call    38a0h
196b e1        pop     hl
196c c31d17    jp      171dh
196f eb        ex      de,hl
1970 cd6518    call    1865h
1973 daf318    jp      c,18f3h
1976 be        cp      (hl)
1977 2814      jr      z,198dh
1979 214519    ld      hl,1945h
197c cd0219    call    1902h
197f 21fa85    ld      hl,85fah
1982 cbbe      res     7,(hl)
1984 214f19    ld      hl,194fh
1987 cd0219    call    1902h
198a c3b819    jp      19b8h
198d cd0b12    call    120bh
1990 23        inc     hl
1991 0b        dec     bc
1992 79        ld      a,c
1993 b0        or      b
1994 20da      jr      nz,1970h
1996 2a3c86    ld      hl,(863ch)
1999 cd6518    call    1865h
199c bd        cp      l
199d c2f318    jp      nz,18f3h
19a0 cd6518    call    1865h
19a3 bc        cp      h
19a4 c2f318    jp      nz,18f3h
19a7 21fa85    ld      hl,85fah
19aa cbbe      res     7,(hl)
19ac 214519    ld      hl,1945h
19af cd0219    call    1902h
19b2 215519    ld      hl,1955h
19b5 cd0219    call    1902h
19b8 fb        ei      
19b9 c37117    jp      1771h
19bc cd2d18    call    182dh
19bf d8        ret     c
19c0 37        scf     
19c1 3c        inc     a
19c2 c0        ret     nz
19c3 cd6518    call    1865h
19c6 d8        ret     c
19c7 5f        ld      e,a
19c8 1600      ld      d,00h
19ca ed533c86  ld      (863ch),de
19ce cd6518    call    1865h
19d1 d8        ret     c
19d2 57        ld      d,a
19d3 cd6518    call    1865h
19d6 d8        ret     c
19d7 6f        ld      l,a
19d8 cd6518    call    1865h
19db d8        ret     c
19dc 67        ld      h,a
19dd b7        or      a
19de c9        ret     
19df fe23      cp      23h
19e1 c0        ret     nz
19e2 c5        push    bc
19e3 cd1a28    call    281ah
19e6 fe22      cp      22h
19e8 2806      jr      z,19f0h
19ea cd5350    call    5053h
19ed c33650    jp      5036h
19f0 c1        pop     bc
19f1 f3        di      
19f2 0ef2      ld      c,0f2h
19f4 cd8b16    call    168bh
19f7 3817      jr      c,1a10h
19f9 2b        dec     hl
19fa cda85f    call    5fa8h
19fd 22cda8    ld      (0a8cdh),hl
1a00 5f        ld      e,a
1a01 2c        inc     l
1a02 3e80      ld      a,80h
1a04 323480    ld      (8034h),a
1a07 01fc08    ld      bc,08fch
1a0a 0b        dec     bc
1a0b 79        ld      a,c
1a0c b0        or      b
1a0d 20fb      jr      nz,1a0ah
1a0f c9        ret     
1a10 c1        pop     bc
1a11 c31712    jp      1217h
1a14 cd1a1a    call    1a1ah
1a17 c3432d    jp      2d43h
1a1a 0e01      ld      c,01h
1a1c c5        push    bc
1a1d cd1a28    call    281ah
1a20 fe22      cp      22h
1a22 2806      jr      z,1a2ah
1a24 cd5350    call    5053h
1a27 c33650    jp      5036h
1a2a c1        pop     bc
1a2b c1        pop     bc
1a2c f3        di      
1a2d cdbd16    call    16bdh
1a30 2b        dec     hl
1a31 cda85f    call    5fa8h
1a34 22cda8    ld      (0a8cdh),hl
1a37 5f        ld      e,a
1a38 2c        inc     l
1a39 e5        push    hl
1a3a 210b19    ld      hl,190bh
1a3d cdfc18    call    18fch
1a40 cdc217    call    17c2h
1a43 da1612    jp      c,1216h
1a46 3a6b86    ld      a,(866bh)
1a49 fef2      cp      0f2h
1a4b 20f3      jr      nz,1a40h
1a4d 06fa      ld      b,0fah
1a4f 218982    ld      hl,8289h
1a52 e5        push    hl
1a53 c5        push    bc
1a54 cd2d18    call    182dh
1a57 c1        pop     bc
1a58 e1        pop     hl
1a59 3c        inc     a
1a5a 2005      jr      nz,1a61h
1a5c cd6518    call    1865h
1a5f 3008      jr      nc,1a69h
1a61 213319    ld      hl,1933h
1a64 cd0219    call    1902h
1a67 18d1      jr      1a3ah
1a69 77        ld      (hl),a
1a6a 23        inc     hl
1a6b fe0d      cp      0dh
1a6d 2802      jr      z,1a71h
1a6f 10e1      djnz    1a52h
1a71 2b        dec     hl
1a72 3600      ld      (hl),00h
1a74 cd1c59    call    591ch
1a77 218882    ld      hl,8288h
1a7a fb        ei      
1a7b c3162e    jp      2e16h
1a7e cd0d35    call    350dh
1a81 0e2b      ld      c,2bh
1a83 b7        or      a
1a84 2821      jr      z,1aa7h
1a86 3d        dec     a
1a87 2813      jr      z,1a9ch
1a89 0e27      ld      c,27h
1a8b 3d        dec     a
1a8c 280e      jr      z,1a9ch
1a8e 0e2e      ld      c,2eh
1a90 3d        dec     a
1a91 2814      jr      z,1aa7h
1a93 3d        dec     a
1a94 2806      jr      z,1a9ch
1a96 0e2d      ld      c,2dh
1a98 3d        dec     a
1a99 c21c29    jp      nz,291ch
1a9c af        xor     a
1a9d ed40      in      b,(c)
1a9f cb60      bit     4,b
1aa1 2001      jr      nz,1aa4h
1aa3 3c        inc     a
1aa4 c37632    jp      3276h
1aa7 ed78      in      a,(c)
1aa9 e60f      and     0fh
1aab 11b71a    ld      de,1ab7h
1aae 83        add     a,e
1aaf 5f        ld      e,a
1ab0 3001      jr      nc,1ab3h
1ab2 14        inc     d
1ab3 1a        ld      a,(de)
1ab4 c37632    jp      3276h
1ab7 00        nop     
1ab8 00        nop     
1ab9 00        nop     
1aba 00        nop     
1abb 00        nop     
1abc 04        inc     b
1abd 02        ld      (bc),a
1abe 03        inc     bc
1abf 00        nop     
1ac0 0608      ld      b,08h
1ac2 07        rlca    
1ac3 00        nop     
1ac4 05        dec     b
1ac5 0100c3    ld      bc,0c300h
1ac8 d0        ret     nc
1ac9 85        add     a,l
1aca c3d866    jp      BOOT_SEQUENCE
1acd 61        ld      h,c
1ace 3d        dec     a
1acf c0        ret     nz
1ad0 3d        dec     a
1ad1 d8        ret     c
1ad2 5f        ld      e,a
1ad3 d326      out     (26h),a
1ad5 5c        ld      e,h
1ad6 61        ld      h,c
1ad7 ea294a    jp      pe,4a29h
1ada 2d        dec     l
1adb b2        or      d
1adc 59        ld      e,c
1add 1a        ld      a,(de)
1ade 2e11      ld      l,11h
1ae0 2a9429    ld      hl,(2994h)
1ae3 66        ld      h,(hl)
1ae4 29        add     hl,hl
1ae5 47        ld      b,a
1ae6 2b        dec     hl
1ae7 ba        cp      d
1ae8 5f        ld      e,a
1ae9 7d        ld      a,l
1aea 29        add     hl,hl
1aeb cf        rst     08h
1aec 29        add     hl,hl
1aed ec29d4    call    pe,0d429h
1af0 5f        ld      e,a
1af1 8d        adc     a,l
1af2 2b        dec     hl
1af3 d8        ret     c
1af4 60        ld      h,b
1af5 1e35      ld      e,35h
1af7 f9        ld      sp,hl
1af8 5e        ld      e,(hl)
1af9 77        ld      (hl),a
1afa 2a4160    ld      hl,(6041h)
1afd 9c        sbc     a,h
1afe 34        inc     (hl)
1aff ca323f    jp      z,3f32h
1b02 37        scf     
1b03 2d        dec     l
1b04 60        ld      h,b
1b05 93        sub     e
1b06 15        dec     d
1b07 14        inc     d
1b08 17        rla     
1b09 95        sub     l
1b0a 34        inc     (hl)
1b0b 85        add     a,l
1b0c 2b        dec     hl
1b0d 19        add     hl,de
1b0e 35        dec     (hl)
1b0f 14        inc     d
1b10 0f        rrca    
1b11 bc        cp      h
1b12 34        inc     (hl)
1b13 ec294a    call    pe,4a29h
1b16 60        ld      h,b
1b17 4b        ld      c,e
1b18 60        ld      h,b
1b19 50        ld      d,b
1b1a 60        ld      h,b
1b1b 91        sub     c
1b1c 60        ld      h,b
1b1d 19        add     hl,de
1b1e 0f        rrca    
1b1f 0a        ld      a,(bc)
1b20 2b        dec     hl
1b21 c0        ret     nz
1b22 2afd36    ld      hl,(36fdh)
1b25 15        dec     d
1b26 2b        dec     hl
1b27 78        ld      a,b
1b28 37        scf     
1b29 d0        ret     nc
1b2a 28d3      jr      z,1affh
1b2c 28d6      jr      z,1b04h
1b2e 28d9      jr      z,1b09h
1b30 28de      jr      z,1b10h
1b32 2c        inc     l
1b33 c412c1    call    nz,0c112h
1b36 12        ld      (de),a
1b37 80        add     a,b
1b38 53        ld      d,e
1b39 a1        and     c
1b3a 53        ld      d,e
1b3b 1054      djnz    1b91h
1b3d d354      out     (54h),a
1b3f 85        add     a,l
1b40 85        add     a,l
1b41 88        adc     a,b
1b42 85        add     a,l
1b43 a8        xor     b
1b44 38f2      jr      c,1b38h
1b46 388a      jr      c,1ad2h
1b48 0f        rrca    
1b49 8b        adc     a,e
1b4a 85        add     a,l
1b4b b5        or      l
1b4c 108e      djnz    1adch
1b4e 85        add     a,l
1b4f 91        sub     c
1b50 85        add     a,l
1b51 94        sub     h
1b52 85        add     a,l
1b53 97        sub     a
1b54 85        add     a,l
1b55 9a        sbc     a,d
1b56 85        add     a,l
1b57 9d        sbc     a,l
1b58 85        add     a,l
1b59 a0        and     b
1b5a 85        add     a,l
1b5b a3        and     e
1b5c 85        add     a,l
1b5d a6        and     (hl)
1b5e 85        add     a,l
1b5f a9        xor     c
1b60 85        add     a,l
1b61 ac        xor     h
1b62 85        add     a,l
1b63 af        xor     a
1b64 85        add     a,l
1b65 b2        or      d
1b66 85        add     a,l
1b67 b5        or      l
1b68 85        add     a,l
1b69 e20f98    jp      po,980fh
1b6c 115819    ld      de,1958h
1b6f 62        ld      h,d
1b70 19        add     hl,de
1b71 57        ld      d,a
1b72 0f        rrca    
1b73 c7        rst     00h
1b74 1a        ld      a,(de)
1b75 bb        cp      e
1b76 12        ld      (de),a
1b77 be        cp      (hl)
1b78 12        ld      (de),a
1b79 b8        cp      b
1b7a 85        add     a,l
1b7b 96        sub     (hl)
1b7c 6b        ld      l,e
1b7d 00        nop     
1b7e 00        nop     
1b7f 00        nop     
1b80 00        nop     
1b81 e46414    call    po,1464h
1b84 65        ld      h,l
1b85 1d        dec     e
1b86 65        ld      h,l
1b87 6c        ld      l,h
1b88 3c        inc     a
1b89 62        ld      h,d
1b8a 3e57      ld      a,57h
1b8c 3c        inc     a
1b8d fe49      cp      49h
1b8f 14        inc     d
1b90 4b        ld      c,e
1b91 af        xor     a
1b92 4b        ld      c,e
1b93 c0        ret     nz
1b94 3a664a    ld      a,(4a66h)
1b97 a9        xor     c
1b98 4b        ld      c,e
1b99 4c        ld      c,h
1b9a 4c        ld      c,h
1b9b 61        ld      h,c
1b9c 4c        ld      c,h
1b9d 82        add     a,d
1b9e 66        ld      h,(hl)
1b9f 89        adc     a,c
1ba0 34        inc     (hl)
1ba1 72        ld      (hl),d
1ba2 327864    ld      (6478h),a
1ba5 4c        ld      c,h
1ba6 62        ld      h,d
1ba7 3e65      ld      a,65h
1ba9 84        add     a,h
1baa 64        ld      h,h
1bab 94        sub     h
1bac 64        ld      h,h
1bad 35        dec     (hl)
1bae 37        scf     
1baf cb64      bit     4,h
1bb1 42        ld      b,d
1bb2 62        ld      h,d
1bb3 47        ld      b,a
1bb4 62        ld      h,d
1bb5 6d        ld      l,l
1bb6 32613d    ld      (3d61h),a
1bb9 d7        rst     10h
1bba 3d        dec     a
1bbb 03        inc     bc
1bbc 3e4f      ld      a,4fh
1bbe 3e7e      ld      a,7eh
1bc0 1a        ld      a,(de)
1bc1 00        nop     
1bc2 00        nop     
1bc3 00        nop     
1bc4 00        nop     
1bc5 00        nop     
1bc6 00        nop     
1bc7 00        nop     
1bc8 00        nop     
1bc9 00        nop     
1bca 00        nop     
1bcb 00        nop     
1bcc 00        nop     
1bcd 00        nop     
1bce 00        nop     
1bcf 00        nop     
1bd0 00        nop     
1bd1 00        nop     
1bd2 00        nop     
1bd3 00        nop     
1bd4 00        nop     
1bd5 99        sbc     a,c
1bd6 50        ld      d,b
1bd7 9c        sbc     a,h
1bd8 50        ld      d,b
1bd9 9f        sbc     a,a
1bda 50        ld      d,b
1bdb 00        nop     
1bdc 00        nop     
1bdd bb        cp      e
1bde 85        add     a,l
1bdf be        cp      (hl)
1be0 85        add     a,l
1be1 c1        pop     bc
1be2 85        add     a,l
1be3 80        add     a,b
1be4 50        ld      d,b
1be5 83        add     a,e
1be6 50        ld      d,b
1be7 86        add     a,(hl)
1be8 50        ld      d,b
1be9 1d        dec     e
1bea 1c        inc     e
1beb 2e1c      ld      l,1ch
1bed 2f        cpl     
1bee 1c        inc     e
1bef 83        add     a,e
1bf0 1c        inc     e
1bf1 b0        or      b
1bf2 1c        inc     e
1bf3 d1        pop     de
1bf4 1c        inc     e
1bf5 e7        rst     20h
1bf6 1c        inc     e
1bf7 fb        ei      
1bf8 1c        inc     e
1bf9 00        nop     
1bfa 1d        dec     e
1bfb 1c        inc     e
1bfc 1d        dec     e
1bfd 201d      jr      nz,1c1ch
1bff 281d      jr      z,1c1eh
1c01 5c        ld      e,h
1c02 1d        dec     e
1c03 81        add     a,c
1c04 1d        dec     e
1c05 94        sub     h
1c06 1d        dec     e
1c07 aa        xor     d
1c08 1d        dec     e
1c09 c8        ret     z
1c0a 1d        dec     e
1c0b c9        ret     
1c0c 1d        dec     e
1c0d 0a        ld      a,(bc)
1c0e 1e47      ld      e,47h
1c10 1e62      ld      e,62h
1c12 1e6b      ld      e,6bh
1c14 1e7b      ld      e,7bh
1c16 1e93      ld      e,93h
1c18 1e97      ld      e,97h
1c1a 1e98      ld      e,98h
1c1c 1e55      ld      e,55h
1c1e 54        ld      d,h
1c1f cf        rst     08h
1c20 ab        xor     e
1c21 4e        ld      c,(hl)
1c22 c4f742    call    nz,42f7h
1c25 d306      out     (06h),a
1c27 54        ld      d,h
1c28 ce0e      adc     a,0eh
1c2a 53        ld      d,e
1c2b c31500    jp      0015h
1c2e 00        nop     
1c2f 4c        ld      c,h
1c30 4f        ld      c,a
1c31 53        ld      d,e
1c32 c5        push    bc
1c33 c34f4e    jp      4e4fh
1c36 d49a4c    call    nc,4c9ah
1c39 45        ld      b,l
1c3a 41        ld      b,c
1c3b d29249    jp      nc,4992h
1c3e 4e        ld      c,(hl)
1c3f d41c53    call    nc,531ch
1c42 4e        ld      c,(hl)
1c43 c7        rst     00h
1c44 1d        dec     e
1c45 44        ld      b,h
1c46 42        ld      b,d
1c47 cc1e56    call    z,561eh
1c4a c9        ret     
1c4b 2b        dec     hl
1c4c 56        ld      d,(hl)
1c4d d32c      out     (2ch),a
1c4f 56        ld      d,(hl)
1c50 c42d4f    call    nz,4f2dh
1c53 d30c      out     (0ch),a
1c55 48        ld      c,b
1c56 52        ld      d,d
1c57 a4        and     h
1c58 1641      ld      d,41h
1c5a 4c        ld      c,h
1c5b ccb64f    call    z,4fb6h
1c5e 4d        ld      c,l
1c5f 4d        ld      c,l
1c60 4f        ld      c,a
1c61 ceb8      adc     a,0b8h
1c63 48        ld      c,b
1c64 41        ld      b,c
1c65 49        ld      c,c
1c66 ceb9      adc     a,0b9h
1c68 53        ld      d,e
1c69 41        ld      b,c
1c6a 56        ld      d,(hl)
1c6b c5        push    bc
1c6c 9b        sbc     a,e
1c6d 4c        ld      c,h
1c6e 4f        ld      c,a
1c6f 41        ld      b,c
1c70 c49c4c    call    nz,4c9ch
1c73 d3a0      out     (0a0h),a
1c75 4f        ld      c,a
1c76 4c        ld      c,h
1c77 4f        ld      c,a
1c78 d2a752    jp      nc,52a7h
1c7b 55        ld      d,l
1c7c cecf      adc     a,0cfh
1c7e 4f        ld      c,a
1c7f 50        ld      d,b
1c80 d9        exx     
1c81 d20045    jp      nc,4500h
1c84 4c        ld      c,h
1c85 45        ld      b,l
1c86 54        ld      d,h
1c87 c5        push    bc
1c88 aa        xor     d
1c89 41        ld      b,c
1c8a 54        ld      d,h
1c8b c1        pop     bc
1c8c 84        add     a,h
1c8d 49        ld      c,c
1c8e cd8645    call    4586h
1c91 46        ld      b,(hl)
1c92 53        ld      d,e
1c93 54        ld      d,h
1c94 d2ad45    jp      nc,45adh
1c97 46        ld      b,(hl)
1c98 49        ld      c,c
1c99 4e        ld      c,(hl)
1c9a d4ae45    call    nc,45aeh
1c9d 46        ld      b,(hl)
1c9e 53        ld      d,e
1c9f 4e        ld      c,(hl)
1ca0 c7        rst     00h
1ca1 af        xor     a
1ca2 45        ld      b,l
1ca3 46        ld      b,(hl)
1ca4 44        ld      b,h
1ca5 42        ld      b,d
1ca6 ccb045    call    z,45b0h
1ca9 c698      add     a,98h
1cab 52        ld      d,d
1cac 41        ld      b,c
1cad d7        rst     10h
1cae d4004c    call    nc,4c00h
1cb1 53        ld      d,e
1cb2 c5        push    bc
1cb3 a2        and     d
1cb4 4e        ld      c,(hl)
1cb5 c48152    call    nz,5281h
1cb8 41        ld      b,c
1cb9 53        ld      d,e
1cba c5        push    bc
1cbb a6        and     (hl)
1cbc 52        ld      d,d
1cbd 52        ld      d,d
1cbe 4f        ld      c,a
1cbf d2a852    jp      nc,52a8h
1cc2 cce252    call    z,52e2h
1cc5 d2e358    jp      nc,58e3h
1cc8 d0        ret     nc
1cc9 0b        dec     bc
1cca 4f        ld      c,a
1ccb c62f      add     a,2fh
1ccd 51        ld      d,c
1cce d6fa      sub     0fah
1cd0 00        nop     
1cd1 4f        ld      c,a
1cd2 d28249    jp      nc,4982h
1cd5 45        ld      b,l
1cd6 4c        ld      c,h
1cd7 c4c049    call    nz,49c0h
1cda 4c        ld      c,h
1cdb 45        ld      b,l
1cdc d3c6      out     (0c6h),a
1cde cedf      adc     a,0dfh
1ce0 52        ld      d,d
1ce1 c5        push    bc
1ce2 0f        rrca    
1ce3 49        ld      c,c
1ce4 d8        ret     c
1ce5 1f        rra     
1ce6 00        nop     
1ce7 4f        ld      c,a
1ce8 54        ld      d,h
1ce9 cf        rst     08h
1cea 89        adc     a,c
1ceb 4f        ld      c,a
1cec 2054      jr      nz,1d42h
1cee cf        rst     08h
1cef 89        adc     a,c
1cf0 4f        ld      c,a
1cf1 53        ld      d,e
1cf2 55        ld      d,l
1cf3 c28d45    jp      nz,458dh
1cf6 d4c1d2    call    nc,0d2c1h
1cf9 be        cp      (hl)
1cfa 00        nop     
1cfb 45        ld      b,l
1cfc 58        ld      e,b
1cfd a4        and     h
1cfe 1a        ld      a,(de)
1cff 00        nop     
1d00 4e        ld      c,(hl)
1d01 50        ld      d,b
1d02 55        ld      d,l
1d03 d485c6    call    nc,0c685h
1d06 8b        adc     a,e
1d07 4e        ld      c,(hl)
1d08 53        ld      d,e
1d09 54        ld      d,h
1d0a d2e64e    jp      nc,4ee6h
1d0d d4054e    call    nc,4e05h
1d10 d0        ret     nc
1d11 104d      djnz    1d60h
1d13 d0        ret     nc
1d14 fb        ei      
1d15 4e        ld      c,(hl)
1d16 4b        ld      c,e
1d17 45        ld      b,l
1d18 59        ld      e,c
1d19 a4        and     h
1d1a e9        jp      (hl)
1d1b 00        nop     
1d1c 4f        ld      c,a
1d1d d9        exx     
1d1e 2000      jr      nz,1d20h
1d20 49        ld      c,c
1d21 4c        ld      c,h
1d22 ccc845    call    z,45c8h
1d25 d9        exx     
1d26 cd0050    call    5000h
1d29 52        ld      d,d
1d2a 49        ld      c,c
1d2b 4e        ld      c,(hl)
1d2c d49e4c    call    nc,4c9eh
1d2f 49        ld      c,c
1d30 53        ld      d,e
1d31 d49f50    call    nc,509fh
1d34 4f        ld      c,a
1d35 d31b      out     (1bh),a
1d37 45        ld      b,l
1d38 d48849    call    nc,4988h
1d3b 4e        ld      c,(hl)
1d3c c5        push    bc
1d3d b1        or      c
1d3e 4f        ld      c,a
1d3f 41        ld      b,c
1d40 c4c453    call    nz,53c4h
1d43 45        ld      b,l
1d44 d4c949    call    nc,49c9h
1d47 53        ld      d,e
1d48 d4934f    call    nc,4f93h
1d4b c7        rst     00h
1d4c 0a        ld      a,(bc)
1d4d 4f        ld      c,a
1d4e c33045    jp      4530h
1d51 ce12      adc     a,12h
1d53 45        ld      b,l
1d54 46        ld      b,(hl)
1d55 54        ld      d,h
1d56 a4        and     h
1d57 014fc6    ld      bc,0c64fh
1d5a 310045    ld      sp,4500h
1d5d 52        ld      d,d
1d5e 47        ld      b,a
1d5f c5        push    bc
1d60 c5        push    bc
1d61 4f        ld      c,a
1d62 c4fc4b    call    nz,4bfch
1d65 49        ld      c,c
1d66 a4        and     h
1d67 324b53    ld      (534bh),a
1d6a a4        and     h
1d6b 33        inc     sp
1d6c 4b        ld      c,e
1d6d 44        ld      b,h
1d6e a4        and     h
1d6f 34        inc     (hl)
1d70 49        ld      c,c
1d71 44        ld      b,h
1d72 a4        and     h
1d73 03        inc     bc
1d74 4f        ld      c,a
1d75 54        ld      d,h
1d76 4f        ld      c,a
1d77 d2d14f    jp      nc,4fd1h
1d7a 56        ld      d,(hl)
1d7b c5        push    bc
1d7c d34f      out     (4fh),a
1d7e ced6      adc     a,0d6h
1d80 00        nop     
1d81 45        ld      b,l
1d82 58        ld      e,b
1d83 d48355    call    nc,5583h
1d86 4c        ld      c,h
1d87 cc9641    call    z,4196h
1d8a 4d        ld      c,l
1d8b c5        push    bc
1d8c c7        rst     00h
1d8d 45        ld      b,l
1d8e d7        rst     10h
1d8f 94        sub     h
1d90 4f        ld      c,a
1d91 d4e100    call    nc,00e1h
1d94 50        ld      d,b
1d95 45        ld      b,l
1d96 cebf      adc     a,0bfh
1d98 55        ld      d,l
1d99 d49dce    call    nc,0ce9dh
1d9c 95        sub     l
1d9d d2f843    jp      nc,43f8h
1da0 54        ld      d,h
1da1 a4        and     h
1da2 19        add     hl,de
1da3 50        ld      d,b
1da4 54        ld      d,h
1da5 49        ld      c,c
1da6 4f        ld      c,a
1da7 ceba      adc     a,0bah
1da9 00        nop     
1daa 52        ld      d,d
1dab 49        ld      c,c
1dac 4e        ld      c,(hl)
1dad d49155    call    nc,5591h
1db0 d4c24f    call    nc,4fc2h
1db3 4b        ld      c,e
1db4 c5        push    bc
1db5 99        sbc     a,c
1db6 4f        ld      c,a
1db7 d311      out     (11h),a
1db9 45        ld      b,l
1dba 45        ld      b,l
1dbb cb17      rl      a
1dbd 4f        ld      c,a
1dbe 49        ld      c,c
1dbf 4e        ld      c,(hl)
1dc0 d4ea41    call    nc,41eah
1dc3 49        ld      c,c
1dc4 4e        ld      c,(hl)
1dc5 d4d500    call    nc,00d5h
1dc8 00        nop     
1dc9 45        ld      b,l
1dca 54        ld      d,h
1dcb 55        ld      d,l
1dcc 52        ld      d,d
1dcd ce8e      adc     a,8eh
1dcf 45        ld      b,l
1dd0 41        ld      b,c
1dd1 c48755    call    nz,5587h
1dd4 ce8a      adc     a,8ah
1dd6 45        ld      b,l
1dd7 53        ld      d,e
1dd8 54        ld      d,h
1dd9 4f        ld      c,a
1dda 52        ld      d,d
1ddb c5        push    bc
1ddc 8c        adc     a,h
1ddd 45        ld      b,l
1dde cd8f45    call    458fh
1de1 53        ld      d,e
1de2 55        ld      d,l
1de3 4d        ld      c,l
1de4 c5        push    bc
1de5 a9        xor     c
1de6 53        ld      d,e
1de7 45        ld      b,l
1de8 d4ca49    call    nc,49cah
1deb 47        ld      b,a
1dec 48        ld      c,b
1ded 54        ld      d,h
1dee a4        and     h
1def 02        ld      (bc),a
1df0 4e        ld      c,(hl)
1df1 c40845    call    nz,4508h
1df4 4e        ld      c,(hl)
1df5 55        ld      d,l
1df6 cdac45    call    45ach
1df9 53        ld      d,e
1dfa 45        ld      b,l
1dfb d4cc41    call    nc,41cch
1dfe 4e        ld      c,(hl)
1dff 44        ld      b,h
1e00 4f        ld      c,a
1e01 4d        ld      c,l
1e02 49        ld      c,c
1e03 5a        ld      e,d
1e04 c5        push    bc
1e05 bb        cp      e
1e06 45        ld      b,l
1e07 d3b3      out     (0b3h),a
1e09 00        nop     
1e0a 54        ld      d,h
1e0b 4f        ld      c,a
1e0c d0        ret     nc
1e0d 90        sub     b
1e0e 57        ld      d,a
1e0f 41        ld      b,c
1e10 d0        ret     nc
1e11 a5        and     l
1e12 41        ld      b,c
1e13 56        ld      d,(hl)
1e14 c5        push    bc
1e15 cb50      bit     2,b
1e17 43        ld      b,e
1e18 a8        xor     b
1e19 e0        ret     po
1e1a 54        ld      d,h
1e1b 45        ld      b,l
1e1c d0        ret     nc
1e1d dd47      ld      b,a
1e1f ce04      adc     a,04h
1e21 51        ld      d,c
1e22 d20749    jp      nc,4907h
1e25 ce09      adc     a,09h
1e27 54        ld      d,h
1e28 52        ld      d,d
1e29 a4        and     h
1e2a 13        inc     de
1e2b 54        ld      d,h
1e2c 52        ld      d,d
1e2d 49        ld      c,c
1e2e 4e        ld      c,(hl)
1e2f 47        ld      b,a
1e30 a4        and     h
1e31 e45041    call    po,4150h
1e34 43        ld      b,e
1e35 45        ld      b,l
1e36 a4        and     h
1e37 1859      jr      1e92h
1e39 53        ld      d,e
1e3a 54        ld      d,h
1e3b 45        ld      b,l
1e3c cdbd45    call    45bdh
1e3f d4b24f    call    nc,4fb2h
1e42 55        ld      d,l
1e43 4e        ld      c,(hl)
1e44 c4ce00    call    nz,00ceh
1e47 48        ld      c,b
1e48 45        ld      b,l
1e49 cedb      adc     a,0dbh
1e4b 52        ld      d,d
1e4c 4f        ld      c,a
1e4d cea3      adc     a,0a3h
1e4f 52        ld      d,d
1e50 4f        ld      c,a
1e51 46        ld      b,(hl)
1e52 c6a4      add     a,0a4h
1e54 41        ld      b,c
1e55 42        ld      b,d
1e56 a8        xor     b
1e57 dccfda    call    c,0dacfh
1e5a 41        ld      b,c
1e5b ce0d      adc     a,0dh
1e5d 45        ld      b,l
1e5e 58        ld      e,b
1e5f d4bc00    call    nc,00bch
1e62 53        ld      d,e
1e63 49        ld      c,c
1e64 4e        ld      c,(hl)
1e65 c7        rst     00h
1e66 e5        push    hl
1e67 53        ld      d,e
1e68 d2de00    jp      nc,00deh
1e6b 41        ld      b,c
1e6c cc1441    call    z,4114h
1e6f 52        ld      d,d
1e70 50        ld      d,b
1e71 54        ld      d,h
1e72 d2e845    jp      nc,45e8h
1e75 52        ld      d,d
1e76 49        ld      c,c
1e77 46        ld      b,(hl)
1e78 d9        exx     
1e79 d0        ret     nc
1e7a 00        nop     
1e7b 49        ld      c,c
1e7c 44        ld      b,h
1e7d 54        ld      d,h
1e7e c8        ret     z
1e7f a1        and     c
1e80 41        ld      b,c
1e81 49        ld      c,c
1e82 d49748    call    nc,4897h
1e85 49        ld      c,c
1e86 4c        ld      c,h
1e87 c5        push    bc
1e88 b4        or      h
1e89 45        ld      b,l
1e8a 4e        ld      c,(hl)
1e8b c4b552    call    nz,52b5h
1e8e 49        ld      c,c
1e8f 54        ld      d,h
1e90 c5        push    bc
1e91 b7        or      a
1e92 00        nop     
1e93 4f        ld      c,a
1e94 d2f900    jp      nc,00f9h
1e97 00        nop     
1e98 00        nop     
1e99 ab        xor     e
1e9a f2adf3    jp      p,0f3adh
1e9d aa        xor     d
1e9e f4aff5    call    p,0f5afh
1ea1 def6      sbc     a,0f6h
1ea3 dcfda7    call    c,0a7fdh
1ea6 e7        rst     20h
1ea7 be        cp      (hl)
1ea8 ef        rst     28h
1ea9 bd        cp      l
1eaa f0        ret     p
1eab bc        cp      h
1eac f1        pop     af
1ead 00        nop     
1eae 79        ld      a,c
1eaf 79        ld      a,c
1eb0 7c        ld      a,h
1eb1 7c        ld      a,h
1eb2 7f        ld      a,a
1eb3 50        ld      d,b
1eb4 46        ld      b,(hl)
1eb5 3c        inc     a
1eb6 32287a    ld      (7a28h),a
1eb9 7b        ld      a,e
1eba 03        inc     bc
1ebb 3e00      ld      a,00h
1ebd 00        nop     
1ebe 61        ld      h,c
1ebf 3d        dec     a
1ec0 1d        dec     e
1ec1 3ed7      ld      a,0d7h
1ec3 3d        dec     a
1ec4 f3        di      
1ec5 3f        ccf     
1ec6 ec3f1f    call    pe,1f3fh
1ec9 41        ld      b,c
1eca f4415a    call    p,5a41h
1ecd 3d        dec     a
1ece 9c        sbc     a,h
1ecf 39        add     hl,sp
1ed0 99        sbc     a,c
1ed1 39        add     hl,sp
1ed2 05        dec     b
1ed3 3b        dec     sp
1ed4 68        ld      l,b
1ed5 3b        dec     sp
1ed6 f1        pop     af
1ed7 3c        inc     a
1ed8 09        add     hl,bc
1ed9 3f        ccf     
1eda fe3e      cp      3eh
1edc 29        add     hl,hl
1edd 3f        ccf     
1ede 3f        ccf     
1edf 301e      jr      nc,1effh
1ee1 3d        dec     a
1ee2 00        nop     
1ee3 4e        ld      c,(hl)
1ee4 45        ld      b,l
1ee5 58        ld      e,b
1ee6 54        ld      d,h
1ee7 2077      jr      nz,1f60h
1ee9 69        ld      l,c
1eea 74        ld      (hl),h
1eeb 68        ld      l,b
1eec 6f        ld      l,a
1eed 75        ld      (hl),l
1eee 74        ld      (hl),h
1eef 2046      jr      nz,1f37h
1ef1 4f        ld      c,a
1ef2 52        ld      d,d
1ef3 00        nop     
1ef4 53        ld      d,e
1ef5 79        ld      a,c
1ef6 6e        ld      l,(hl)
1ef7 74        ld      (hl),h
1ef8 61        ld      h,c
1ef9 78        ld      a,b
1efa 2065      jr      nz,1f61h
1efc 72        ld      (hl),d
1efd 72        ld      (hl),d
1efe 6f        ld      l,a
1eff 72        ld      (hl),d
1f00 00        nop     
1f01 52        ld      d,d
1f02 45        ld      b,l
1f03 54        ld      d,h
1f04 55        ld      d,l
1f05 52        ld      d,d
1f06 4e        ld      c,(hl)
1f07 2077      jr      nz,1f80h
1f09 69        ld      l,c
1f0a 74        ld      (hl),h
1f0b 68        ld      l,b
1f0c 6f        ld      l,a
1f0d 75        ld      (hl),l
1f0e 74        ld      (hl),h
1f0f 2047      jr      nz,1f58h
1f11 4f        ld      c,a
1f12 53        ld      d,e
1f13 55        ld      d,l
1f14 42        ld      b,d
1f15 00        nop     
1f16 4f        ld      c,a
1f17 75        ld      (hl),l
1f18 74        ld      (hl),h
1f19 206f      jr      nz,1f8ah
1f1b 66        ld      h,(hl)
1f1c 2044      jr      nz,1f62h
1f1e 41        ld      b,c
1f1f 54        ld      d,h
1f20 41        ld      b,c
1f21 00        nop     
1f22 49        ld      c,c
1f23 6c        ld      l,h
1f24 6c        ld      l,h
1f25 65        ld      h,l
1f26 67        ld      h,a
1f27 61        ld      h,c
1f28 6c        ld      l,h
1f29 2066      jr      nz,1f91h
1f2b 75        ld      (hl),l
1f2c 6e        ld      l,(hl)
1f2d 63        ld      h,e
1f2e 74        ld      (hl),h
1f2f 69        ld      l,c
1f30 6f        ld      l,a
1f31 6e        ld      l,(hl)
1f32 2063      jr      nz,1f97h
1f34 61        ld      h,c
1f35 6c        ld      l,h
1f36 6c        ld      l,h
1f37 00        nop     
1f38 4f        ld      c,a
1f39 76        halt    
1f3a 65        ld      h,l
1f3b 72        ld      (hl),d
1f3c 66        ld      h,(hl)
1f3d 6c        ld      l,h
1f3e 6f        ld      l,a
1f3f 77        ld      (hl),a
1f40 00        nop     
1f41 4f        ld      c,a
1f42 75        ld      (hl),l
1f43 74        ld      (hl),h
1f44 206f      jr      nz,1fb5h
1f46 66        ld      h,(hl)
1f47 206d      jr      nz,1fb6h
1f49 65        ld      h,l
1f4a 6d        ld      l,l
1f4b 6f        ld      l,a
1f4c 72        ld      (hl),d
1f4d 79        ld      a,c
1f4e 00        nop     
1f4f 55        ld      d,l
1f50 6e        ld      l,(hl)
1f51 64        ld      h,h
1f52 65        ld      h,l
1f53 66        ld      h,(hl)
1f54 69        ld      l,c
1f55 6e        ld      l,(hl)
1f56 65        ld      h,l
1f57 64        ld      h,h
1f58 206c      jr      nz,1fc6h
1f5a 69        ld      l,c
1f5b 6e        ld      l,(hl)
1f5c 65        ld      h,l
1f5d 206e      jr      nz,1fcdh
1f5f 75        ld      (hl),l
1f60 6d        ld      l,l
1f61 62        ld      h,d
1f62 65        ld      h,l
1f63 72        ld      (hl),d
1f64 00        nop     
1f65 53        ld      d,e
1f66 75        ld      (hl),l
1f67 62        ld      h,d
1f68 73        ld      (hl),e
1f69 63        ld      h,e
1f6a 72        ld      (hl),d
1f6b 69        ld      l,c
1f6c 70        ld      (hl),b
1f6d 74        ld      (hl),h
1f6e 206f      jr      nz,1fdfh
1f70 75        ld      (hl),l
1f71 74        ld      (hl),h
1f72 206f      jr      nz,1fe3h
1f74 66        ld      h,(hl)
1f75 2072      jr      nz,1fe9h
1f77 61        ld      h,c
1f78 6e        ld      l,(hl)
1f79 67        ld      h,a
1f7a 65        ld      h,l
1f7b 00        nop     
1f7c 44        ld      b,h
1f7d 75        ld      (hl),l
1f7e 70        ld      (hl),b
1f7f 6c        ld      l,h
1f80 69        ld      l,c
1f81 63        ld      h,e
1f82 61        ld      h,c
1f83 74        ld      (hl),h
1f84 65        ld      h,l
1f85 2044      jr      nz,1fcbh
1f87 65        ld      h,l
1f88 66        ld      h,(hl)
1f89 69        ld      l,c
1f8a 6e        ld      l,(hl)
1f8b 69        ld      l,c
1f8c 74        ld      (hl),h
1f8d 69        ld      l,c
1f8e 6f        ld      l,a
1f8f 6e        ld      l,(hl)
1f90 00        nop     
1f91 44        ld      b,h
1f92 69        ld      l,c
1f93 76        halt    
1f94 69        ld      l,c
1f95 73        ld      (hl),e
1f96 69        ld      l,c
1f97 6f        ld      l,a
1f98 6e        ld      l,(hl)
1f99 2062      jr      nz,1ffdh
1f9b 79        ld      a,c
1f9c 207a      jr      nz,2018h
1f9e 65        ld      h,l
1f9f 72        ld      (hl),d
1fa0 6f        ld      l,a
1fa1 00        nop     
1fa2 49        ld      c,c
1fa3 6c        ld      l,h
1fa4 6c        ld      l,h
1fa5 65        ld      h,l
1fa6 67        ld      h,a
1fa7 61        ld      h,c
1fa8 6c        ld      l,h
1fa9 2064      jr      nz,200fh
1fab 69        ld      l,c
1fac 72        ld      (hl),d
1fad 65        ld      h,l
1fae 63        ld      h,e
1faf 74        ld      (hl),h
1fb0 00        nop     
1fb1 54        ld      d,h
1fb2 79        ld      a,c
1fb3 70        ld      (hl),b
1fb4 65        ld      h,l
1fb5 206d      jr      nz,2024h
1fb7 69        ld      l,c
1fb8 73        ld      (hl),e
1fb9 6d        ld      l,l
1fba 61        ld      h,c
1fbb 74        ld      (hl),h
1fbc 63        ld      h,e
1fbd 68        ld      l,b
1fbe 00        nop     
1fbf 4f        ld      c,a
1fc0 75        ld      (hl),l
1fc1 74        ld      (hl),h
1fc2 206f      jr      nz,2033h
1fc4 66        ld      h,(hl)
1fc5 2073      jr      nz,203ah
1fc7 74        ld      (hl),h
1fc8 72        ld      (hl),d
1fc9 69        ld      l,c
1fca 6e        ld      l,(hl)
1fcb 67        ld      h,a
1fcc 2073      jr      nz,2041h
1fce 70        ld      (hl),b
1fcf 61        ld      h,c
1fd0 63        ld      h,e
1fd1 65        ld      h,l
1fd2 00        nop     
1fd3 53        ld      d,e
1fd4 74        ld      (hl),h
1fd5 72        ld      (hl),d
1fd6 69        ld      l,c
1fd7 6e        ld      l,(hl)
1fd8 67        ld      h,a
1fd9 2074      jr      nz,204fh
1fdb 6f        ld      l,a
1fdc 6f        ld      l,a
1fdd 206c      jr      nz,204bh
1fdf 6f        ld      l,a
1fe0 6e        ld      l,(hl)
1fe1 67        ld      h,a
1fe2 00        nop     
1fe3 53        ld      d,e
1fe4 74        ld      (hl),h
1fe5 72        ld      (hl),d
1fe6 69        ld      l,c
1fe7 6e        ld      l,(hl)
1fe8 67        ld      h,a
1fe9 2066      jr      nz,2051h
1feb 6f        ld      l,a
1fec 72        ld      (hl),d
1fed 6d        ld      l,l
1fee 75        ld      (hl),l
1fef 6c        ld      l,h
1ff0 61        ld      h,c
1ff1 2074      jr      nz,2067h
1ff3 6f        ld      l,a
1ff4 6f        ld      l,a
1ff5 2063      jr      nz,205ah
1ff7 6f        ld      l,a
1ff8 6d        ld      l,l
1ff9 70        ld      (hl),b
1ffa 6c        ld      l,h
1ffb 65        ld      h,l
1ffc 78        ld      a,b
1ffd 00        nop     
1ffe 43        ld      b,e
1fff 61        ld      h,c
2000 6e        ld      l,(hl)
2001 27        daa     
2002 74        ld      (hl),h
2003 2063      jr      nz,2068h
2005 6f        ld      l,a
2006 6e        ld      l,(hl)
2007 74        ld      (hl),h
2008 69        ld      l,c
2009 6e        ld      l,(hl)
200a 75        ld      (hl),l
200b 65        ld      h,l
200c 00        nop     
200d 55        ld      d,l
200e 6e        ld      l,(hl)
200f 64        ld      h,h
2010 65        ld      h,l
2011 66        ld      h,(hl)
2012 69        ld      l,c
2013 6e        ld      l,(hl)
2014 65        ld      h,l
2015 64        ld      h,h
2016 2075      jr      nz,208dh
2018 73        ld      (hl),e
2019 65        ld      h,l
201a 72        ld      (hl),d
201b 2066      jr      nz,2083h
201d 75        ld      (hl),l
201e 6e        ld      l,(hl)
201f 63        ld      h,e
2020 74        ld      (hl),h
2021 69        ld      l,c
2022 6f        ld      l,a
2023 6e        ld      l,(hl)
2024 00        nop     
2025 4e        ld      c,(hl)
2026 6f        ld      l,a
2027 2052      jr      nz,207bh
2029 45        ld      b,l
202a 53        ld      d,e
202b 55        ld      d,l
202c 4d        ld      c,l
202d 45        ld      b,l
202e 00        nop     
202f 52        ld      d,d
2030 45        ld      b,l
2031 53        ld      d,e
2032 55        ld      d,l
2033 4d        ld      c,l
2034 45        ld      b,l
2035 2077      jr      nz,20aeh
2037 69        ld      l,c
2038 74        ld      (hl),h
2039 68        ld      l,b
203a 6f        ld      l,a
203b 75        ld      (hl),l
203c 74        ld      (hl),h
203d 2065      jr      nz,20a4h
203f 72        ld      (hl),d
2040 72        ld      (hl),d
2041 6f        ld      l,a
2042 72        ld      (hl),d
2043 00        nop     
2044 55        ld      d,l
2045 6e        ld      l,(hl)
2046 70        ld      (hl),b
2047 72        ld      (hl),d
2048 69        ld      l,c
2049 6e        ld      l,(hl)
204a 74        ld      (hl),h
204b 61        ld      h,c
204c 62        ld      h,d
204d 6c        ld      l,h
204e 65        ld      h,l
204f 2065      jr      nz,20b6h
2051 72        ld      (hl),d
2052 72        ld      (hl),d
2053 6f        ld      l,a
2054 72        ld      (hl),d
2055 00        nop     
2056 4d        ld      c,l
2057 69        ld      l,c
2058 73        ld      (hl),e
2059 73        ld      (hl),e
205a 69        ld      l,c
205b 6e        ld      l,(hl)
205c 67        ld      h,a
205d 206f      jr      nz,20ceh
205f 70        ld      (hl),b
2060 65        ld      h,l
2061 72        ld      (hl),d
2062 61        ld      h,c
2063 6e        ld      l,(hl)
2064 64        ld      h,h
2065 00        nop     
2066 4c        ld      c,h
2067 69        ld      l,c
2068 6e        ld      l,(hl)
2069 65        ld      h,l
206a 2062      jr      nz,20ceh
206c 75        ld      (hl),l
206d 66        ld      h,(hl)
206e 66        ld      h,(hl)
206f 65        ld      h,l
2070 72        ld      (hl),d
2071 206f      jr      nz,20e2h
2073 76        halt    
2074 65        ld      h,l
2075 72        ld      (hl),d
2076 66        ld      h,(hl)
2077 6c        ld      l,h
2078 6f        ld      l,a
2079 77        ld      (hl),a
207a 00        nop     
207b 3f        ccf     
207c 00        nop     
207d 3f        ccf     
207e 00        nop     
207f 46        ld      b,(hl)
2080 4f        ld      c,a
2081 52        ld      d,d
2082 2057      jr      nz,20dbh
2084 69        ld      l,c
2085 74        ld      (hl),h
2086 68        ld      l,b
2087 6f        ld      l,a
2088 75        ld      (hl),l
2089 74        ld      (hl),h
208a 204e      jr      nz,20dah
208c 45        ld      b,l
208d 58        ld      e,b
208e 54        ld      d,h
208f 00        nop     
2090 3f        ccf     
2091 00        nop     
2092 3f        ccf     
2093 00        nop     
2094 57        ld      d,a
2095 48        ld      c,b
2096 49        ld      c,c
2097 4c        ld      c,h
2098 45        ld      b,l
2099 2077      jr      nz,2112h
209b 69        ld      l,c
209c 74        ld      (hl),h
209d 68        ld      l,b
209e 6f        ld      l,a
209f 75        ld      (hl),l
20a0 74        ld      (hl),h
20a1 2057      jr      nz,20fah
20a3 45        ld      b,l
20a4 4e        ld      c,(hl)
20a5 44        ld      b,h
20a6 00        nop     
20a7 57        ld      d,a
20a8 45        ld      b,l
20a9 4e        ld      c,(hl)
20aa 44        ld      b,h
20ab 2077      jr      nz,2124h
20ad 69        ld      l,c
20ae 74        ld      (hl),h
20af 68        ld      l,b
20b0 6f        ld      l,a
20b1 75        ld      (hl),l
20b2 74        ld      (hl),h
20b3 2057      jr      nz,210ch
20b5 48        ld      c,b
20b6 49        ld      c,c
20b7 4c        ld      c,h
20b8 45        ld      b,l
20b9 00        nop     
20ba 46        ld      b,(hl)
20bb 49        ld      c,c
20bc 45        ld      b,l
20bd 4c        ld      c,h
20be 44        ld      b,h
20bf 206f      jr      nz,2130h
20c1 76        halt    
20c2 65        ld      h,l
20c3 72        ld      (hl),d
20c4 66        ld      h,(hl)
20c5 6c        ld      l,h
20c6 6f        ld      l,a
20c7 77        ld      (hl),a
20c8 00        nop     
20c9 49        ld      c,c
20ca 6e        ld      l,(hl)
20cb 74        ld      (hl),h
20cc 65        ld      h,l
20cd 72        ld      (hl),d
20ce 6e        ld      l,(hl)
20cf 61        ld      h,c
20d0 6c        ld      l,h
20d1 2065      jr      nz,2138h
20d3 72        ld      (hl),d
20d4 72        ld      (hl),d
20d5 6f        ld      l,a
20d6 72        ld      (hl),d
20d7 00        nop     
20d8 42        ld      b,d
20d9 61        ld      h,c
20da 64        ld      h,h
20db 2066      jr      nz,2143h
20dd 69        ld      l,c
20de 6c        ld      l,h
20df 65        ld      h,l
20e0 206e      jr      nz,2150h
20e2 75        ld      (hl),l
20e3 6d        ld      l,l
20e4 62        ld      h,d
20e5 65        ld      h,l
20e6 72        ld      (hl),d
20e7 00        nop     
20e8 46        ld      b,(hl)
20e9 69        ld      l,c
20ea 6c        ld      l,h
20eb 65        ld      h,l
20ec 206e      jr      nz,215ch
20ee 6f        ld      l,a
20ef 74        ld      (hl),h
20f0 2066      jr      nz,2158h
20f2 6f        ld      l,a
20f3 75        ld      (hl),l
20f4 6e        ld      l,(hl)
20f5 64        ld      h,h
20f6 00        nop     
20f7 42        ld      b,d
20f8 61        ld      h,c
20f9 64        ld      h,h
20fa 2066      jr      nz,2162h
20fc 69        ld      l,c
20fd 6c        ld      l,h
20fe 65        ld      h,l
20ff 206d      jr      nz,216eh
2101 6f        ld      l,a
2102 64        ld      h,h
2103 65        ld      h,l
2104 00        nop     
2105 46        ld      b,(hl)
2106 69        ld      l,c
2107 6c        ld      l,h
2108 65        ld      h,l
2109 2061      jr      nz,216ch
210b 6c        ld      l,h
210c 72        ld      (hl),d
210d 65        ld      h,l
210e 61        ld      h,c
210f 64        ld      h,h
2110 79        ld      a,c
2111 206f      jr      nz,2182h
2113 70        ld      (hl),b
2114 65        ld      h,l
2115 6e        ld      l,(hl)
2116 00        nop     
2117 3f        ccf     
2118 00        nop     
2119 44        ld      b,h
211a 69        ld      l,c
211b 73        ld      (hl),e
211c 6b        ld      l,e
211d 2049      jr      nz,2168h
211f 2f        cpl     
2120 4f        ld      c,a
2121 2065      jr      nz,2188h
2123 72        ld      (hl),d
2124 72        ld      (hl),d
2125 6f        ld      l,a
2126 72        ld      (hl),d
2127 00        nop     
2128 46        ld      b,(hl)
2129 69        ld      l,c
212a 6c        ld      l,h
212b 65        ld      h,l
212c 2061      jr      nz,218fh
212e 6c        ld      l,h
212f 72        ld      (hl),d
2130 65        ld      h,l
2131 61        ld      h,c
2132 64        ld      h,h
2133 79        ld      a,c
2134 2065      jr      nz,219bh
2136 78        ld      a,b
2137 69        ld      l,c
2138 73        ld      (hl),e
2139 74        ld      (hl),h
213a 73        ld      (hl),e
213b 00        nop     
213c 3f        ccf     
213d 00        nop     
213e 3f        ccf     
213f 00        nop     
2140 44        ld      b,h
2141 69        ld      l,c
2142 73        ld      (hl),e
2143 6b        ld      l,e
2144 2066      jr      nz,21ach
2146 75        ld      (hl),l
2147 6c        ld      l,h
2148 6c        ld      l,h
2149 00        nop     
214a 49        ld      c,c
214b 6e        ld      l,(hl)
214c 70        ld      (hl),b
214d 75        ld      (hl),l
214e 74        ld      (hl),h
214f 2070      jr      nz,21c1h
2151 61        ld      h,c
2152 73        ld      (hl),e
2153 74        ld      (hl),h
2154 2065      jr      nz,21bbh
2156 6e        ld      l,(hl)
2157 64        ld      h,h
2158 00        nop     
2159 42        ld      b,d
215a 61        ld      h,c
215b 64        ld      h,h
215c 2072      jr      nz,21d0h
215e 65        ld      h,l
215f 63        ld      h,e
2160 6f        ld      l,a
2161 72        ld      (hl),d
2162 64        ld      h,h
2163 206e      jr      nz,21d3h
2165 75        ld      (hl),l
2166 6d        ld      l,l
2167 62        ld      h,d
2168 65        ld      h,l
2169 72        ld      (hl),d
216a 00        nop     
216b 42        ld      b,d
216c 61        ld      h,c
216d 64        ld      h,h
216e 2066      jr      nz,21d6h
2170 69        ld      l,c
2171 6c        ld      l,h
2172 65        ld      h,l
2173 206e      jr      nz,21e3h
2175 61        ld      h,c
2176 6d        ld      l,l
2177 65        ld      h,l
2178 00        nop     
2179 3f        ccf     
217a 00        nop     
217b 44        ld      b,h
217c 69        ld      l,c
217d 72        ld      (hl),d
217e 65        ld      h,l
217f 63        ld      h,e
2180 74        ld      (hl),h
2181 2073      jr      nz,21f6h
2183 74        ld      (hl),h
2184 61        ld      h,c
2185 74        ld      (hl),h
2186 65        ld      h,l
2187 6d        ld      l,l
2188 65        ld      h,l
2189 6e        ld      l,(hl)
218a 74        ld      (hl),h
218b 2069      jr      nz,21f6h
218d 6e        ld      l,(hl)
218e 2066      jr      nz,21f6h
2190 69        ld      l,c
2191 6c        ld      l,h
2192 65        ld      h,l
2193 00        nop     
2194 54        ld      d,h
2195 6f        ld      l,a
2196 6f        ld      l,a
2197 206d      jr      nz,2206h
2199 61        ld      h,c
219a 6e        ld      l,(hl)
219b 79        ld      a,c
219c 2066      jr      nz,2204h
219e 69        ld      l,c
219f 6c        ld      l,h
21a0 65        ld      h,l
21a1 73        ld      (hl),e
21a2 00        nop     
21a3 2069      jr      nz,220eh
21a5 6e        ld      l,(hl)
21a6 2000      jr      nz,21a8h
21a8 52        ld      d,d
21a9 65        ld      h,l
21aa 61        ld      h,c
21ab 64        ld      h,h
21ac 79        ld      a,c
21ad 0d        dec     c
21ae 0a        ld      a,(bc)
21af 00        nop     
21b0 42        ld      b,d
21b1 72        ld      (hl),d
21b2 65        ld      h,l
21b3 61        ld      h,c
21b4 6b        ld      l,e
21b5 00        nop     
21b6 210400    ld      hl,0004h
21b9 39        add     hl,sp
21ba 7e        ld      a,(hl)
21bb 23        inc     hl
21bc feb4      cp      0b4h
21be 2006      jr      nz,21c6h
21c0 010600    ld      bc,0006h
21c3 09        add     hl,bc
21c4 18f4      jr      21bah
21c6 fe82      cp      82h
21c8 c0        ret     nz
21c9 4e        ld      c,(hl)
21ca 23        inc     hl
21cb 46        ld      b,(hl)
21cc 23        inc     hl
21cd e5        push    hl
21ce 60        ld      h,b
21cf 69        ld      l,c
21d0 7a        ld      a,d
21d1 b3        or      e
21d2 eb        ex      de,hl
21d3 2804      jr      z,21d9h
21d5 eb        ex      de,hl
21d6 cda25f    call    5fa2h
21d9 011000    ld      bc,0010h
21dc e1        pop     hl
21dd c8        ret     z
21de 09        add     hl,bc
21df 18d9      jr      21bah
21e1 01db22    ld      bc,22dbh
21e4 c35a22    jp      225ah
21e7 2a3f80    ld      hl,(803fh)
21ea 7c        ld      a,h
21eb a5        and     l
21ec 3c        inc     a
21ed 2808      jr      z,21f7h
21ef 3ae283    ld      a,(83e2h)
21f2 b7        or      a
21f3 1e13      ld      e,13h
21f5 204b      jr      nz,2242h
21f7 c3eb5f    jp      5febh
21fa 1e3d      ld      e,3dh
21fc 011e39    ld      bc,391eh
21ff 011e36    ld      bc,361eh
2202 011e35    ld      bc,351eh
2205 011e34    ld      bc,341eh
2208 011e33    ld      bc,331eh
220b 011e3e    ld      bc,3e1eh
220e 011e37    ld      bc,371eh
2211 011e40    ld      bc,401eh
2214 011e3f    ld      bc,3f1eh
2217 011e32    ld      bc,321eh
221a 011e43    ld      bc,431eh
221d 011e3a    ld      bc,3a1eh
2220 1820      jr      2242h
2222 2aca83    ld      hl,(83cah)
2225 223f80    ld      (803fh),hl
2228 1e02      ld      e,02h
222a 011e0b    ld      bc,0b1eh
222d 011e01    ld      bc,011eh
2230 011e0a    ld      bc,0a1eh
2233 011e12    ld      bc,121eh
2236 011e14    ld      bc,141eh
2239 011e06    ld      bc,061eh
223c 011e16    ld      bc,161eh
223f 011e0d    ld      bc,0d1eh
2242 2a3f80    ld      hl,(803fh)
2245 22da83    ld      (83dah),hl
2248 af        xor     a
2249 321485    ld      (8514h),a
224c 321a85    ld      (851ah),a
224f 7c        ld      a,h
2250 a5        and     l
2251 3c        inc     a
2252 2803      jr      z,2257h
2254 22dc83    ld      (83dch),hl
2257 016022    ld      bc,2260h
225a 2ad883    ld      hl,(83d8h)
225d c3775f    jp      5f77h
2260 c1        pop     bc
2261 7b        ld      a,e
2262 4b        ld      c,e
2263 323180    ld      (8031h),a
2266 2ad683    ld      hl,(83d6h)
2269 22de83    ld      (83deh),hl
226c eb        ex      de,hl
226d 2ada83    ld      hl,(83dah)
2270 7c        ld      a,h
2271 a5        and     l
2272 3c        inc     a
2273 2807      jr      z,227ch
2275 22e583    ld      (83e5h),hl
2278 eb        ex      de,hl
2279 22e783    ld      (83e7h),hl
227c 2ae083    ld      hl,(83e0h)
227f 7c        ld      a,h
2280 b5        or      l
2281 eb        ex      de,hl
2282 21e283    ld      hl,83e2h
2285 2808      jr      z,228fh
2287 a6        and     (hl)
2288 2005      jr      nz,228fh
228a 35        dec     (hl)
228b eb        ex      de,hl
228c c3d327    jp      27d3h
228f af        xor     a
2290 77        ld      (hl),a
2291 59        ld      e,c
2292 323a80    ld      (803ah),a
2295 cd1059    call    5910h
2298 21e21e    ld      hl,1ee2h
229b 7b        ld      a,e
229c fe44      cp      44h
229e 3008      jr      nc,22a8h
22a0 fe32      cp      32h
22a2 3006      jr      nc,22aah
22a4 fe1f      cp      1fh
22a6 3805      jr      c,22adh
22a8 3e28      ld      a,28h
22aa d613      sub     13h
22ac 5f        ld      e,a
22ad cdec29    call    29ech
22b0 23        inc     hl
22b1 1d        dec     e
22b2 20f9      jr      nz,22adh
22b4 e5        push    hl
22b5 2ada83    ld      hl,(83dah)
22b8 e3        ex      (sp),hl
22b9 7e        ld      a,(hl)
22ba fe3f      cp      3fh
22bc 2006      jr      nz,22c4h
22be e1        pop     hl
22bf 21e21e    ld      hl,1ee2h
22c2 18e4      jr      22a8h
22c4 cdd362    call    62d3h
22c7 e1        pop     hl
22c8 11feff    ld      de,0fffeh
22cb cda25f    call    5fa2h
22ce cc1c59    call    z,591ch
22d1 cafe4f    jp      z,4ffeh
22d4 7c        ld      a,h
22d5 a5        and     l
22d6 3c        inc     a
22d7 c49f44    call    nz,449fh
22da 3ec1      ld      a,0c1h
22dc cd4558    call    5845h
22df af        xor     a
22e0 323a80    ld      (803ah),a
22e3 cd4b52    call    524bh
22e6 cd1059    call    5910h
22e9 21a821    ld      hl,21a8h
22ec cdd362    call    62d3h
22ef 21ffff    ld      hl,0ffffh
22f2 223f80    ld      (803fh),hl
22f5 3ad183    ld      a,(83d1h)
22f8 b7        or      a
22f9 284c      jr      z,2347h
22fb 2ad283    ld      hl,(83d2h)
22fe e5        push    hl
22ff cda744    call    44a7h
2302 3e20      ld      a,20h
2304 cdd957    call    57d9h
2307 d1        pop     de
2308 d5        push    de
2309 cd3824    call    2438h
230c 300f      jr      nc,231dh
230e 60        ld      h,b
230f 69        ld      l,c
2310 23        inc     hl
2311 23        inc     hl
2312 23        inc     hl
2313 23        inc     hl
2314 cd8635    call    3586h
2317 218982    ld      hl,8289h
231a cd6f35    call    356fh
231d cd0d0c    call    0c0dh
2320 d1        pop     de
2321 300c      jr      nc,232fh
2323 af        xor     a
2324 32d183    ld      (83d1h),a
2327 18b3      jr      22dch
2329 af        xor     a
232a 32d183    ld      (83d1h),a
232d 1813      jr      2342h
232f 2ad483    ld      hl,(83d4h)
2332 19        add     hl,de
2333 38f4      jr      c,2329h
2335 d5        push    de
2336 11f9ff    ld      de,0fff9h
2339 cda25f    call    5fa2h
233c d1        pop     de
233d 30ea      jr      nc,2329h
233f 22d283    ld      (83d2h),hl
2342 218882    ld      hl,8288h
2345 1805      jr      234ch
2347 cd0d0c    call    0c0dh
234a 38a3      jr      c,22efh
234c cd1a28    call    281ah
234f 3c        inc     a
2350 3d        dec     a
2351 289c      jr      z,22efh
2353 f5        push    af
2354 cd2b29    call    292bh
2357 cdc326    call    26c3h
235a 7e        ld      a,(hl)
235b fe20      cp      20h
235d ccad3c    call    z,3cadh
2360 d5        push    de
2361 cd5724    call    2457h
2364 d1        pop     de
2365 f1        pop     af
2366 22d683    ld      (83d6h),hl
2369 d28752    jp      nc,5287h
236c d5        push    de
236d c5        push    bc
236e cdc857    call    57c8h
2371 cd1a28    call    281ah
2374 b7        or      a
2375 f5        push    af
2376 ed53dc83  ld      (83dch),de
237a cd3824    call    2438h
237d 3806      jr      c,2385h
237f f1        pop     af
2380 f5        push    af
2381 caca29    jp      z,29cah
2384 b7        or      a
2385 c5        push    bc
2386 f5        push    af
2387 e5        push    hl
2388 cda038    call    38a0h
238b e1        pop     hl
238c f1        pop     af
238d c1        pop     bc
238e c5        push    bc
238f dc2237    call    c,3722h
2392 d1        pop     de
2393 f1        pop     af
2394 d5        push    de
2395 2837      jr      z,23ceh
2397 d1        pop     de
2398 3a1a85    ld      a,(851ah)
239b b7        or      a
239c 2006      jr      nz,23a4h
239e 2a9d83    ld      hl,(STACKPTR)
23a1 22c283    ld      (83c2h),hl
23a4 2ae983    ld      hl,(83e9h)
23a7 e3        ex      (sp),hl
23a8 c1        pop     bc
23a9 e5        push    hl
23aa 09        add     hl,bc
23ab e5        push    hl
23ac cd8e5e    call    5e8eh
23af e1        pop     hl
23b0 22e983    ld      (83e9h),hl
23b3 eb        ex      de,hl
23b4 74        ld      (hl),h
23b5 c1        pop     bc
23b6 d1        pop     de
23b7 e5        push    hl
23b8 23        inc     hl
23b9 23        inc     hl
23ba 73        ld      (hl),e
23bb 23        inc     hl
23bc 72        ld      (hl),d
23bd 23        inc     hl
23be 114a81    ld      de,814ah
23c1 0b        dec     bc
23c2 0b        dec     bc
23c3 0b        dec     bc
23c4 0b        dec     bc
23c5 1a        ld      a,(de)
23c6 77        ld      (hl),a
23c7 23        inc     hl
23c8 13        inc     de
23c9 0b        dec     bc
23ca 79        ld      a,c
23cb b0        or      b
23cc 20f7      jr      nz,23c5h
23ce d1        pop     de
23cf cdf623    call    23f6h
23d2 219580    ld      hl,8095h
23d5 3600      ld      (hl),00h
23d7 224b80    ld      (804bh),hl
23da 2a3b80    ld      hl,(803bh)
23dd 22e383    ld      (83e3h),hl
23e0 cd105f    call    5f10h
23e3 2a4980    ld      hl,(8049h)
23e6 224b80    ld      (804bh),hl
23e9 2ae383    ld      hl,(83e3h)
23ec 223b80    ld      (803bh),hl
23ef c3ef22    jp      22efh
23f2 2a4180    ld      hl,(8041h)
23f5 eb        ex      de,hl
23f6 62        ld      h,d
23f7 6b        ld      l,e
23f8 7e        ld      a,(hl)
23f9 23        inc     hl
23fa b6        or      (hl)
23fb c8        ret     z
23fc 23        inc     hl
23fd 23        inc     hl
23fe 23        inc     hl
23ff 7e        ld      a,(hl)
2400 b7        or      a
2401 2810      jr      z,2413h
2403 fe20      cp      20h
2405 30f7      jr      nc,23feh
2407 fe0b      cp      0bh
2409 38f3      jr      c,23feh
240b cd1b28    call    281bh
240e cd1a28    call    281ah
2411 18ed      jr      2400h
2413 23        inc     hl
2414 eb        ex      de,hl
2415 73        ld      (hl),e
2416 23        inc     hl
2417 72        ld      (hl),d
2418 18dc      jr      23f6h
241a 110000    ld      de,0000h
241d d5        push    de
241e 280b      jr      z,242bh
2420 d1        pop     de
2421 cd2129    call    2921h
2424 d5        push    de
2425 280d      jr      z,2434h
2427 cda85f    call    5fa8h
242a f3        di      
242b 11faff    ld      de,0fffah
242e c42129    call    nz,2921h
2431 c22822    jp      nz,2228h
2434 eb        ex      de,hl
2435 d1        pop     de
2436 e3        ex      (sp),hl
2437 e5        push    hl
2438 2a4180    ld      hl,(8041h)
243b 44        ld      b,h
243c 4d        ld      c,l
243d 7e        ld      a,(hl)
243e 23        inc     hl
243f b6        or      (hl)
2440 2b        dec     hl
2441 c8        ret     z
2442 23        inc     hl
2443 23        inc     hl
2444 7e        ld      a,(hl)
2445 23        inc     hl
2446 66        ld      h,(hl)
2447 6f        ld      l,a
2448 cda25f    call    5fa2h
244b 60        ld      h,b
244c 69        ld      l,c
244d 7e        ld      a,(hl)
244e 23        inc     hl
244f 66        ld      h,(hl)
2450 6f        ld      l,a
2451 3f        ccf     
2452 c8        ret     z
2453 3f        ccf     
2454 d0        ret     nc
2455 18e4      jr      243bh
2457 af        xor     a
2458 329083    ld      (8390h),a
245b 328f83    ld      (838fh),a
245e 013b01    ld      bc,013bh
2461 114a81    ld      de,814ah
2464 7e        ld      a,(hl)
2465 b7        or      a
2466 2013      jr      nz,247bh
2468 214001    ld      hl,0140h
246b 7d        ld      a,l
246c 91        sub     c
246d 4f        ld      c,a
246e 7c        ld      a,h
246f 98        sbc     a,b
2470 47        ld      b,a
2471 214981    ld      hl,8149h
2474 af        xor     a
2475 12        ld      (de),a
2476 13        inc     de
2477 12        ld      (de),a
2478 13        inc     de
2479 12        ld      (de),a
247a c9        ret     
247b fe22      cp      22h
247d cab024    jp      z,24b0h
2480 fe20      cp      20h
2482 2807      jr      z,248bh
2484 3a8f83    ld      a,(838fh)
2487 b7        or      a
2488 7e        ld      a,(hl)
2489 282d      jr      z,24b8h
248b 23        inc     hl
248c f5        push    af
248d cd7826    call    2678h
2490 f1        pop     af
2491 d63a      sub     3ah
2493 2806      jr      z,249bh
2495 fe4a      cp      4ah
2497 2008      jr      nz,24a1h
2499 3e01      ld      a,01h
249b 328f83    ld      (838fh),a
249e 329083    ld      (8390h),a
24a1 d655      sub     55h
24a3 20bf      jr      nz,2464h
24a5 f5        push    af
24a6 7e        ld      a,(hl)
24a7 b7        or      a
24a8 e3        ex      (sp),hl
24a9 7c        ld      a,h
24aa e1        pop     hl
24ab 28bb      jr      z,2468h
24ad be        cp      (hl)
24ae 28db      jr      z,248bh
24b0 f5        push    af
24b1 7e        ld      a,(hl)
24b2 23        inc     hl
24b3 cd7826    call    2678h
24b6 18ee      jr      24a6h
24b8 fe3f      cp      3fh
24ba 3e91      ld      a,91h
24bc d5        push    de
24bd c5        push    bc
24be ca7625    jp      z,2576h
24c1 11991e    ld      de,1e99h
24c4 cd1531    call    3115h
24c7 cdce60    call    60ceh
24ca dac025    jp      c,25c0h
24cd e5        push    hl
24ce 11ff24    ld      de,24ffh
24d1 cdf224    call    24f2h
24d4 2033      jr      nz,2509h
24d6 cd1a28    call    281ah
24d9 110325    ld      de,2503h
24dc cdf224    call    24f2h
24df 3e89      ld      a,89h
24e1 caee24    jp      z,24eeh
24e4 110625    ld      de,2506h
24e7 cdf224    call    24f2h
24ea 201d      jr      nz,2509h
24ec 3e8d      ld      a,8dh
24ee c1        pop     bc
24ef c37625    jp      2576h
24f2 1a        ld      a,(de)
24f3 b7        or      a
24f4 c8        ret     z
24f5 4f        ld      c,a
24f6 cd1531    call    3115h
24f9 b9        cp      c
24fa c0        ret     nz
24fb 23        inc     hl
24fc 13        inc     de
24fd 18f3      jr      24f2h
24ff 47        ld      b,a
2500 4f        ld      c,a
2501 2000      jr      nz,2503h
2503 54        ld      d,h
2504 4f        ld      c,a
2505 00        nop     
2506 55        ld      d,l
2507 42        ld      b,d
2508 00        nop     
2509 e1        pop     hl
250a cd1531    call    3115h
250d e5        push    hl
250e 21e91b    ld      hl,1be9h
2511 d641      sub     41h
2513 87        add     a,a
2514 4f        ld      c,a
2515 0600      ld      b,00h
2517 09        add     hl,bc
2518 5e        ld      e,(hl)
2519 23        inc     hl
251a 56        ld      d,(hl)
251b e1        pop     hl
251c 23        inc     hl
251d e5        push    hl
251e cd1531    call    3115h
2521 4f        ld      c,a
2522 1a        ld      a,(de)
2523 e67f      and     7fh
2525 ca8326    jp      z,2683h
2528 23        inc     hl
2529 b9        cp      c
252a 203e      jr      nz,256ah
252c 1a        ld      a,(de)
252d 13        inc     de
252e b7        or      a
252f f21e25    jp      p,251eh
2532 79        ld      a,c
2533 fe28      cp      28h
2535 2818      jr      z,254fh
2537 1a        ld      a,(de)
2538 fedf      cp      0dfh
253a 2813      jr      z,254fh
253c fede      cp      0deh
253e 280f      jr      z,254fh
2540 cd1531    call    3115h
2543 fe2e      cp      2eh
2545 2803      jr      z,254ah
2547 cd6f36    call    366fh
254a 3e00      ld      a,00h
254c d28326    jp      nc,2683h
254f f1        pop     af
2550 1a        ld      a,(de)
2551 b7        or      a
2552 fa7525    jp      m,2575h
2555 c1        pop     bc
2556 d1        pop     de
2557 f680      or      80h
2559 f5        push    af
255a 3eff      ld      a,0ffh
255c cd7826    call    2678h
255f af        xor     a
2560 329083    ld      (8390h),a
2563 f1        pop     af
2564 cd7826    call    2678h
2567 c36424    jp      2464h
256a e1        pop     hl
256b 1a        ld      a,(de)
256c 13        inc     de
256d b7        or      a
256e f26b25    jp      p,256bh
2571 13        inc     de
2572 c31d25    jp      251dh
2575 2b        dec     hl
2576 f5        push    af
2577 118525    ld      de,2585h
257a 4f        ld      c,a
257b 1a        ld      a,(de)
257c b7        or      a
257d 2814      jr      z,2593h
257f 13        inc     de
2580 b9        cp      c
2581 20f8      jr      nz,257bh
2583 1810      jr      2595h
2585 8c        adc     a,h
2586 ab        xor     e
2587 ac        xor     h
2588 aa        xor     d
2589 a9        xor     c
258a e2a28a    jp      po,8aa2h
258d 93        sub     e
258e 9f        sbc     a,a
258f 89        adc     a,c
2590 db8d      in      a,(8dh)
2592 00        nop     
2593 af        xor     a
2594 c23e01    jp      nz,013eh
2597 329083    ld      (8390h),a
259a f1        pop     af
259b c1        pop     bc
259c d1        pop     de
259d fea2      cp      0a2h
259f f5        push    af
25a0 cc7626    call    z,2676h
25a3 f1        pop     af
25a4 feb4      cp      0b4h
25a6 2005      jr      nz,25adh
25a8 cd7826    call    2678h
25ab 3ef2      ld      a,0f2h
25ad fee7      cp      0e7h
25af c25526    jp      nz,2655h
25b2 f5        push    af
25b3 cd7626    call    2676h
25b6 3e8f      ld      a,8fh
25b8 cd7826    call    2678h
25bb f1        pop     af
25bc f5        push    af
25bd c3b224    jp      24b2h
25c0 7e        ld      a,(hl)
25c1 fe2e      cp      2eh
25c3 280a      jr      z,25cfh
25c5 fe3a      cp      3ah
25c7 d24326    jp      nc,2643h
25ca fe30      cp      30h
25cc da4326    jp      c,2643h
25cf 3a9083    ld      a,(8390h)
25d2 b7        or      a
25d3 7e        ld      a,(hl)
25d4 c1        pop     bc
25d5 d1        pop     de
25d6 fa8b24    jp      m,248bh
25d9 281f      jr      z,25fah
25db fe2e      cp      2eh
25dd ca8b24    jp      z,248bh
25e0 3e0e      ld      a,0eh
25e2 cd7826    call    2678h
25e5 d5        push    de
25e6 cd2b29    call    292bh
25e9 cdc326    call    26c3h
25ec e3        ex      (sp),hl
25ed eb        ex      de,hl
25ee 7d        ld      a,l
25ef cd7826    call    2678h
25f2 7c        ld      a,h
25f3 e1        pop     hl
25f4 cd7826    call    2678h
25f7 c36424    jp      2464h
25fa d5        push    de
25fb c5        push    bc
25fc 7e        ld      a,(hl)
25fd cd8442    call    4284h
2600 cdc326    call    26c3h
2603 c1        pop     bc
2604 d1        pop     de
2605 e5        push    hl
2606 3a8e83    ld      a,(838eh)
2609 fe02      cp      02h
260b 2015      jr      nz,2622h
260d 2a2b85    ld      hl,(852bh)
2610 7c        ld      a,h
2611 b7        or      a
2612 3e02      ld      a,02h
2614 200c      jr      nz,2622h
2616 7d        ld      a,l
2617 65        ld      h,l
2618 2e0f      ld      l,0fh
261a fe0a      cp      0ah
261c 30d0      jr      nc,25eeh
261e c611      add     a,11h
2620 18d1      jr      25f3h
2622 f5        push    af
2623 0f        rrca    
2624 c61b      add     a,1bh
2626 cd7826    call    2678h
2629 212b85    ld      hl,852bh
262c cd0f32    call    320fh
262f 3803      jr      c,2634h
2631 212785    ld      hl,8527h
2634 f1        pop     af
2635 f5        push    af
2636 7e        ld      a,(hl)
2637 cd7826    call    2678h
263a f1        pop     af
263b 23        inc     hl
263c 3d        dec     a
263d 20f6      jr      nz,2635h
263f e1        pop     hl
2640 c36424    jp      2464h
2643 11981e    ld      de,1e98h
2646 13        inc     de
2647 1a        ld      a,(de)
2648 e67f      and     7fh
264a caa926    jp      z,26a9h
264d 13        inc     de
264e be        cp      (hl)
264f 1a        ld      a,(de)
2650 20f4      jr      nz,2646h
2652 c3b826    jp      26b8h
2655 fe26      cp      26h
2657 c28b24    jp      nz,248bh
265a e5        push    hl
265b cd1a28    call    281ah
265e e1        pop     hl
265f cd1631    call    3116h
2662 fe48      cp      48h
2664 3e0b      ld      a,0bh
2666 2002      jr      nz,266ah
2668 3e0c      ld      a,0ch
266a cd7826    call    2678h
266d d5        push    de
266e c5        push    bc
266f cd2431    call    3124h
2672 c1        pop     bc
2673 c3ec25    jp      25ech
2676 3e3a      ld      a,3ah
2678 12        ld      (de),a
2679 13        inc     de
267a 0b        dec     bc
267b 79        ld      a,c
267c b0        or      b
267d c0        ret     nz
267e 1e17      ld      e,17h
2680 c34222    jp      2242h
2683 e1        pop     hl
2684 2b        dec     hl
2685 3d        dec     a
2686 329083    ld      (8390h),a
2689 c1        pop     bc
268a d1        pop     de
268b cd1531    call    3115h
268e cd7826    call    2678h
2691 23        inc     hl
2692 cd1531    call    3115h
2695 cdce60    call    60ceh
2698 30f4      jr      nc,268eh
269a fe3a      cp      3ah
269c 3008      jr      nc,26a6h
269e fe30      cp      30h
26a0 30ec      jr      nc,268eh
26a2 fe2e      cp      2eh
26a4 28e8      jr      z,268eh
26a6 c36424    jp      2464h
26a9 7e        ld      a,(hl)
26aa fe20      cp      20h
26ac 300a      jr      nc,26b8h
26ae fe09      cp      09h
26b0 2806      jr      z,26b8h
26b2 fe0a      cp      0ah
26b4 2802      jr      z,26b8h
26b6 3e20      ld      a,20h
26b8 f5        push    af
26b9 3a9083    ld      a,(8390h)
26bc 3c        inc     a
26bd 2801      jr      z,26c0h
26bf 3d        dec     a
26c0 c39725    jp      2597h
26c3 2b        dec     hl
26c4 7e        ld      a,(hl)
26c5 fe20      cp      20h
26c7 28fa      jr      z,26c3h
26c9 fe09      cp      09h
26cb 28f6      jr      z,26c3h
26cd fe0a      cp      0ah
26cf 28f2      jr      z,26c3h
26d1 23        inc     hl
26d2 c9        ret     
26d3 3e64      ld      a,64h
26d5 32cc83    ld      (83cch),a
26d8 cdb759    call    59b7h
26db cda85f    call    5fa8h
26de f0        ret     p
26df d5        push    de
26e0 ed53ce83  ld      (83ceh),de
26e4 3a8e83    ld      a,(838eh)
26e7 f5        push    af
26e8 cdd32e    call    2ed3h
26eb f1        pop     af
26ec e5        push    hl
26ed cd4434    call    3444h
26f0 21e784    ld      hl,84e7h
26f3 cdaf3c    call    3cafh
26f6 e1        pop     hl
26f7 d1        pop     de
26f8 c1        pop     bc
26f9 e5        push    hl
26fa cdea29    call    29eah
26fd 22c883    ld      (83c8h),hl
2700 210200    ld      hl,0002h
2703 39        add     hl,sp
2704 cdba21    call    21bah
2707 2019      jr      nz,2722h
2709 09        add     hl,bc
270a d5        push    de
270b 2b        dec     hl
270c 56        ld      d,(hl)
270d 2b        dec     hl
270e 5e        ld      e,(hl)
270f 23        inc     hl
2710 23        inc     hl
2711 e5        push    hl
2712 2ac883    ld      hl,(83c8h)
2715 cda25f    call    5fa2h
2718 e1        pop     hl
2719 d1        pop     de
271a 20e8      jr      nz,2704h
271c d1        pop     de
271d f9        ld      sp,hl
271e 22d883    ld      (83d8h),hl
2721 0ed1      ld      c,0d1h
2723 eb        ex      de,hl
2724 0e08      ld      c,08h
2726 cd9e5e    call    5e9eh
2729 e5        push    hl
272a 2ac883    ld      hl,(83c8h)
272d e3        ex      (sp),hl
272e e5        push    hl
272f 2a3f80    ld      hl,(803fh)
2732 e3        ex      (sp),hl
2733 cda85f    call    5fa8h
2736 dacd0f    jp      c,0fcdh
2739 32ca40    ld      (40cah),a
273c 22d240    ld      (40d2h),hl
273f 22f5cd    ld      (0cdf5h),hl
2742 d32e      out     (2eh),a
2744 f1        pop     af
2745 e5        push    hl
2746 f25e27    jp      p,275eh
2749 cd613d    call    3d61h
274c e3        ex      (sp),hl
274d 110100    ld      de,0001h
2750 7e        ld      a,(hl)
2751 fedd      cp      0ddh
2753 cce934    call    z,34e9h
2756 d5        push    de
2757 e5        push    hl
2758 eb        ex      de,hl
2759 cd823c    call    3c82h
275c 1822      jr      2780h
275e cdd73d    call    3dd7h
2761 cda33c    call    3ca3h
2764 e1        pop     hl
2765 c5        push    bc
2766 d5        push    de
2767 010081    ld      bc,8100h
276a 51        ld      d,c
276b 5a        ld      e,d
276c 7e        ld      a,(hl)
276d fedd      cp      0ddh
276f 3e01      ld      a,01h
2771 200e      jr      nz,2781h
2773 cdd42e    call    2ed4h
2776 e5        push    hl
2777 cdd73d    call    3dd7h
277a cda33c    call    3ca3h
277d cd353c    call    3c35h
2780 e1        pop     hl
2781 c5        push    bc
2782 d5        push    de
2783 b7        or      a
2784 2002      jr      nz,2788h
2786 3e02      ld      a,02h
2788 4f        ld      c,a
2789 cd0f32    call    320fh
278c 47        ld      b,a
278d c5        push    bc
278e 2b        dec     hl
278f cd1a28    call    281ah
2792 c22822    jp      nz,2228h
2795 cd0539    call    3905h
2798 cd1a28    call    281ah
279b e5        push    hl
279c e5        push    hl
279d 2aeb84    ld      hl,(84ebh)
27a0 223f80    ld      (803fh),hl
27a3 2ace83    ld      hl,(83ceh)
27a6 e3        ex      (sp),hl
27a7 0682      ld      b,82h
27a9 c5        push    bc
27aa 33        inc     sp
27ab f5        push    af
27ac f5        push    af
27ad c35e61    jp      615eh
27b0 0682      ld      b,82h
27b2 c5        push    bc
27b3 33        inc     sp
27b4 e5        push    hl
27b5 cdac06    call    06ach
27b8 e1        pop     hl
27b9 b7        or      a
27ba c45459    call    nz,5954h
27bd 22d683    ld      (83d6h),hl
27c0 eb        ex      de,hl
27c1 210000    ld      hl,0000h
27c4 39        add     hl,sp
27c5 22d883    ld      (83d8h),hl
27c8 eb        ex      de,hl
27c9 7e        ld      a,(hl)
27ca fe3a      cp      3ah
27cc 2829      jr      z,27f7h
27ce b7        or      a
27cf c22822    jp      nz,2228h
27d2 23        inc     hl
27d3 7e        ld      a,(hl)
27d4 23        inc     hl
27d5 b6        or      (hl)
27d6 cae721    jp      z,21e7h
27d9 23        inc     hl
27da 5e        ld      e,(hl)
27db 23        inc     hl
27dc 56        ld      d,(hl)
27dd eb        ex      de,hl
27de 223f80    ld      (803fh),hl
27e1 3a2585    ld      a,(8525h)
27e4 b7        or      a
27e5 280f      jr      z,27f6h
27e7 d5        push    de
27e8 3e5b      ld      a,5bh
27ea cdd957    call    57d9h
27ed cda744    call    44a7h
27f0 3e5d      ld      a,5dh
27f2 cdd957    call    57d9h
27f5 d1        pop     de
27f6 eb        ex      de,hl
27f7 cd1a28    call    281ah
27fa cdc485    call    85c4h
27fd 11b427    ld      de,27b4h
2800 d5        push    de
2801 c8        ret     z
2802 d681      sub     81h
2804 da112a    jp      c,2a11h
2807 fe58      cp      58h
2809 d27934    jp      nc,3479h
280c 07        rlca    
280d 4f        ld      c,a
280e 0600      ld      b,00h
2810 eb        ex      de,hl
2811 21d11a    ld      hl,1ad1h
2814 09        add     hl,bc
2815 4e        ld      c,(hl)
2816 23        inc     hl
2817 46        ld      b,(hl)
2818 c5        push    bc
2819 eb        ex      de,hl
281a 23        inc     hl
281b 7e        ld      a,(hl)
281c fe3a      cp      3ah
281e d0        ret     nc
281f fe20      cp      20h
2821 28f7      jr      z,281ah
2823 306c      jr      nc,2891h
2825 b7        or      a
2826 c8        ret     z
2827 fe0b      cp      0bh
2829 3861      jr      c,288ch
282b fe1e      cp      1eh
282d 2005      jr      nz,2834h
282f 3a9383    ld      a,(8393h)
2832 b7        or      a
2833 c9        ret     
2834 fe10      cp      10h
2836 2834      jr      z,286ch
2838 f5        push    af
2839 23        inc     hl
283a 329383    ld      (8393h),a
283d d61c      sub     1ch
283f 3030      jr      nc,2871h
2841 d6f5      sub     0f5h
2843 3006      jr      nc,284bh
2845 fefe      cp      0feh
2847 2016      jr      nz,285fh
2849 7e        ld      a,(hl)
284a 23        inc     hl
284b 229183    ld      (8391h),hl
284e 2600      ld      h,00h
2850 6f        ld      l,a
2851 229583    ld      (8395h),hl
2854 3e02      ld      a,02h
2856 329483    ld      (8394h),a
2859 219728    ld      hl,2897h
285c f1        pop     af
285d b7        or      a
285e c9        ret     
285f 7e        ld      a,(hl)
2860 23        inc     hl
2861 23        inc     hl
2862 229183    ld      (8391h),hl
2865 2b        dec     hl
2866 66        ld      h,(hl)
2867 18e7      jr      2850h
2869 cd9928    call    2899h
286c 2a9183    ld      hl,(8391h)
286f 18aa      jr      281bh
2871 3c        inc     a
2872 07        rlca    
2873 329483    ld      (8394h),a
2876 d5        push    de
2877 c5        push    bc
2878 119583    ld      de,8395h
287b eb        ex      de,hl
287c 47        ld      b,a
287d cdbb3c    call    3cbbh
2880 eb        ex      de,hl
2881 c1        pop     bc
2882 d1        pop     de
2883 229183    ld      (8391h),hl
2886 f1        pop     af
2887 219728    ld      hl,2897h
288a b7        or      a
288b c9        ret     
288c fe09      cp      09h
288e d21a28    jp      nc,281ah
2891 fe30      cp      30h
2893 3f        ccf     
2894 3c        inc     a
2895 3d        dec     a
2896 c9        ret     
2897 1e10      ld      e,10h
2899 3a9383    ld      a,(8393h)
289c fe0f      cp      0fh
289e 3013      jr      nc,28b3h
28a0 fe0d      cp      0dh
28a2 380f      jr      c,28b3h
28a4 2a9583    ld      hl,(8395h)
28a7 2007      jr      nz,28b0h
28a9 23        inc     hl
28aa 23        inc     hl
28ab 23        inc     hl
28ac 5e        ld      e,(hl)
28ad 23        inc     hl
28ae 56        ld      d,(hl)
28af eb        ex      de,hl
28b0 c3d13f    jp      3fd1h
28b3 3a9483    ld      a,(8394h)
28b6 328e83    ld      (838eh),a
28b9 fe08      cp      08h
28bb 280d      jr      z,28cah
28bd 2a9583    ld      hl,(8395h)
28c0 222b85    ld      (852bh),hl
28c3 2a9783    ld      hl,(8397h)
28c6 222d85    ld      (852dh),hl
28c9 c9        ret     
28ca 219583    ld      hl,8395h
28cd c3da3c    jp      3cdah
28d0 1e03      ld      e,03h
28d2 011e02    ld      bc,021eh
28d5 011e04    ld      bc,041eh
28d8 011e08    ld      bc,081eh
28db cdcd60    call    60cdh
28de 012822    ld      bc,2228h
28e1 c5        push    bc
28e2 d8        ret     c
28e3 d641      sub     41h
28e5 4f        ld      c,a
28e6 47        ld      b,a
28e7 cd1a28    call    281ah
28ea fef3      cp      0f3h
28ec 200d      jr      nz,28fbh
28ee cd1a28    call    281ah
28f1 cdcd60    call    60cdh
28f4 d8        ret     c
28f5 d641      sub     41h
28f7 47        ld      b,a
28f8 cd1a28    call    281ah
28fb 78        ld      a,b
28fc 91        sub     c
28fd d8        ret     c
28fe 3c        inc     a
28ff e3        ex      (sp),hl
2900 21f183    ld      hl,83f1h
2903 0600      ld      b,00h
2905 09        add     hl,bc
2906 73        ld      (hl),e
2907 23        inc     hl
2908 3d        dec     a
2909 20fb      jr      nz,2906h
290b e1        pop     hl
290c 7e        ld      a,(hl)
290d fe2c      cp      2ch
290f c0        ret     nz
2910 cd1a28    call    281ah
2913 18c6      jr      28dbh
2915 cd1a28    call    281ah
2918 cdec34    call    34ech
291b f0        ret     p
291c 1e05      ld      e,05h
291e c34222    jp      2242h
2921 7e        ld      a,(hl)
2922 fe2e      cp      2eh
2924 ed5bdc83  ld      de,(83dch)
2928 ca1a28    jp      z,281ah
292b 2b        dec     hl
292c cd1a28    call    281ah
292f fe0e      cp      0eh
2931 2802      jr      z,2935h
2933 fe0d      cp      0dh
2935 ed5b9583  ld      de,(8395h)
2939 ca1a28    jp      z,281ah
293c af        xor     a
293d 329383    ld      (8393h),a
2940 110000    ld      de,0000h
2943 2b        dec     hl
2944 cd1a28    call    281ah
2947 d0        ret     nc
2948 e5        push    hl
2949 f5        push    af
294a 219819    ld      hl,1998h
294d cda25f    call    5fa2h
2950 3811      jr      c,2963h
2952 62        ld      h,d
2953 6b        ld      l,e
2954 19        add     hl,de
2955 29        add     hl,hl
2956 19        add     hl,de
2957 29        add     hl,hl
2958 f1        pop     af
2959 d630      sub     30h
295b 5f        ld      e,a
295c 1600      ld      d,00h
295e 19        add     hl,de
295f eb        ex      de,hl
2960 e1        pop     hl
2961 18e1      jr      2944h
2963 f1        pop     af
2964 e1        pop     hl
2965 c9        ret     
2966 cdcd85    call    85cdh
2969 ca105f    jp      z,5f10h
296c fe0e      cp      0eh
296e 2805      jr      z,2975h
2970 fe0d      cp      0dh
2972 c22822    jp      nz,2228h
2975 cd145f    call    5f14h
2978 01b427    ld      bc,27b4h
297b 1816      jr      2993h
297d 0e03      ld      c,03h
297f cd9e5e    call    5e9eh
2982 cd2b29    call    292bh
2985 c1        pop     bc
2986 e5        push    hl
2987 e5        push    hl
2988 2a3f80    ld      hl,(803fh)
298b e3        ex      (sp),hl
298c 3e8d      ld      a,8dh
298e f5        push    af
298f 33        inc     sp
2990 c5        push    bc
2991 1804      jr      2997h
2993 c5        push    bc
2994 cd2b29    call    292bh
2997 3a9383    ld      a,(8393h)
299a fe0d      cp      0dh
299c eb        ex      de,hl
299d c8        ret     z
299e fe0e      cp      0eh
29a0 c22822    jp      nz,2228h
29a3 eb        ex      de,hl
29a4 e5        push    hl
29a5 2a9183    ld      hl,(8391h)
29a8 e3        ex      (sp),hl
29a9 cdec29    call    29ech
29ac 23        inc     hl
29ad e5        push    hl
29ae 2a3f80    ld      hl,(803fh)
29b1 cda25f    call    5fa2h
29b4 e1        pop     hl
29b5 dc3b24    call    c,243bh
29b8 d43824    call    nc,2438h
29bb 300d      jr      nc,29cah
29bd 0b        dec     bc
29be 3e0d      ld      a,0dh
29c0 32d083    ld      (83d0h),a
29c3 e1        pop     hl
29c4 cd9738    call    3897h
29c7 60        ld      h,b
29c8 69        ld      l,c
29c9 c9        ret     
29ca 1e08      ld      e,08h
29cc c34222    jp      2242h
29cf c0        ret     nz
29d0 16ff      ld      d,0ffh
29d2 cdb621    call    21b6h
29d5 f9        ld      sp,hl
29d6 22d883    ld      (83d8h),hl
29d9 fe8d      cp      8dh
29db 1e03      ld      e,03h
29dd c24222    jp      nz,2242h
29e0 e1        pop     hl
29e1 223f80    ld      (803fh),hl
29e4 21b427    ld      hl,27b4h
29e7 e3        ex      (sp),hl
29e8 3ee1      ld      a,0e1h
29ea 013a0e    ld      bc,0e3ah
29ed 00        nop     
29ee 0600      ld      b,00h
29f0 79        ld      a,c
29f1 48        ld      c,b
29f2 47        ld      b,a
29f3 2b        dec     hl
29f4 cd1a28    call    281ah
29f7 b7        or      a
29f8 c8        ret     z
29f9 b8        cp      b
29fa c8        ret     z
29fb 23        inc     hl
29fc fe22      cp      22h
29fe 28f0      jr      z,29f0h
2a00 3c        inc     a
2a01 28f1      jr      z,29f4h
2a03 d68c      sub     8ch
2a05 20ec      jr      nz,29f3h
2a07 b8        cp      b
2a08 8a        adc     a,d
2a09 57        ld      d,a
2a0a 18e7      jr      29f3h
2a0c f1        pop     af
2a0d c603      add     a,03h
2a0f 1814      jr      2a25h
2a11 cdb759    call    59b7h
2a14 cda85f    call    5fa8h
2a17 f0        ret     p
2a18 ed53ce83  ld      (83ceh),de
2a1c d5        push    de
2a1d 3a8e83    ld      a,(838eh)
2a20 f5        push    af
2a21 cdd32e    call    2ed3h
2a24 f1        pop     af
2a25 e3        ex      (sp),hl
2a26 47        ld      b,a
2a27 3a8e83    ld      a,(838eh)
2a2a b8        cp      b
2a2b 78        ld      a,b
2a2c 2806      jr      z,2a34h
2a2e cd4434    call    3444h
2a31 3a8e83    ld      a,(838eh)
2a34 112b85    ld      de,852bh
2a37 fe05      cp      05h
2a39 3803      jr      c,2a3eh
2a3b 112785    ld      de,8527h
2a3e e5        push    hl
2a3f fe03      cp      03h
2a41 202e      jr      nz,2a71h
2a43 2a2b85    ld      hl,(852bh)
2a46 e5        push    hl
2a47 23        inc     hl
2a48 5e        ld      e,(hl)
2a49 23        inc     hl
2a4a 56        ld      d,(hl)
2a4b 2a4180    ld      hl,(8041h)
2a4e cda25f    call    5fa2h
2a51 3012      jr      nc,2a65h
2a53 2aed83    ld      hl,(83edh)
2a56 cda25f    call    5fa2h
2a59 d1        pop     de
2a5a 3011      jr      nc,2a6dh
2a5c 21bf83    ld      hl,83bfh
2a5f cda25f    call    5fa2h
2a62 3009      jr      nc,2a6dh
2a64 3ed1      ld      a,0d1h
2a66 cd6864    call    6468h
2a69 eb        ex      de,hl
2a6a cd5962    call    6259h
2a6d cd6864    call    6468h
2a70 e3        ex      (sp),hl
2a71 cdb73c    call    3cb7h
2a74 d1        pop     de
2a75 e1        pop     hl
2a76 c9        ret     
2a77 fea8      cp      0a8h
2a79 2029      jr      nz,2aa4h
2a7b cd1a28    call    281ah
2a7e cda85f    call    5fa8h
2a81 89        adc     a,c
2a82 cd2b29    call    292bh
2a85 7a        ld      a,d
2a86 b3        or      e
2a87 2809      jr      z,2a92h
2a89 cd3624    call    2436h
2a8c 50        ld      d,b
2a8d 59        ld      e,c
2a8e e1        pop     hl
2a8f d2ca29    jp      nc,29cah
2a92 ed53e083  ld      (83e0h),de
2a96 d8        ret     c
2a97 3ae283    ld      a,(83e2h)
2a9a b7        or      a
2a9b 7b        ld      a,e
2a9c c8        ret     z
2a9d 3a3180    ld      a,(8031h)
2aa0 5f        ld      e,a
2aa1 c35722    jp      2257h
2aa4 cd0a35    call    350ah
2aa7 7e        ld      a,(hl)
2aa8 47        ld      b,a
2aa9 fe8d      cp      8dh
2aab 2805      jr      z,2ab2h
2aad cda85f    call    5fa8h
2ab0 89        adc     a,c
2ab1 2b        dec     hl
2ab2 4b        ld      c,e
2ab3 0d        dec     c
2ab4 78        ld      a,b
2ab5 ca0228    jp      z,2802h
2ab8 cd2c29    call    292ch
2abb fe2c      cp      2ch
2abd c0        ret     nz
2abe 18f3      jr      2ab3h
2ac0 3ae283    ld      a,(83e2h)
2ac3 b7        or      a
2ac4 2009      jr      nz,2acfh
2ac6 32e083    ld      (83e0h),a
2ac9 32e183    ld      (83e1h),a
2acc c33722    jp      2237h
2acf 3c        inc     a
2ad0 323180    ld      (8031h),a
2ad3 7e        ld      a,(hl)
2ad4 fe83      cp      83h
2ad6 2810      jr      z,2ae8h
2ad8 cd2b29    call    292bh
2adb c0        ret     nz
2adc 7a        ld      a,d
2add b3        or      e
2ade 280d      jr      z,2aedh
2ae0 cd9729    call    2997h
2ae3 af        xor     a
2ae4 32e283    ld      (83e2h),a
2ae7 c9        ret     
2ae8 cd1a28    call    281ah
2aeb c0        ret     nz
2aec 3e3c      ld      a,3ch
2aee 2ade83    ld      hl,(83deh)
2af1 eb        ex      de,hl
2af2 2ada83    ld      hl,(83dah)
2af5 223f80    ld      (803fh),hl
2af8 eb        ex      de,hl
2af9 c0        ret     nz
2afa 7e        ld      a,(hl)
2afb b7        or      a
2afc 2004      jr      nz,2b02h
2afe 23        inc     hl
2aff 23        inc     hl
2b00 23        inc     hl
2b01 23        inc     hl
2b02 23        inc     hl
2b03 af        xor     a
2b04 32e283    ld      (83e2h),a
2b07 c3ea29    jp      29eah
2b0a cd0a35    call    350ah
2b0d c0        ret     nz
2b0e b7        or      a
2b0f ca1c29    jp      z,291ch
2b12 c34222    jp      2242h
2b15 110a00    ld      de,000ah
2b18 d5        push    de
2b19 2818      jr      z,2b33h
2b1b cd2129    call    2921h
2b1e eb        ex      de,hl
2b1f e3        ex      (sp),hl
2b20 2812      jr      z,2b34h
2b22 eb        ex      de,hl
2b23 cda85f    call    5fa8h
2b26 2c        inc     l
2b27 ed5bd483  ld      de,(83d4h)
2b2b 2806      jr      z,2b33h
2b2d cd2b29    call    292bh
2b30 c22822    jp      nz,2228h
2b33 eb        ex      de,hl
2b34 7c        ld      a,h
2b35 b5        or      l
2b36 ca1c29    jp      z,291ch
2b39 22d483    ld      (83d4h),hl
2b3c 32d183    ld      (83d1h),a
2b3f e1        pop     hl
2b40 22d283    ld      (83d2h),hl
2b43 c1        pop     bc
2b44 c3ef22    jp      22efh
2b47 cdd32e    call    2ed3h
2b4a 7e        ld      a,(hl)
2b4b fe2c      cp      2ch
2b4d cc1a28    call    z,281ah
2b50 fe89      cp      89h
2b52 2805      jr      z,2b59h
2b54 cda85f    call    5fa8h
2b57 db2b      in      a,(2bh)
2b59 e5        push    hl
2b5a cd763c    call    3c76h
2b5d e1        pop     hl
2b5e 2812      jr      z,2b72h
2b60 cd1a28    call    281ah
2b63 c8        ret     z
2b64 fe0e      cp      0eh
2b66 ca9429    jp      z,2994h
2b69 fe0d      cp      0dh
2b6b c20228    jp      nz,2802h
2b6e 2a9583    ld      hl,(8395h)
2b71 c9        ret     
2b72 1601      ld      d,01h
2b74 cdea29    call    29eah
2b77 b7        or      a
2b78 c8        ret     z
2b79 cd1a28    call    281ah
2b7c fea2      cp      0a2h
2b7e 20f4      jr      nz,2b74h
2b80 15        dec     d
2b81 20f1      jr      nz,2b74h
2b83 18db      jr      2b60h
2b85 3e01      ld      a,01h
2b87 323480    ld      (8034h),a
2b8a c3922b    jp      2b92h
2b8d 0e02      ld      c,02h
2b8f cddf19    call    19dfh
2b92 2b        dec     hl
2b93 cd1a28    call    281ah
2b96 cc1c59    call    z,591ch
2b99 cad22c    jp      z,2cd2h
2b9c fee5      cp      0e5h
2b9e cad15c    jp      z,5cd1h
2ba1 fedc      cp      0dch
2ba3 ca532c    jp      z,2c53h
2ba6 fee0      cp      0e0h
2ba8 ca532c    jp      z,2c53h
2bab e5        push    hl
2bac fe2c      cp      2ch
2bae 285e      jr      z,2c0eh
2bb0 fe3b      cp      3bh
2bb2 cacb2c    jp      z,2ccbh
2bb5 c1        pop     bc
2bb6 cdd32e    call    2ed3h
2bb9 e5        push    hl
2bba cd0f32    call    320fh
2bbd 280c      jr      z,2bcbh
2bbf cdb544    call    44b5h
2bc2 cd7d62    call    627dh
2bc5 3620      ld      (hl),20h
2bc7 2a2b85    ld      hl,(852bh)
2bca 34        inc     (hl)
2bcb cd0d62    call    620dh
2bce 2037      jr      nz,2c07h
2bd0 2a2b85    ld      hl,(852bh)
2bd3 3a3480    ld      a,(8034h)
2bd6 b7        or      a
2bd7 fa072c    jp      m,2c07h
2bda 2815      jr      z,2bf1h
2bdc 3a3680    ld      a,(8036h)
2bdf 47        ld      b,a
2be0 3c        inc     a
2be1 2824      jr      z,2c07h
2be3 3a3380    ld      a,(8033h)
2be6 b7        or      a
2be7 281e      jr      z,2c07h
2be9 86        add     a,(hl)
2bea 3f        ccf     
2beb 3017      jr      nc,2c04h
2bed 3d        dec     a
2bee b8        cp      b
2bef 1813      jr      2c04h
2bf1 3a3780    ld      a,(8037h)
2bf4 47        ld      b,a
2bf5 3c        inc     a
2bf6 280f      jr      z,2c07h
2bf8 3a8c83    ld      a,(838ch)
2bfb b7        or      a
2bfc 2809      jr      z,2c07h
2bfe 86        add     a,(hl)
2bff 3f        ccf     
2c00 3002      jr      nc,2c04h
2c02 3d        dec     a
2c03 b8        cp      b
2c04 d41c59    call    nc,591ch
2c07 cdd662    call    62d6h
2c0a e1        pop     hl
2c0b c3922b    jp      2b92h
2c0e 012800    ld      bc,0028h
2c11 2a3b80    ld      hl,(803bh)
2c14 09        add     hl,bc
2c15 cd0d62    call    620dh
2c18 7e        ld      a,(hl)
2c19 2031      jr      nz,2c4ch
2c1b 3a3480    ld      a,(8034h)
2c1e b7        or      a
2c1f f22a2c    jp      p,2c2ah
2c22 3e2c      ld      a,2ch
2c24 cdd957    call    57d9h
2c27 c3cb2c    jp      2ccbh
2c2a 280e      jr      z,2c3ah
2c2c 3a3580    ld      a,(8035h)
2c2f 47        ld      b,a
2c30 3c        inc     a
2c31 3a3380    ld      a,(8033h)
2c34 2816      jr      z,2c4ch
2c36 b8        cp      b
2c37 c3462c    jp      2c46h
2c3a 3a3880    ld      a,(8038h)
2c3d 47        ld      b,a
2c3e 3a8c83    ld      a,(838ch)
2c41 feff      cp      0ffh
2c43 2807      jr      z,2c4ch
2c45 b8        cp      b
2c46 d41c59    call    nc,591ch
2c49 d2cb2c    jp      nc,2ccbh
2c4c d60e      sub     0eh
2c4e 30fc      jr      nc,2c4ch
2c50 2f        cpl     
2c51 186f      jr      2cc2h
2c53 f5        push    af
2c54 cd1a28    call    281ah
2c57 cdec34    call    34ech
2c5a f1        pop     af
2c5b f5        push    af
2c5c fee0      cp      0e0h
2c5e 2801      jr      z,2c61h
2c60 1b        dec     de
2c61 7a        ld      a,d
2c62 b7        or      a
2c63 f2692c    jp      p,2c69h
2c66 110000    ld      de,0000h
2c69 e5        push    hl
2c6a cd0d62    call    620dh
2c6d 2019      jr      nz,2c88h
2c6f 3a3480    ld      a,(8034h)
2c72 b7        or      a
2c73 fa1c29    jp      m,291ch
2c76 3a3680    ld      a,(8036h)
2c79 2003      jr      nz,2c7eh
2c7b 3a3780    ld      a,(8037h)
2c7e 6f        ld      l,a
2c7f 3c        inc     a
2c80 2806      jr      z,2c88h
2c82 2600      ld      h,00h
2c84 cddb3f    call    3fdbh
2c87 eb        ex      de,hl
2c88 e1        pop     hl
2c89 cda85f    call    5fa8h
2c8c 29        add     hl,hl
2c8d 2b        dec     hl
2c8e f1        pop     af
2c8f d6e0      sub     0e0h
2c91 e5        push    hl
2c92 281f      jr      z,2cb3h
2c94 012800    ld      bc,0028h
2c97 2a3b80    ld      hl,(803bh)
2c9a 09        add     hl,bc
2c9b cd0d62    call    620dh
2c9e 7e        ld      a,(hl)
2c9f 2012      jr      nz,2cb3h
2ca1 3a3480    ld      a,(8034h)
2ca4 b7        or      a
2ca5 fa1c29    jp      m,291ch
2ca8 cab02c    jp      z,2cb0h
2cab 3a3380    ld      a,(8033h)
2cae 1803      jr      2cb3h
2cb0 3a8c83    ld      a,(838ch)
2cb3 2f        cpl     
2cb4 83        add     a,e
2cb5 380b      jr      c,2cc2h
2cb7 3c        inc     a
2cb8 2811      jr      z,2ccbh
2cba cd1c59    call    591ch
2cbd 7b        ld      a,e
2cbe 3d        dec     a
2cbf facb2c    jp      m,2ccbh
2cc2 3c        inc     a
2cc3 47        ld      b,a
2cc4 3e20      ld      a,20h
2cc6 cdd957    call    57d9h
2cc9 10fb      djnz    2cc6h
2ccb e1        pop     hl
2ccc cd1a28    call    281ah
2ccf c3992b    jp      2b99h
2cd2 af        xor     a
2cd3 323480    ld      (8034h),a
2cd6 e5        push    hl
2cd7 67        ld      h,a
2cd8 6f        ld      l,a
2cd9 223b80    ld      (803bh),hl
2cdc e1        pop     hl
2cdd c9        ret     
2cde cda85f    call    5fa8h
2ce1 85        add     a,l
2ce2 fe23      cp      23h
2ce4 cac450    jp      z,50c4h
2ce7 cdf00c    call    0cf0h
2cea cd562d    call    2d56h
2ced cdb759    call    59b7h
2cf0 cd1d3e    call    3e1dh
2cf3 d5        push    de
2cf4 e5        push    hl
2cf5 cd1c0c    call    0c1ch
2cf8 d1        pop     de
2cf9 c1        pop     bc
2cfa dae85f    jp      c,5fe8h
2cfd c5        push    bc
2cfe d5        push    de
2cff 0600      ld      b,00h
2d01 cd8062    call    6280h
2d04 e1        pop     hl
2d05 3e03      ld      a,03h
2d07 c3252a    jp      2a25h
2d0a 3f        ccf     
2d0b 52        ld      d,d
2d0c 65        ld      h,l
2d0d 64        ld      h,h
2d0e 6f        ld      l,a
2d0f 2066      jr      nz,2d77h
2d11 72        ld      (hl),d
2d12 6f        ld      l,a
2d13 6d        ld      l,l
2d14 2073      jr      nz,2d89h
2d16 74        ld      (hl),h
2d17 61        ld      h,c
2d18 72        ld      (hl),d
2d19 74        ld      (hl),h
2d1a 0d        dec     c
2d1b 0a        ld      a,(bc)
2d1c 00        nop     
2d1d 23        inc     hl
2d1e 7e        ld      a,(hl)
2d1f b7        or      a
2d20 ca2822    jp      z,2228h
2d23 fe22      cp      22h
2d25 20f6      jr      nz,2d1dh
2d27 c3bc2d    jp      2dbch
2d2a e1        pop     hl
2d2b e1        pop     hl
2d2c 1807      jr      2d35h
2d2e 3acd83    ld      a,(83cdh)
2d31 b7        or      a
2d32 c22222    jp      nz,2222h
2d35 c1        pop     bc
2d36 210a2d    ld      hl,2d0ah
2d39 cdd362    call    62d3h
2d3c 2ad683    ld      hl,(83d6h)
2d3f c9        ret     
2d40 cd2d50    call    502dh
2d43 e5        push    hl
2d44 218882    ld      hl,8288h
2d47 c3162e    jp      2e16h
2d4a fe23      cp      23h
2d4c ca141a    jp      z,1a14h
2d4f cdf00c    call    0cf0h
2d52 017e2d    ld      bc,2d7eh
2d55 c5        push    bc
2d56 fe22      cp      22h
2d58 3e00      ld      a,00h
2d5a 323a80    ld      (803ah),a
2d5d 3eff      ld      a,0ffh
2d5f 320e85    ld      (850eh),a
2d62 c0        ret     nz
2d63 cd7e62    call    627eh
2d66 7e        ld      a,(hl)
2d67 fe2c      cp      2ch
2d69 2009      jr      nz,2d74h
2d6b af        xor     a
2d6c 320e85    ld      (850eh),a
2d6f cd1a28    call    281ah
2d72 1804      jr      2d78h
2d74 cda85f    call    5fa8h
2d77 3b        dec     sp
2d78 e5        push    hl
2d79 cdd662    call    62d6h
2d7c e1        pop     hl
2d7d c9        ret     
2d7e e5        push    hl
2d7f 3a0e85    ld      a,(850eh)
2d82 b7        or      a
2d83 280a      jr      z,2d8fh
2d85 3e3f      ld      a,3fh
2d87 cdd957    call    57d9h
2d8a 3e20      ld      a,20h
2d8c cdd957    call    57d9h
2d8f cd1c0c    call    0c1ch
2d92 c1        pop     bc
2d93 dae85f    jp      c,5fe8h
2d96 c5        push    bc
2d97 af        xor     a
2d98 32cd83    ld      (83cdh),a
2d9b 362c      ld      (hl),2ch
2d9d eb        ex      de,hl
2d9e e1        pop     hl
2d9f e5        push    hl
2da0 d5        push    de
2da1 d5        push    de
2da2 2b        dec     hl
2da3 3e80      ld      a,80h
2da5 32cc83    ld      (83cch),a
2da8 cd1a28    call    281ah
2dab cda45a    call    5aa4h
2dae 7e        ld      a,(hl)
2daf 2b        dec     hl
2db0 fe5b      cp      5bh
2db2 2804      jr      z,2db8h
2db4 fe28      cp      28h
2db6 2021      jr      nz,2dd9h
2db8 23        inc     hl
2db9 0600      ld      b,00h
2dbb 04        inc     b
2dbc cd1a28    call    281ah
2dbf ca2822    jp      z,2228h
2dc2 fe22      cp      22h
2dc4 ca1d2d    jp      z,2d1dh
2dc7 fe28      cp      28h
2dc9 28f0      jr      z,2dbbh
2dcb fe5b      cp      5bh
2dcd 28ed      jr      z,2dbch
2dcf fe5d      cp      5dh
2dd1 2804      jr      z,2dd7h
2dd3 fe29      cp      29h
2dd5 20e5      jr      nz,2dbch
2dd7 10e3      djnz    2dbch
2dd9 cd1a28    call    281ah
2ddc 2805      jr      z,2de3h
2dde fe2c      cp      2ch
2de0 c22822    jp      nz,2228h
2de3 e3        ex      (sp),hl
2de4 7e        ld      a,(hl)
2de5 fe2c      cp      2ch
2de7 c22a2d    jp      nz,2d2ah
2dea 3e01      ld      a,01h
2dec 323185    ld      (8531h),a
2def cd3c2e    call    2e3ch
2df2 3a3185    ld      a,(8531h)
2df5 3d        dec     a
2df6 c22a2d    jp      nz,2d2ah
2df9 e5        push    hl
2dfa cd0f32    call    320fh
2dfd cc4b64    call    z,644bh
2e00 e1        pop     hl
2e01 2b        dec     hl
2e02 cd1a28    call    281ah
2e05 e3        ex      (sp),hl
2e06 7e        ld      a,(hl)
2e07 fe2c      cp      2ch
2e09 caa32d    jp      z,2da3h
2e0c e1        pop     hl
2e0d 2b        dec     hl
2e0e cd1a28    call    281ah
2e11 b7        or      a
2e12 e1        pop     hl
2e13 c2352d    jp      nz,2d35h
2e16 362c      ld      (hl),2ch
2e18 1805      jr      2e1fh
2e1a e5        push    hl
2e1b 2aef83    ld      hl,(83efh)
2e1e f6af      or      0afh
2e20 32cd83    ld      (83cdh),a
2e23 e3        ex      (sp),hl
2e24 1804      jr      2e2ah
2e26 cda85f    call    5fa8h
2e29 2c        inc     l
2e2a cdb759    call    59b7h
2e2d e3        ex      (sp),hl
2e2e d5        push    de
2e2f 7e        ld      a,(hl)
2e30 fe2c      cp      2ch
2e32 2807      jr      z,2e3bh
2e34 3acd83    ld      a,(83cdh)
2e37 b7        or      a
2e38 c2a72e    jp      nz,2ea7h
2e3b f6af      or      0afh
2e3d 32e384    ld      (84e3h),a
2e40 cd0d62    call    620dh
2e43 c2b650    jp      nz,50b6h
2e46 cd0f32    call    320fh
2e49 f5        push    af
2e4a 202b      jr      nz,2e77h
2e4c cd1a28    call    281ah
2e4f 57        ld      d,a
2e50 47        ld      b,a
2e51 fe22      cp      22h
2e53 280c      jr      z,2e61h
2e55 3acd83    ld      a,(83cdh)
2e58 b7        or      a
2e59 57        ld      d,a
2e5a 2802      jr      z,2e5eh
2e5c 163a      ld      d,3ah
2e5e 062c      ld      b,2ch
2e60 2b        dec     hl
2e61 cd8162    call    6281h
2e64 f1        pop     af
2e65 c603      add     a,03h
2e67 4f        ld      c,a
2e68 3ae384    ld      a,(84e3h)
2e6b b7        or      a
2e6c c8        ret     z
2e6d 79        ld      a,c
2e6e eb        ex      de,hl
2e6f 21862e    ld      hl,2e86h
2e72 e3        ex      (sp),hl
2e73 d5        push    de
2e74 c3262a    jp      2a26h
2e77 cd1a28    call    281ah
2e7a f1        pop     af
2e7b f5        push    af
2e7c 01642e    ld      bc,2e64h
2e7f c5        push    bc
2e80 da8442    jp      c,4284h
2e83 c37d42    jp      427dh
2e86 2b        dec     hl
2e87 cd1a28    call    281ah
2e8a 2805      jr      z,2e91h
2e8c fe2c      cp      2ch
2e8e c22e2d    jp      nz,2d2eh
2e91 e3        ex      (sp),hl
2e92 2b        dec     hl
2e93 cd1a28    call    281ah
2e96 c2262e    jp      nz,2e26h
2e99 d1        pop     de
2e9a 3acd83    ld      a,(83cdh)
2e9d b7        or      a
2e9e eb        ex      de,hl
2e9f c2cf5f    jp      nz,5fcfh
2ea2 d5        push    de
2ea3 e1        pop     hl
2ea4 c3d22c    jp      2cd2h
2ea7 cdea29    call    29eah
2eaa b7        or      a
2eab 2011      jr      nz,2ebeh
2ead 23        inc     hl
2eae 7e        ld      a,(hl)
2eaf 23        inc     hl
2eb0 b6        or      (hl)
2eb1 1e04      ld      e,04h
2eb3 ca4222    jp      z,2242h
2eb6 23        inc     hl
2eb7 5e        ld      e,(hl)
2eb8 23        inc     hl
2eb9 56        ld      d,(hl)
2eba ed53ca83  ld      (83cah),de
2ebe cd1a28    call    281ah
2ec1 fe84      cp      84h
2ec3 20e2      jr      nz,2ea7h
2ec5 c33b2e    jp      2e3bh
2ec8 cda85f    call    5fa8h
2ecb f0        ret     p
2ecc c3d32e    jp      2ed3h
2ecf cda85f    call    5fa8h
2ed2 282b      jr      z,2effh
2ed4 1600      ld      d,00h
2ed6 d5        push    de
2ed7 0e01      ld      c,01h
2ed9 cd9e5e    call    5e9eh
2edc cd4e30    call    304eh
2edf af        xor     a
2ee0 323085    ld      (8530h),a
2ee3 22e383    ld      (83e3h),hl
2ee6 2ae383    ld      hl,(83e3h)
2ee9 c1        pop     bc
2eea 7e        ld      a,(hl)
2eeb 22c483    ld      (83c4h),hl
2eee feef      cp      0efh
2ef0 d8        ret     c
2ef1 fef2      cp      0f2h
2ef3 3865      jr      c,2f5ah
2ef5 d6f2      sub     0f2h
2ef7 5f        ld      e,a
2ef8 2009      jr      nz,2f03h
2efa 3a8e83    ld      a,(838eh)
2efd fe03      cp      03h
2eff 7b        ld      a,e
2f00 caff63    jp      z,63ffh
2f03 fe0c      cp      0ch
2f05 d0        ret     nc
2f06 21ae1e    ld      hl,1eaeh
2f09 1600      ld      d,00h
2f0b 19        add     hl,de
2f0c 78        ld      a,b
2f0d 56        ld      d,(hl)
2f0e ba        cp      d
2f0f d0        ret     nc
2f10 c5        push    bc
2f11 01e62e    ld      bc,2ee6h
2f14 c5        push    bc
2f15 7a        ld      a,d
2f16 fe7f      cp      7fh
2f18 285b      jr      z,2f75h
2f1a fe51      cp      51h
2f1c 3864      jr      c,2f82h
2f1e e6fe      and     0feh
2f20 fe7a      cp      7ah
2f22 285e      jr      z,2f82h
2f24 212b85    ld      hl,852bh
2f27 3a8e83    ld      a,(838eh)
2f2a d603      sub     03h
2f2c ca4022    jp      z,2240h
2f2f b7        or      a
2f30 4e        ld      c,(hl)
2f31 23        inc     hl
2f32 46        ld      b,(hl)
2f33 c5        push    bc
2f34 fa4b2f    jp      m,2f4bh
2f37 23        inc     hl
2f38 4e        ld      c,(hl)
2f39 23        inc     hl
2f3a 46        ld      b,(hl)
2f3b c5        push    bc
2f3c e24b2f    jp      po,2f4bh
2f3f 212785    ld      hl,8527h
2f42 4e        ld      c,(hl)
2f43 23        inc     hl
2f44 46        ld      b,(hl)
2f45 23        inc     hl
2f46 c5        push    bc
2f47 4e        ld      c,(hl)
2f48 23        inc     hl
2f49 46        ld      b,(hl)
2f4a c5        push    bc
2f4b c603      add     a,03h
2f4d 4b        ld      c,e
2f4e 47        ld      b,a
2f4f c5        push    bc
2f50 01a92f    ld      bc,2fa9h
2f53 c5        push    bc
2f54 2ac483    ld      hl,(83c4h)
2f57 c3d62e    jp      2ed6h
2f5a 1600      ld      d,00h
2f5c d6ef      sub     0efh
2f5e 382d      jr      c,2f8dh
2f60 fe03      cp      03h
2f62 3029      jr      nc,2f8dh
2f64 fe01      cp      01h
2f66 17        rla     
2f67 aa        xor     d
2f68 ba        cp      d
2f69 57        ld      d,a
2f6a da2822    jp      c,2228h
2f6d 22c483    ld      (83c4h),hl
2f70 cd1a28    call    281ah
2f73 18e7      jr      2f5ch
2f75 cdd73d    call    3dd7h
2f78 cd883c    call    3c88h
2f7b 01094a    ld      bc,4a09h
2f7e 167f      ld      d,7fh
2f80 18d1      jr      2f53h
2f82 d5        push    de
2f83 cd613d    call    3d61h
2f86 d1        pop     de
2f87 e5        push    hl
2f88 011f32    ld      bc,321fh
2f8b 18c6      jr      2f53h
2f8d 78        ld      a,b
2f8e fe64      cp      64h
2f90 d0        ret     nc
2f91 c5        push    bc
2f92 d5        push    de
2f93 110464    ld      de,6404h
2f96 21ee31    ld      hl,31eeh
2f99 e5        push    hl
2f9a cd0f32    call    320fh
2f9d c2242f    jp      nz,2f24h
2fa0 2a2b85    ld      hl,(852bh)
2fa3 e5        push    hl
2fa4 011562    ld      bc,6215h
2fa7 18aa      jr      2f53h
2fa9 c1        pop     bc
2faa 79        ld      a,c
2fab 328f83    ld      (838fh),a
2fae 3a8e83    ld      a,(838eh)
2fb1 b8        cp      b
2fb2 200b      jr      nz,2fbfh
2fb4 fe02      cp      02h
2fb6 281f      jr      z,2fd7h
2fb8 fe04      cp      04h
2fba ca2430    jp      z,3024h
2fbd 302b      jr      nc,2feah
2fbf 57        ld      d,a
2fc0 78        ld      a,b
2fc1 fe08      cp      08h
2fc3 2822      jr      z,2fe7h
2fc5 7a        ld      a,d
2fc6 fe08      cp      08h
2fc8 2844      jr      z,300eh
2fca 78        ld      a,b
2fcb fe04      cp      04h
2fcd 2852      jr      z,3021h
2fcf 7a        ld      a,d
2fd0 fe03      cp      03h
2fd2 ca4022    jp      z,2240h
2fd5 3054      jr      nc,302bh
2fd7 21d81e    ld      hl,1ed8h
2fda 0600      ld      b,00h
2fdc 09        add     hl,bc
2fdd 09        add     hl,bc
2fde 4e        ld      c,(hl)
2fdf 23        inc     hl
2fe0 46        ld      b,(hl)
2fe1 d1        pop     de
2fe2 2a2b85    ld      hl,(852bh)
2fe5 c5        push    bc
2fe6 c9        ret     
2fe7 cd033e    call    3e03h
2fea cddf3c    call    3cdfh
2fed e1        pop     hl
2fee 222985    ld      (8529h),hl
2ff1 e1        pop     hl
2ff2 222785    ld      (8527h),hl
2ff5 c1        pop     bc
2ff6 d1        pop     de
2ff7 cd983c    call    3c98h
2ffa cd033e    call    3e03h
2ffd 21c41e    ld      hl,1ec4h
3000 3a8f83    ld      a,(838fh)
3003 07        rlca    
3004 85        add     a,l
3005 6f        ld      l,a
3006 8c        adc     a,h
3007 95        sub     l
3008 67        ld      h,a
3009 7e        ld      a,(hl)
300a 23        inc     hl
300b 66        ld      h,(hl)
300c 6f        ld      l,a
300d e9        jp      (hl)
300e 78        ld      a,b
300f f5        push    af
3010 cddf3c    call    3cdfh
3013 f1        pop     af
3014 328e83    ld      (838eh),a
3017 fe04      cp      04h
3019 28da      jr      z,2ff5h
301b e1        pop     hl
301c 222b85    ld      (852bh),hl
301f 18d9      jr      2ffah
3021 cdd73d    call    3dd7h
3024 c1        pop     bc
3025 d1        pop     de
3026 21ce1e    ld      hl,1eceh
3029 18d5      jr      3000h
302b e1        pop     hl
302c cd883c    call    3c88h
302f cdf73d    call    3df7h
3032 cda33c    call    3ca3h
3035 e1        pop     hl
3036 222d85    ld      (852dh),hl
3039 e1        pop     hl
303a 222b85    ld      (852bh),hl
303d 18e7      jr      3026h
303f e5        push    hl
3040 eb        ex      de,hl
3041 cdf73d    call    3df7h
3044 e1        pop     hl
3045 cd883c    call    3c88h
3048 cdf73d    call    3df7h
304b c3663b    jp      3b66h
304e cd1a28    call    281ah
3051 ca3d22    jp      z,223dh
3054 da8442    jp      c,4284h
3057 cdce60    call    60ceh
305a d20531    jp      nc,3105h
305d fe20      cp      20h
305f da6928    jp      c,2869h
3062 3c        inc     a
3063 ca8331    jp      z,3183h
3066 3d        dec     a
3067 fef2      cp      0f2h
3069 28e3      jr      z,304eh
306b fef3      cp      0f3h
306d caf730    jp      z,30f7h
3070 fe22      cp      22h
3072 ca7e62    jp      z,627eh
3075 fee1      cp      0e1h
3077 cafa31    jp      z,31fah
307a fe26      cp      26h
307c ca2431    jp      z,3124h
307f fee3      cp      0e3h
3081 200c      jr      nz,308fh
3083 cd1a28    call    281ah
3086 3a3180    ld      a,(8031h)
3089 e5        push    hl
308a cd7632    call    3276h
308d e1        pop     hl
308e c9        ret     
308f fee2      cp      0e2h
3091 200c      jr      nz,309fh
3093 cd1a28    call    281ah
3096 e5        push    hl
3097 2ada83    ld      hl,(83dah)
309a cdd13f    call    3fd1h
309d e1        pop     hl
309e c9        ret     
309f fee8      cp      0e8h
30a1 2029      jr      nz,30cch
30a3 cd1a28    call    281ah
30a6 cda85f    call    5fa8h
30a9 28fe      jr      z,30a9h
30ab 23        inc     hl
30ac 180b      jr      30b9h
30ae cd0735    call    3507h
30b1 e5        push    hl
30b2 cd7050    call    5070h
30b5 e1        pop     hl
30b6 c3bc30    jp      30bch
30b9 cda45a    call    5aa4h
30bc cda85f    call    5fa8h
30bf 29        add     hl,hl
30c0 e5        push    hl
30c1 eb        ex      de,hl
30c2 7c        ld      a,h
30c3 b5        or      l
30c4 ca1c29    jp      z,291ch
30c7 cdc03d    call    3dc0h
30ca e1        pop     hl
30cb c9        ret     
30cc feea      cp      0eah
30ce cab612    jp      z,12b6h
30d1 fede      cp      0deh
30d3 ca7c32    jp      z,327ch
30d6 fee6      cp      0e6h
30d8 ca6565    jp      z,6565h
30db fee9      cp      0e9h
30dd ca6459    jp      z,5964h
30e0 fee4      cp      0e4h
30e2 caa264    jp      z,64a2h
30e5 fe85      cp      85h
30e7 ca1053    jp      z,5310h
30ea fedf      cp      0dfh
30ec caf132    jp      z,32f1h
30ef cdcf2e    call    2ecfh
30f2 cda85f    call    5fa8h
30f5 29        add     hl,hl
30f6 c9        ret     
30f7 167d      ld      d,7dh
30f9 cdd62e    call    2ed6h
30fc 2ae383    ld      hl,(83e3h)
30ff e5        push    hl
3100 cd5b3c    call    3c5bh
3103 e1        pop     hl
3104 c9        ret     
3105 cdb759    call    59b7h
3108 e5        push    hl
3109 eb        ex      de,hl
310a 222b85    ld      (852bh),hl
310d cd0f32    call    320fh
3110 c4da3c    call    nz,3cdah
3113 e1        pop     hl
3114 c9        ret     
3115 7e        ld      a,(hl)
3116 fe61      cp      61h
3118 d8        ret     c
3119 fe7b      cp      7bh
311b d0        ret     nc
311c e65f      and     5fh
311e c9        ret     
311f fe26      cp      26h
3121 c22b29    jp      nz,292bh
3124 110000    ld      de,0000h
3127 cd1a28    call    281ah
312a cd1631    call    3116h
312d fe4f      cp      4fh
312f 282e      jr      z,315fh
3131 fe48      cp      48h
3133 2029      jr      nz,315eh
3135 0605      ld      b,05h
3137 23        inc     hl
3138 7e        ld      a,(hl)
3139 cd1631    call    3116h
313c cdce60    call    60ceh
313f eb        ex      de,hl
3140 300a      jr      nc,314ch
3142 fe3a      cp      3ah
3144 3038      jr      nc,317eh
3146 d630      sub     30h
3148 3834      jr      c,317eh
314a 1806      jr      3152h
314c fe47      cp      47h
314e 302e      jr      nc,317eh
3150 d637      sub     37h
3152 29        add     hl,hl
3153 29        add     hl,hl
3154 29        add     hl,hl
3155 29        add     hl,hl
3156 b5        or      l
3157 6f        ld      l,a
3158 eb        ex      de,hl
3159 10dc      djnz    3137h
315b c33a22    jp      223ah
315e 2b        dec     hl
315f cd1a28    call    281ah
3162 eb        ex      de,hl
3163 3019      jr      nc,317eh
3165 fe38      cp      38h
3167 d22822    jp      nc,2228h
316a 013a22    ld      bc,223ah
316d c5        push    bc
316e 29        add     hl,hl
316f d8        ret     c
3170 29        add     hl,hl
3171 d8        ret     c
3172 29        add     hl,hl
3173 d8        ret     c
3174 c1        pop     bc
3175 0600      ld      b,00h
3177 d630      sub     30h
3179 4f        ld      c,a
317a 09        add     hl,bc
317b eb        ex      de,hl
317c 18e1      jr      315fh
317e cdc03d    call    3dc0h
3181 eb        ex      de,hl
3182 c9        ret     
3183 23        inc     hl
3184 7e        ld      a,(hl)
3185 d681      sub     81h
3187 fe07      cp      07h
3189 200c      jr      nz,3197h
318b e5        push    hl
318c cd1a28    call    281ah
318f fe28      cp      28h
3191 e1        pop     hl
3192 c2034b    jp      nz,4b03h
3195 3e07      ld      a,07h
3197 0600      ld      b,00h
3199 07        rlca    
319a 4f        ld      c,a
319b c5        push    bc
319c cd1a28    call    281ah
319f 79        ld      a,c
31a0 fe05      cp      05h
31a2 3018      jr      nc,31bch
31a4 cdcf2e    call    2ecfh
31a7 cda85f    call    5fa8h
31aa 2c        inc     l
31ab cd1d3e    call    3e1dh
31ae eb        ex      de,hl
31af 2a2b85    ld      hl,(852bh)
31b2 e3        ex      (sp),hl
31b3 e5        push    hl
31b4 eb        ex      de,hl
31b5 cd0a35    call    350ah
31b8 eb        ex      de,hl
31b9 e3        ex      (sp),hl
31ba 1819      jr      31d5h
31bc cdef30    call    30efh
31bf e3        ex      (sp),hl
31c0 7d        ld      a,l
31c1 fe0c      cp      0ch
31c3 3807      jr      c,31cch
31c5 fe1b      cp      1bh
31c7 e5        push    hl
31c8 dcd73d    call    c,3dd7h
31cb e1        pop     hl
31cc 110331    ld      de,3103h
31cf d5        push    de
31d0 3e01      ld      a,01h
31d2 323085    ld      (8530h),a
31d5 01811b    ld      bc,1b81h
31d8 09        add     hl,bc
31d9 4e        ld      c,(hl)
31da 23        inc     hl
31db 66        ld      h,(hl)
31dc 69        ld      l,c
31dd e9        jp      (hl)
31de 15        dec     d
31df fef3      cp      0f3h
31e1 c8        ret     z
31e2 fe2d      cp      2dh
31e4 c8        ret     z
31e5 14        inc     d
31e6 fe2b      cp      2bh
31e8 c8        ret     z
31e9 fef2      cp      0f2h
31eb c8        ret     z
31ec 2b        dec     hl
31ed c9        ret     
31ee 3c        inc     a
31ef 8f        adc     a,a
31f0 c1        pop     bc
31f1 a0        and     b
31f2 c6ff      add     a,0ffh
31f4 9f        sbc     a,a
31f5 cd6f3c    call    3c6fh
31f8 1812      jr      320ch
31fa 165a      ld      d,5ah
31fc cdd62e    call    2ed6h
31ff cd613d    call    3d61h
3202 7d        ld      a,l
3203 2f        cpl     
3204 6f        ld      l,a
3205 7c        ld      a,h
3206 2f        cpl     
3207 67        ld      h,a
3208 222b85    ld      (852bh),hl
320b c1        pop     bc
320c c3e62e    jp      2ee6h
320f 3a8e83    ld      a,(838eh)
3212 fe08      cp      08h
3214 3005      jr      nc,321bh
3216 d603      sub     03h
3218 b7        or      a
3219 37        scf     
321a c9        ret     
321b d603      sub     03h
321d b7        or      a
321e c9        ret     
321f 78        ld      a,b
3220 f5        push    af
3221 cd613d    call    3d61h
3224 f1        pop     af
3225 d1        pop     de
3226 fe7a      cp      7ah
3228 cadb3f    jp      z,3fdbh
322b fe7b      cp      7bh
322d ca7a3f    jp      z,3f7ah
3230 017832    ld      bc,3278h
3233 c5        push    bc
3234 fe46      cp      46h
3236 2006      jr      nz,323eh
3238 7b        ld      a,e
3239 b5        or      l
323a 6f        ld      l,a
323b 7c        ld      a,h
323c b2        or      d
323d c9        ret     
323e fe50      cp      50h
3240 2006      jr      nz,3248h
3242 7b        ld      a,e
3243 a5        and     l
3244 6f        ld      l,a
3245 7c        ld      a,h
3246 a2        and     d
3247 c9        ret     
3248 fe3c      cp      3ch
324a 2006      jr      nz,3252h
324c 7b        ld      a,e
324d ad        xor     l
324e 6f        ld      l,a
324f 7c        ld      a,h
3250 aa        xor     d
3251 c9        ret     
3252 fe32      cp      32h
3254 2008      jr      nz,325eh
3256 7b        ld      a,e
3257 ad        xor     l
3258 2f        cpl     
3259 6f        ld      l,a
325a 7c        ld      a,h
325b aa        xor     d
325c 2f        cpl     
325d c9        ret     
325e 7d        ld      a,l
325f 2f        cpl     
3260 a3        and     e
3261 2f        cpl     
3262 6f        ld      l,a
3263 7c        ld      a,h
3264 2f        cpl     
3265 a2        and     d
3266 2f        cpl     
3267 c9        ret     
3268 ed52      sbc     hl,de
326a c3d13f    jp      3fd1h
326d 3a3380    ld      a,(8033h)
3270 1803      jr      3275h
3272 cd2705    call    0527h
3275 3c        inc     a
3276 6f        ld      l,a
3277 af        xor     a
3278 67        ld      h,a
3279 c3c03d    jp      3dc0h
327c cd9b32    call    329bh
327f d5        push    de
3280 cdef30    call    30efh
3283 e3        ex      (sp),hl
3284 5e        ld      e,(hl)
3285 23        inc     hl
3286 56        ld      d,(hl)
3287 21563b    ld      hl,3b56h
328a e5        push    hl
328b d5        push    de
328c 3a8e83    ld      a,(838eh)
328f f5        push    af
3290 fe03      cp      03h
3292 cc4b64    call    z,644bh
3295 f1        pop     af
3296 eb        ex      de,hl
3297 212b85    ld      hl,852bh
329a c9        ret     
329b cd1a28    call    281ah
329e 010000    ld      bc,0000h
32a1 fe1b      cp      1bh
32a3 300d      jr      nc,32b2h
32a5 fe11      cp      11h
32a7 3809      jr      c,32b2h
32a9 cd1a28    call    281ah
32ac 3a9583    ld      a,(8395h)
32af b7        or      a
32b0 17        rla     
32b1 4f        ld      c,a
32b2 eb        ex      de,hl
32b3 211b80    ld      hl,801bh
32b6 09        add     hl,bc
32b7 eb        ex      de,hl
32b8 c9        ret     
32b9 cd9b32    call    329bh
32bc d5        push    de
32bd cda85f    call    5fa8h
32c0 f0        ret     p
32c1 cd5037    call    3750h
32c4 e3        ex      (sp),hl
32c5 73        ld      (hl),e
32c6 23        inc     hl
32c7 72        ld      (hl),d
32c8 e1        pop     hl
32c9 c9        ret     
32ca fede      cp      0deh
32cc 28eb      jr      z,32b9h
32ce cd6b34    call    346bh
32d1 cd5d34    call    345dh
32d4 eb        ex      de,hl
32d5 73        ld      (hl),e
32d6 23        inc     hl
32d7 72        ld      (hl),d
32d8 eb        ex      de,hl
32d9 7e        ld      a,(hl)
32da fe28      cp      28h
32dc c2ea29    jp      nz,29eah
32df cd1a28    call    281ah
32e2 cdb759    call    59b7h
32e5 7e        ld      a,(hl)
32e6 fe29      cp      29h
32e8 caea29    jp      z,29eah
32eb cda85f    call    5fa8h
32ee 2c        inc     l
32ef 18f1      jr      32e2h
32f1 cd6b34    call    346bh
32f4 3a8e83    ld      a,(838eh)
32f7 b7        or      a
32f8 f5        push    af
32f9 22e383    ld      (83e3h),hl
32fc eb        ex      de,hl
32fd 7e        ld      a,(hl)
32fe 23        inc     hl
32ff 66        ld      h,(hl)
3300 6f        ld      l,a
3301 7c        ld      a,h
3302 b5        or      l
3303 ca3422    jp      z,2234h
3306 7e        ld      a,(hl)
3307 fe28      cp      28h
3309 c2b833    jp      nz,33b8h
330c cd1a28    call    281ah
330f 22c483    ld      (83c4h),hl
3312 eb        ex      de,hl
3313 2ae383    ld      hl,(83e3h)
3316 cda85f    call    5fa8h
3319 28af      jr      z,32cah
331b f5        push    af
331c e5        push    hl
331d eb        ex      de,hl
331e 3e80      ld      a,80h
3320 32cc83    ld      (83cch),a
3323 cdb759    call    59b7h
3326 eb        ex      de,hl
3327 e3        ex      (sp),hl
3328 3a8e83    ld      a,(838eh)
332b f5        push    af
332c d5        push    de
332d cdd32e    call    2ed3h
3330 22e383    ld      (83e3h),hl
3333 e1        pop     hl
3334 22c483    ld      (83c4h),hl
3337 f1        pop     af
3338 cd4434    call    3444h
333b 0e04      ld      c,04h
333d cd9e5e    call    5e9eh
3340 21f8ff    ld      hl,0fff8h
3343 39        add     hl,sp
3344 f9        ld      sp,hl
3345 cde23c    call    3ce2h
3348 3a8e83    ld      a,(838eh)
334b f5        push    af
334c 2ae383    ld      hl,(83e3h)
334f 7e        ld      a,(hl)
3350 fe29      cp      29h
3352 2812      jr      z,3366h
3354 cda85f    call    5fa8h
3357 2c        inc     l
3358 e5        push    hl
3359 2ac483    ld      hl,(83c4h)
335c cda85f    call    5fa8h
335f 2c        inc     l
3360 18bc      jr      331eh
3362 f1        pop     af
3363 327584    ld      (8475h),a
3366 f1        pop     af
3367 b7        or      a
3368 283f      jr      z,33a9h
336a 328e83    ld      (838eh),a
336d 210000    ld      hl,0000h
3370 39        add     hl,sp
3371 cdda3c    call    3cdah
3374 210800    ld      hl,0008h
3377 39        add     hl,sp
3378 f9        ld      sp,hl
3379 d1        pop     de
337a 2e03      ld      l,03h
337c 2c        inc     l
337d 1b        dec     de
337e 1a        ld      a,(de)
337f b7        or      a
3380 fa7c33    jp      m,337ch
3383 1b        dec     de
3384 1b        dec     de
3385 1b        dec     de
3386 3a8e83    ld      a,(838eh)
3389 85        add     a,l
338a 47        ld      b,a
338b 3a7584    ld      a,(8475h)
338e 4f        ld      c,a
338f 80        add     a,b
3390 fe64      cp      64h
3392 d21c29    jp      nc,291ch
3395 f5        push    af
3396 7d        ld      a,l
3397 0600      ld      b,00h
3399 217784    ld      hl,8477h
339c 09        add     hl,bc
339d 4f        ld      c,a
339e cd5834    call    3458h
33a1 016233    ld      bc,3362h
33a4 c5        push    bc
33a5 c5        push    bc
33a6 c3312a    jp      2a31h
33a9 2ae383    ld      hl,(83e3h)
33ac cd1a28    call    281ah
33af e5        push    hl
33b0 2ac483    ld      hl,(83c4h)
33b3 cda85f    call    5fa8h
33b6 29        add     hl,hl
33b7 3ed5      ld      a,0d5h
33b9 22c483    ld      (83c4h),hl
33bc 3a0d84    ld      a,(840dh)
33bf c604      add     a,04h
33c1 f5        push    af
33c2 0f        rrca    
33c3 4f        ld      c,a
33c4 cd9e5e    call    5e9eh
33c7 f1        pop     af
33c8 4f        ld      c,a
33c9 2f        cpl     
33ca 3c        inc     a
33cb 6f        ld      l,a
33cc 26ff      ld      h,0ffh
33ce 39        add     hl,sp
33cf f9        ld      sp,hl
33d0 e5        push    hl
33d1 110b84    ld      de,840bh
33d4 cd5834    call    3458h
33d7 e1        pop     hl
33d8 220b84    ld      (840bh),hl
33db 2a7584    ld      hl,(8475h)
33de 220d84    ld      (840dh),hl
33e1 44        ld      b,h
33e2 4d        ld      c,l
33e3 210f84    ld      hl,840fh
33e6 117784    ld      de,8477h
33e9 cd5834    call    3458h
33ec 67        ld      h,a
33ed 6f        ld      l,a
33ee 227584    ld      (8475h),hl
33f1 2ae184    ld      hl,(84e1h)
33f4 23        inc     hl
33f5 22e184    ld      (84e1h),hl
33f8 7c        ld      a,h
33f9 b5        or      l
33fa 32de84    ld      (84deh),a
33fd 2ac483    ld      hl,(83c4h)
3400 cdc82e    call    2ec8h
3403 2b        dec     hl
3404 cd1a28    call    281ah
3407 c22822    jp      nz,2228h
340a cd0f32    call    320fh
340d 2011      jr      nz,3420h
340f 11bf83    ld      de,83bfh
3412 2a2b85    ld      hl,(852bh)
3415 cda25f    call    5fa2h
3418 3806      jr      c,3420h
341a cd5962    call    6259h
341d cdb162    call    62b1h
3420 2a0b84    ld      hl,(840bh)
3423 54        ld      d,h
3424 5d        ld      e,l
3425 23        inc     hl
3426 23        inc     hl
3427 4e        ld      c,(hl)
3428 23        inc     hl
3429 46        ld      b,(hl)
342a 03        inc     bc
342b 03        inc     bc
342c 03        inc     bc
342d 03        inc     bc
342e 210b84    ld      hl,840bh
3431 cd5834    call    3458h
3434 eb        ex      de,hl
3435 f9        ld      sp,hl
3436 2ae184    ld      hl,(84e1h)
3439 2b        dec     hl
343a 22e184    ld      (84e1h),hl
343d 7c        ld      a,h
343e b5        or      l
343f 32de84    ld      (84deh),a
3442 e1        pop     hl
3443 f1        pop     af
3444 e5        push    hl
3445 e607      and     07h
3447 21ba1e    ld      hl,1ebah
344a 4f        ld      c,a
344b 0600      ld      b,00h
344d 09        add     hl,bc
344e cdd831    call    31d8h
3451 e1        pop     hl
3452 c9        ret     
3453 1a        ld      a,(de)
3454 77        ld      (hl),a
3455 23        inc     hl
3456 13        inc     de
3457 0b        dec     bc
3458 78        ld      a,b
3459 b1        or      c
345a 20f7      jr      nz,3453h
345c c9        ret     
345d e5        push    hl
345e 2a3f80    ld      hl,(803fh)
3461 23        inc     hl
3462 7c        ld      a,h
3463 b5        or      l
3464 e1        pop     hl
3465 c0        ret     nz
3466 1e0c      ld      e,0ch
3468 c34222    jp      2242h
346b cda85f    call    5fa8h
346e df        rst     18h
346f 3e80      ld      a,80h
3471 32cc83    ld      (83cch),a
3474 b6        or      (hl)
3475 4f        ld      c,a
3476 c3bc59    jp      59bch
3479 fe7e      cp      7eh
347b c22822    jp      nz,2228h
347e 23        inc     hl
347f 7e        ld      a,(hl)
3480 23        inc     hl
3481 fe83      cp      83h
3483 caf265    jp      z,65f2h
3486 c32822    jp      2228h
3489 cd0d35    call    350dh
348c 327985    ld      (8579h),a
348f cd7885    call    8578h
3492 c37632    jp      3276h
3495 cdf834    call    34f8h
3498 cd7b85    call    857bh
349b c9        ret     
349c cdf834    call    34f8h
349f f5        push    af
34a0 1e00      ld      e,00h
34a2 2b        dec     hl
34a3 cd1a28    call    281ah
34a6 2807      jr      z,34afh
34a8 cda85f    call    5fa8h
34ab 2c        inc     l
34ac cd0a35    call    350ah
34af f1        pop     af
34b0 57        ld      d,a
34b1 cd7885    call    8578h
34b4 ab        xor     e
34b5 a2        and     d
34b6 28f9      jr      z,34b1h
34b8 c9        ret     
34b9 c32822    jp      2228h
34bc fe9e      cp      9eh
34be 2011      jr      nz,34d1h
34c0 cd1a28    call    281ah
34c3 cd0a35    call    350ah
34c6 323680    ld      (8036h),a
34c9 5f        ld      e,a
34ca cddf34    call    34dfh
34cd 323580    ld      (8035h),a
34d0 c9        ret     
34d1 cd0a35    call    350ah
34d4 323780    ld      (8037h),a
34d7 5f        ld      e,a
34d8 cddf34    call    34dfh
34db 323880    ld      (8038h),a
34de c9        ret     
34df d60e      sub     0eh
34e1 30fc      jr      nc,34dfh
34e3 c61c      add     a,1ch
34e5 2f        cpl     
34e6 3c        inc     a
34e7 83        add     a,e
34e8 c9        ret     
34e9 cd1a28    call    281ah
34ec cdd32e    call    2ed3h
34ef e5        push    hl
34f0 cd613d    call    3d61h
34f3 eb        ex      de,hl
34f4 e1        pop     hl
34f5 7a        ld      a,d
34f6 b7        or      a
34f7 c9        ret     
34f8 cd0a35    call    350ah
34fb 327985    ld      (8579h),a
34fe 327c85    ld      (857ch),a
3501 cda85f    call    5fa8h
3504 2c        inc     l
3505 1803      jr      350ah
3507 cd1a28    call    281ah
350a cdd32e    call    2ed3h
350d cdef34    call    34efh
3510 c21c29    jp      nz,291ch
3513 2b        dec     hl
3514 cd1a28    call    281ah
3517 7b        ld      a,e
3518 c9        ret     
3519 3e01      ld      a,01h
351b 323480    ld      (8034h),a
351e c1        pop     bc
351f cd1a24    call    241ah
3522 c5        push    bc
3523 cdc857    call    57c8h
3526 21ffff    ld      hl,0ffffh
3529 223f80    ld      (803fh),hl
352c e1        pop     hl
352d d1        pop     de
352e 4e        ld      c,(hl)
352f 23        inc     hl
3530 46        ld      b,(hl)
3531 23        inc     hl
3532 78        ld      a,b
3533 b1        or      c
3534 cadc22    jp      z,22dch
3537 cd0d62    call    620dh
353a cc4959    call    z,5949h
353d c5        push    bc
353e 4e        ld      c,(hl)
353f 23        inc     hl
3540 46        ld      b,(hl)
3541 23        inc     hl
3542 c5        push    bc
3543 e3        ex      (sp),hl
3544 eb        ex      de,hl
3545 cda25f    call    5fa2h
3548 c1        pop     bc
3549 dadb22    jp      c,22dbh
354c e3        ex      (sp),hl
354d e5        push    hl
354e c5        push    bc
354f eb        ex      de,hl
3550 22dc83    ld      (83dch),hl
3553 cda744    call    44a7h
3556 e1        pop     hl
3557 7e        ld      a,(hl)
3558 fe09      cp      09h
355a 2805      jr      z,3561h
355c 3e20      ld      a,20h
355e cdd957    call    57d9h
3561 cd8635    call    3586h
3564 218982    ld      hl,8289h
3567 cd6f35    call    356fh
356a cd1c59    call    591ch
356d 18b7      jr      3526h
356f 7e        ld      a,(hl)
3570 b7        or      a
3571 c8        ret     z
3572 cd9859    call    5998h
3575 23        inc     hl
3576 18f7      jr      356fh
3578 7e        ld      a,(hl)
3579 b7        or      a
357a 02        ld      (bc),a
357b c8        ret     z
357c fe22      cp      22h
357e 2814      jr      z,3594h
3580 03        inc     bc
3581 23        inc     hl
3582 15        dec     d
3583 c8        ret     z
3584 18f2      jr      3578h
3586 018982    ld      bc,8289h
3589 16ff      ld      d,0ffh
358b af        xor     a
358c 320d85    ld      (850dh),a
358f cdc857    call    57c8h
3592 1804      jr      3598h
3594 03        inc     bc
3595 23        inc     hl
3596 15        dec     d
3597 c8        ret     z
3598 7e        ld      a,(hl)
3599 b7        or      a
359a 02        ld      (bc),a
359b c8        ret     z
359c fe22      cp      22h
359e 28e0      jr      z,3580h
35a0 fe0b      cp      0bh
35a2 3805      jr      c,35a9h
35a4 fe20      cp      20h
35a6 5f        ld      e,a
35a7 3811      jr      c,35bah
35a9 b7        or      a
35aa fadc35    jp      m,35dch
35ad 5f        ld      e,a
35ae fe2e      cp      2eh
35b0 2808      jr      z,35bah
35b2 cd6f36    call    366fh
35b5 3003      jr      nc,35bah
35b7 af        xor     a
35b8 1811      jr      35cbh
35ba 3a0d85    ld      a,(850dh)
35bd b7        or      a
35be 2809      jr      z,35c9h
35c0 3c        inc     a
35c1 2006      jr      nz,35c9h
35c3 3e20      ld      a,20h
35c5 02        ld      (bc),a
35c6 03        inc     bc
35c7 15        dec     d
35c8 c8        ret     z
35c9 3e01      ld      a,01h
35cb 320d85    ld      (850dh),a
35ce 7b        ld      a,e
35cf fe0b      cp      0bh
35d1 3805      jr      c,35d8h
35d3 fe20      cp      20h
35d5 da7a36    jp      c,367ah
35d8 02        ld      (bc),a
35d9 c39435    jp      3594h
35dc 3c        inc     a
35dd 7e        ld      a,(hl)
35de 2004      jr      nz,35e4h
35e0 23        inc     hl
35e1 7e        ld      a,(hl)
35e2 e67f      and     7fh
35e4 23        inc     hl
35e5 fee7      cp      0e7h
35e7 2008      jr      nz,35f1h
35e9 0b        dec     bc
35ea 0b        dec     bc
35eb 0b        dec     bc
35ec 0b        dec     bc
35ed 14        inc     d
35ee 14        inc     d
35ef 14        inc     d
35f0 14        inc     d
35f1 fea2      cp      0a2h
35f3 cc4d3e    call    z,3e4dh
35f6 feb4      cp      0b4h
35f8 2009      jr      nz,3603h
35fa 7e        ld      a,(hl)
35fb 23        inc     hl
35fc fef2      cp      0f2h
35fe 3eb4      ld      a,0b4h
3600 2801      jr      z,3603h
3602 2b        dec     hl
3603 e5        push    hl
3604 c5        push    bc
3605 d5        push    de
3606 211c1c    ld      hl,1c1ch
3609 47        ld      b,a
360a 0e40      ld      c,40h
360c 0c        inc     c
360d 23        inc     hl
360e 54        ld      d,h
360f 5d        ld      e,l
3610 7e        ld      a,(hl)
3611 b7        or      a
3612 28f8      jr      z,360ch
3614 23        inc     hl
3615 f21036    jp      p,3610h
3618 7e        ld      a,(hl)
3619 b8        cp      b
361a 20f1      jr      nz,360dh
361c eb        ex      de,hl
361d fede      cp      0deh
361f 2802      jr      z,3623h
3621 fedf      cp      0dfh
3623 79        ld      a,c
3624 d1        pop     de
3625 c1        pop     bc
3626 5f        ld      e,a
3627 200b      jr      nz,3634h
3629 3a0d85    ld      a,(850dh)
362c b7        or      a
362d 3e00      ld      a,00h
362f 320d85    ld      (850dh),a
3632 1813      jr      3647h
3634 fe5b      cp      5bh
3636 2006      jr      nz,363eh
3638 af        xor     a
3639 320d85    ld      (850dh),a
363c 1816      jr      3654h
363e 3a0d85    ld      a,(850dh)
3641 b7        or      a
3642 3eff      ld      a,0ffh
3644 320d85    ld      (850dh),a
3647 2808      jr      z,3651h
3649 3e20      ld      a,20h
364b 02        ld      (bc),a
364c 03        inc     bc
364d 15        dec     d
364e ca0663    jp      z,6306h
3651 7b        ld      a,e
3652 1803      jr      3657h
3654 7e        ld      a,(hl)
3655 23        inc     hl
3656 5f        ld      e,a
3657 e67f      and     7fh
3659 02        ld      (bc),a
365a 03        inc     bc
365b 15        dec     d
365c ca0663    jp      z,6306h
365f b3        or      e
3660 f25436    jp      p,3654h
3663 fea8      cp      0a8h
3665 2004      jr      nz,366bh
3667 af        xor     a
3668 320d85    ld      (850dh),a
366b e1        pop     hl
366c c39835    jp      3598h
366f cdce60    call    60ceh
3672 d0        ret     nc
3673 fe30      cp      30h
3675 d8        ret     c
3676 fe3a      cp      3ah
3678 3f        ccf     
3679 c9        ret     
367a 2b        dec     hl
367b cd1a28    call    281ah
367e d5        push    de
367f c5        push    bc
3680 f5        push    af
3681 cd9928    call    2899h
3684 f1        pop     af
3685 019936    ld      bc,3699h
3688 c5        push    bc
3689 fe0b      cp      0bh
368b cab549    jp      z,49b5h
368e fe0c      cp      0ch
3690 cab849    jp      z,49b8h
3693 2a9583    ld      hl,(8395h)
3696 c3b544    jp      44b5h
3699 c1        pop     bc
369a d1        pop     de
369b 3a9383    ld      a,(8393h)
369e 1e4f      ld      e,4fh
36a0 fe0b      cp      0bh
36a2 2806      jr      z,36aah
36a4 fe0c      cp      0ch
36a6 1e48      ld      e,48h
36a8 200b      jr      nz,36b5h
36aa 3e26      ld      a,26h
36ac 02        ld      (bc),a
36ad 03        inc     bc
36ae 15        dec     d
36af c8        ret     z
36b0 7b        ld      a,e
36b1 02        ld      (bc),a
36b2 03        inc     bc
36b3 15        dec     d
36b4 c8        ret     z
36b5 3a9483    ld      a,(8394h)
36b8 fe04      cp      04h
36ba 1e00      ld      e,00h
36bc 3806      jr      c,36c4h
36be 1e21      ld      e,21h
36c0 2802      jr      z,36c4h
36c2 1e23      ld      e,23h
36c4 7e        ld      a,(hl)
36c5 fe20      cp      20h
36c7 ccad3c    call    z,3cadh
36ca 7e        ld      a,(hl)
36cb 23        inc     hl
36cc b7        or      a
36cd 2820      jr      z,36efh
36cf 02        ld      (bc),a
36d0 03        inc     bc
36d1 15        dec     d
36d2 c8        ret     z
36d3 3a9483    ld      a,(8394h)
36d6 fe04      cp      04h
36d8 38f0      jr      c,36cah
36da 0b        dec     bc
36db 0a        ld      a,(bc)
36dc 03        inc     bc
36dd 2004      jr      nz,36e3h
36df fe2e      cp      2eh
36e1 2808      jr      z,36ebh
36e3 fe44      cp      44h
36e5 2804      jr      z,36ebh
36e7 fe45      cp      45h
36e9 20df      jr      nz,36cah
36eb 1e00      ld      e,00h
36ed 18db      jr      36cah
36ef 7b        ld      a,e
36f0 b7        or      a
36f1 2804      jr      z,36f7h
36f3 02        ld      (bc),a
36f4 03        inc     bc
36f5 15        dec     d
36f6 c8        ret     z
36f7 2a9183    ld      hl,(8391h)
36fa c39835    jp      3598h
36fd cd1a24    call    241ah
3700 c5        push    bc
3701 cda038    call    38a0h
3704 c1        pop     bc
3705 d1        pop     de
3706 c5        push    bc
3707 c5        push    bc
3708 cd3824    call    2438h
370b 3007      jr      nc,3714h
370d 54        ld      d,h
370e 5d        ld      e,l
370f e3        ex      (sp),hl
3710 e5        push    hl
3711 cda25f    call    5fa2h
3714 d21c29    jp      nc,291ch
3717 21a821    ld      hl,21a8h
371a cdd362    call    62d3h
371d c1        pop     bc
371e 21ce23    ld      hl,23ceh
3721 e3        ex      (sp),hl
3722 eb        ex      de,hl
3723 2ae983    ld      hl,(83e9h)
3726 1a        ld      a,(de)
3727 02        ld      (bc),a
3728 03        inc     bc
3729 13        inc     de
372a cda25f    call    5fa2h
372d 20f7      jr      nz,3726h
372f 60        ld      h,b
3730 69        ld      l,c
3731 22e983    ld      (83e9h),hl
3734 c9        ret     
3735 cd5a37    call    375ah
3738 cdbf57    call    57bfh
373b 7e        ld      a,(hl)
373c c37632    jp      3276h
373f cd5037    call    3750h
3742 d5        push    de
3743 cdbf57    call    57bfh
3746 cda85f    call    5fa8h
3749 2c        inc     l
374a cd0a35    call    350ah
374d d1        pop     de
374e 12        ld      (de),a
374f c9        ret     
3750 cdd32e    call    2ed3h
3753 e5        push    hl
3754 cd5a37    call    375ah
3757 eb        ex      de,hl
3758 e1        pop     hl
3759 c9        ret     
375a 01613d    ld      bc,3d61h
375d c5        push    bc
375e cd0f32    call    320fh
3761 f8        ret     m
3762 3a2e85    ld      a,(852eh)
3765 fe90      cp      90h
3767 c0        ret     nz
3768 cd353c    call    3c35h
376b f8        ret     m
376c cdd73d    call    3dd7h
376f 018091    ld      bc,9180h
3772 110000    ld      de,0000h
3775 c39c39    jp      399ch
3778 010a00    ld      bc,000ah
377b c5        push    bc
377c 50        ld      d,b
377d 58        ld      e,b
377e 282a      jr      z,37aah
3780 fe2c      cp      2ch
3782 2809      jr      z,378dh
3784 d5        push    de
3785 cd2129    call    2921h
3788 42        ld      b,d
3789 4b        ld      c,e
378a d1        pop     de
378b 281d      jr      z,37aah
378d cda85f    call    5fa8h
3790 2c        inc     l
3791 cd2129    call    2921h
3794 2814      jr      z,37aah
3796 f1        pop     af
3797 cda85f    call    5fa8h
379a 2c        inc     l
379b d5        push    de
379c cd2b29    call    292bh
379f c22822    jp      nz,2228h
37a2 7a        ld      a,d
37a3 b3        or      e
37a4 ca1c29    jp      z,291ch
37a7 eb        ex      de,hl
37a8 e3        ex      (sp),hl
37a9 eb        ex      de,hl
37aa c5        push    bc
37ab cd3824    call    2438h
37ae d1        pop     de
37af d5        push    de
37b0 c5        push    bc
37b1 cd3824    call    2438h
37b4 60        ld      h,b
37b5 69        ld      l,c
37b6 d1        pop     de
37b7 cda25f    call    5fa2h
37ba eb        ex      de,hl
37bb da1c29    jp      c,291ch
37be d1        pop     de
37bf c1        pop     bc
37c0 f1        pop     af
37c1 e5        push    hl
37c2 d5        push    de
37c3 1810      jr      37d5h
37c5 09        add     hl,bc
37c6 da1c29    jp      c,291ch
37c9 eb        ex      de,hl
37ca e5        push    hl
37cb 21f9ff    ld      hl,0fff9h
37ce cda25f    call    5fa2h
37d1 e1        pop     hl
37d2 da1c29    jp      c,291ch
37d5 d5        push    de
37d6 5e        ld      e,(hl)
37d7 23        inc     hl
37d8 56        ld      d,(hl)
37d9 7a        ld      a,d
37da b3        or      e
37db eb        ex      de,hl
37dc d1        pop     de
37dd 2807      jr      z,37e6h
37df 7e        ld      a,(hl)
37e0 23        inc     hl
37e1 b6        or      (hl)
37e2 2b        dec     hl
37e3 eb        ex      de,hl
37e4 20df      jr      nz,37c5h
37e6 c5        push    bc
37e7 cd0738    call    3807h
37ea c1        pop     bc
37eb d1        pop     de
37ec e1        pop     hl
37ed d5        push    de
37ee 5e        ld      e,(hl)
37ef 23        inc     hl
37f0 56        ld      d,(hl)
37f1 7a        ld      a,d
37f2 b3        or      e
37f3 280d      jr      z,3802h
37f5 eb        ex      de,hl
37f6 e3        ex      (sp),hl
37f7 eb        ex      de,hl
37f8 23        inc     hl
37f9 73        ld      (hl),e
37fa 23        inc     hl
37fb 72        ld      (hl),d
37fc eb        ex      de,hl
37fd 09        add     hl,bc
37fe eb        ex      de,hl
37ff e1        pop     hl
3800 18eb      jr      37edh
3802 01db22    ld      bc,22dbh
3805 c5        push    bc
3806 fef6      cp      0f6h
3808 af        xor     a
3809 32d083    ld      (83d0h),a
380c 2a4180    ld      hl,(8041h)
380f 2b        dec     hl
3810 23        inc     hl
3811 7e        ld      a,(hl)
3812 23        inc     hl
3813 b6        or      (hl)
3814 c8        ret     z
3815 23        inc     hl
3816 5e        ld      e,(hl)
3817 23        inc     hl
3818 56        ld      d,(hl)
3819 cd1a28    call    281ah
381c b7        or      a
381d 28f1      jr      z,3810h
381f 4f        ld      c,a
3820 3ad083    ld      a,(83d0h)
3823 b7        or      a
3824 79        ld      a,c
3825 2857      jr      z,387eh
3827 fea8      cp      0a8h
3829 2018      jr      nz,3843h
382b cd1a28    call    281ah
382e fe89      cp      89h
3830 20ea      jr      nz,381ch
3832 cd1a28    call    281ah
3835 fe0e      cp      0eh
3837 20e3      jr      nz,381ch
3839 d5        push    de
383a cd3529    call    2935h
383d 7a        ld      a,d
383e b3        or      e
383f 200a      jr      nz,384bh
3841 1827      jr      386ah
3843 fe0e      cp      0eh
3845 20d2      jr      nz,3819h
3847 d5        push    de
3848 cd3529    call    2935h
384b e5        push    hl
384c cd3824    call    2438h
384f 0b        dec     bc
3850 3e0d      ld      a,0dh
3852 383c      jr      c,3890h
3854 cd1059    call    5910h
3857 216e38    ld      hl,386eh
385a d5        push    de
385b cdd362    call    62d3h
385e e1        pop     hl
385f cda744    call    44a7h
3862 c1        pop     bc
3863 e1        pop     hl
3864 e5        push    hl
3865 c5        push    bc
3866 cd9f44    call    449fh
3869 e1        pop     hl
386a d1        pop     de
386b 2b        dec     hl
386c 18ab      jr      3819h
386e 55        ld      d,l
386f 6e        ld      l,(hl)
3870 64        ld      h,h
3871 65        ld      h,l
3872 66        ld      h,(hl)
3873 69        ld      l,c
3874 6e        ld      l,(hl)
3875 65        ld      h,l
3876 64        ld      h,h
3877 206c      jr      nz,38e5h
3879 69        ld      l,c
387a 6e        ld      l,(hl)
387b 65        ld      h,l
387c 2000      jr      nz,387eh
387e fe0d      cp      0dh
3880 20ea      jr      nz,386ch
3882 d5        push    de
3883 cd3529    call    2935h
3886 e5        push    hl
3887 eb        ex      de,hl
3888 23        inc     hl
3889 23        inc     hl
388a 23        inc     hl
388b 4e        ld      c,(hl)
388c 23        inc     hl
388d 46        ld      b,(hl)
388e 3e0e      ld      a,0eh
3890 216938    ld      hl,3869h
3893 e5        push    hl
3894 2a9183    ld      hl,(8391h)
3897 e5        push    hl
3898 2b        dec     hl
3899 70        ld      (hl),b
389a 2b        dec     hl
389b 71        ld      (hl),c
389c 2b        dec     hl
389d 77        ld      (hl),a
389e e1        pop     hl
389f c9        ret     
38a0 3ad083    ld      a,(83d0h)
38a3 b7        or      a
38a4 c8        ret     z
38a5 c30838    jp      3808h
38a8 cda85f    call    5fa8h
38ab 42        ld      b,d
38ac cda85f    call    5fa8h
38af 41        ld      b,c
38b0 cda85f    call    5fa8h
38b3 53        ld      d,e
38b4 cda85f    call    5fa8h
38b7 45        ld      b,l
38b8 3aee84    ld      a,(84eeh)
38bb b7        or      a
38bc c23122    jp      nz,2231h
38bf e5        push    hl
38c0 2aeb83    ld      hl,(83ebh)
38c3 eb        ex      de,hl
38c4 2aed83    ld      hl,(83edh)
38c7 cda25f    call    5fa2h
38ca c23122    jp      nz,2231h
38cd e1        pop     hl
38ce 7e        ld      a,(hl)
38cf d630      sub     30h
38d1 da2822    jp      c,2228h
38d4 fe02      cp      02h
38d6 d22822    jp      nc,2228h
38d9 32ed84    ld      (84edh),a
38dc 3c        inc     a
38dd 32ee84    ld      (84eeh),a
38e0 cd1a28    call    281ah
38e3 c9        ret     
38e4 7e        ld      a,(hl)
38e5 b7        or      a
38e6 c8        ret     z
38e7 cdee38    call    38eeh
38ea 23        inc     hl
38eb c3e438    jp      38e4h
38ee f5        push    af
38ef c35d58    jp      585dh
38f2 e5        push    hl
38f3 ed5f      ld      a,r
38f5 67        ld      h,a
38f6 ed5f      ld      a,r
38f8 6f        ld      l,a
38f9 227f85    ld      (857fh),hl
38fc cd064b    call    4b06h
38ff e1        pop     hl
3900 c9        ret     
3901 0e1d      ld      c,1dh
3903 1802      jr      3907h
3905 0e1a      ld      c,1ah
3907 0600      ld      b,00h
3909 eb        ex      de,hl
390a 2a3f80    ld      hl,(803fh)
390d 22eb84    ld      (84ebh),hl
3910 eb        ex      de,hl
3911 04        inc     b
3912 2b        dec     hl
3913 cd1a28    call    281ah
3916 2808      jr      z,3920h
3918 fea2      cp      0a2h
391a 2817      jr      z,3933h
391c fedb      cp      0dbh
391e 20f3      jr      nz,3913h
3920 b7        or      a
3921 2010      jr      nz,3933h
3923 23        inc     hl
3924 7e        ld      a,(hl)
3925 23        inc     hl
3926 b6        or      (hl)
3927 59        ld      e,c
3928 ca4222    jp      z,2242h
392b 23        inc     hl
392c 5e        ld      e,(hl)
392d 23        inc     hl
392e 56        ld      d,(hl)
392f ed53eb84  ld      (84ebh),de
3933 cd1a28    call    281ah
3936 79        ld      a,c
3937 fe1a      cp      1ah
3939 7e        ld      a,(hl)
393a 280b      jr      z,3947h
393c feb4      cp      0b4h
393e 28d1      jr      z,3911h
3940 feb5      cp      0b5h
3942 20ce      jr      nz,3912h
3944 10cc      djnz    3912h
3946 c9        ret     
3947 fe82      cp      82h
3949 28c6      jr      z,3911h
394b fe83      cp      83h
394d 20c3      jr      nz,3912h
394f 05        dec     b
3950 c8        ret     z
3951 cd1a28    call    281ah
3954 28ca      jr      z,3920h
3956 eb        ex      de,hl
3957 2a3f80    ld      hl,(803fh)
395a e5        push    hl
395b 2aeb84    ld      hl,(84ebh)
395e 223f80    ld      (803fh),hl
3961 eb        ex      de,hl
3962 c5        push    bc
3963 cdb759    call    59b7h
3966 c1        pop     bc
3967 2b        dec     hl
3968 cd1a28    call    281ah
396b 112039    ld      de,3920h
396e 2808      jr      z,3978h
3970 cda85f    call    5fa8h
3973 2c        inc     l
3974 2b        dec     hl
3975 114f39    ld      de,394fh
3978 e3        ex      (sp),hl
3979 223f80    ld      (803fh),hl
397c e1        pop     hl
397d d5        push    de
397e c9        ret     
397f f5        push    af
3980 3a3085    ld      a,(8530h)
3983 323185    ld      (8531h),a
3986 f1        pop     af
3987 f5        push    af
3988 af        xor     a
3989 323085    ld      (8530h),a
398c f1        pop     af
398d c9        ret     
398e 215349    ld      hl,4953h
3991 cda63c    call    3ca6h
3994 1806      jr      399ch
3996 cda63c    call    3ca6h
3999 cd643c    call    3c64h
399c 78        ld      a,b
399d b7        or      a
399e c8        ret     z
399f 3a2e85    ld      a,(852eh)
39a2 b7        or      a
39a3 ca983c    jp      z,3c98h
39a6 90        sub     b
39a7 300c      jr      nc,39b5h
39a9 2f        cpl     
39aa 3c        inc     a
39ab eb        ex      de,hl
39ac cd883c    call    3c88h
39af eb        ex      de,hl
39b0 cd983c    call    3c98h
39b3 c1        pop     bc
39b4 d1        pop     de
39b5 fe19      cp      19h
39b7 d0        ret     nc
39b8 f5        push    af
39b9 cdc23c    call    3cc2h
39bc 67        ld      h,a
39bd f1        pop     af
39be cd6b3a    call    3a6bh
39c1 7c        ld      a,h
39c2 b7        or      a
39c3 212b85    ld      hl,852bh
39c6 f2da39    jp      p,39dah
39c9 cd4b3a    call    3a4bh
39cc 305e      jr      nc,3a2ch
39ce 23        inc     hl
39cf 34        inc     (hl)
39d0 ca1a44    jp      z,441ah
39d3 2e01      ld      l,01h
39d5 cd8d3a    call    3a8dh
39d8 1852      jr      3a2ch
39da af        xor     a
39db 90        sub     b
39dc 47        ld      b,a
39dd 7e        ld      a,(hl)
39de 9b        sbc     a,e
39df 5f        ld      e,a
39e0 23        inc     hl
39e1 7e        ld      a,(hl)
39e2 9a        sbc     a,d
39e3 57        ld      d,a
39e4 23        inc     hl
39e5 7e        ld      a,(hl)
39e6 99        sbc     a,c
39e7 4f        ld      c,a
39e8 dc573a    call    c,3a57h
39eb 68        ld      l,b
39ec 63        ld      h,e
39ed af        xor     a
39ee 47        ld      b,a
39ef 79        ld      a,c
39f0 b7        or      a
39f1 2027      jr      nz,3a1ah
39f3 4a        ld      c,d
39f4 54        ld      d,h
39f5 65        ld      h,l
39f6 6f        ld      l,a
39f7 78        ld      a,b
39f8 d608      sub     08h
39fa fee0      cp      0e0h
39fc 20f0      jr      nz,39eeh
39fe af        xor     a
39ff 322e85    ld      (852eh),a
3a02 c9        ret     
3a03 7c        ld      a,h
3a04 b5        or      l
3a05 b2        or      d
3a06 200a      jr      nz,3a12h
3a08 79        ld      a,c
3a09 05        dec     b
3a0a 17        rla     
3a0b 30fc      jr      nc,3a09h
3a0d 04        inc     b
3a0e 1f        rra     
3a0f 4f        ld      c,a
3a10 180b      jr      3a1dh
3a12 05        dec     b
3a13 29        add     hl,hl
3a14 7a        ld      a,d
3a15 17        rla     
3a16 57        ld      d,a
3a17 79        ld      a,c
3a18 8f        adc     a,a
3a19 4f        ld      c,a
3a1a f2033a    jp      p,3a03h
3a1d 78        ld      a,b
3a1e 5c        ld      e,h
3a1f 45        ld      b,l
3a20 b7        or      a
3a21 2809      jr      z,3a2ch
3a23 212e85    ld      hl,852eh
3a26 86        add     a,(hl)
3a27 77        ld      (hl),a
3a28 30d4      jr      nc,39feh
3a2a 28d2      jr      z,39feh
3a2c 78        ld      a,b
3a2d 212e85    ld      hl,852eh
3a30 b7        or      a
3a31 fc3e3a    call    m,3a3eh
3a34 46        ld      b,(hl)
3a35 23        inc     hl
3a36 7e        ld      a,(hl)
3a37 e680      and     80h
3a39 a9        xor     c
3a3a 4f        ld      c,a
3a3b c3983c    jp      3c98h
3a3e 1c        inc     e
3a3f c0        ret     nz
3a40 14        inc     d
3a41 c0        ret     nz
3a42 0c        inc     c
3a43 c0        ret     nz
3a44 0e80      ld      c,80h
3a46 34        inc     (hl)
3a47 c0        ret     nz
3a48 c31944    jp      4419h
3a4b 7e        ld      a,(hl)
3a4c 83        add     a,e
3a4d 5f        ld      e,a
3a4e 23        inc     hl
3a4f 7e        ld      a,(hl)
3a50 8a        adc     a,d
3a51 57        ld      d,a
3a52 23        inc     hl
3a53 7e        ld      a,(hl)
3a54 89        adc     a,c
3a55 4f        ld      c,a
3a56 c9        ret     
3a57 212f85    ld      hl,852fh
3a5a 7e        ld      a,(hl)
3a5b 2f        cpl     
3a5c 77        ld      (hl),a
3a5d af        xor     a
3a5e 6f        ld      l,a
3a5f 90        sub     b
3a60 47        ld      b,a
3a61 7d        ld      a,l
3a62 9b        sbc     a,e
3a63 5f        ld      e,a
3a64 7d        ld      a,l
3a65 9a        sbc     a,d
3a66 57        ld      d,a
3a67 7d        ld      a,l
3a68 99        sbc     a,c
3a69 4f        ld      c,a
3a6a c9        ret     
3a6b 0600      ld      b,00h
3a6d d608      sub     08h
3a6f 3807      jr      c,3a78h
3a71 43        ld      b,e
3a72 5a        ld      e,d
3a73 51        ld      d,c
3a74 0e00      ld      c,00h
3a76 18f5      jr      3a6dh
3a78 c609      add     a,09h
3a7a 6f        ld      l,a
3a7b 7a        ld      a,d
3a7c b3        or      e
3a7d b0        or      b
3a7e 2009      jr      nz,3a89h
3a80 79        ld      a,c
3a81 2d        dec     l
3a82 c8        ret     z
3a83 1f        rra     
3a84 4f        ld      c,a
3a85 30fa      jr      nc,3a81h
3a87 1806      jr      3a8fh
3a89 af        xor     a
3a8a 2d        dec     l
3a8b c8        ret     z
3a8c 79        ld      a,c
3a8d 1f        rra     
3a8e 4f        ld      c,a
3a8f 7a        ld      a,d
3a90 1f        rra     
3a91 57        ld      d,a
3a92 7b        ld      a,e
3a93 1f        rra     
3a94 5f        ld      e,a
3a95 78        ld      a,b
3a96 1f        rra     
3a97 47        ld      b,a
3a98 18ef      jr      3a89h
3a9a 00        nop     
3a9b 00        nop     
3a9c 00        nop     
3a9d 81        add     a,c
3a9e 04        inc     b
3a9f 9a        sbc     a,d
3aa0 f7        rst     30h
3aa1 19        add     hl,de
3aa2 83        add     a,e
3aa3 24        inc     h
3aa4 63        ld      h,e
3aa5 43        ld      b,e
3aa6 83        add     a,e
3aa7 75        ld      (hl),l
3aa8 cd8d84    call    848dh
3aab a9        xor     c
3aac 7f        ld      a,a
3aad 83        add     a,e
3aae 82        add     a,d
3aaf 04        inc     b
3ab0 00        nop     
3ab1 00        nop     
3ab2 00        nop     
3ab3 81        add     a,c
3ab4 e2b04d    jp      po,4db0h
3ab7 83        add     a,e
3ab8 0a        ld      a,(bc)
3ab9 72        ld      (hl),d
3aba 1183f4    ld      de,0f483h
3abd 04        inc     b
3abe 35        dec     (hl)
3abf 7f        ld      a,a
3ac0 cd353c    call    3c35h
3ac3 b7        or      a
3ac4 ea1c29    jp      pe,291ch
3ac7 cdd23a    call    3ad2h
3aca 013180    ld      bc,8031h
3acd 111872    ld      de,7218h
3ad0 1833      jr      3b05h
3ad2 cda33c    call    3ca3h
3ad5 3e80      ld      a,80h
3ad7 322e85    ld      (852eh),a
3ada a8        xor     b
3adb f5        push    af
3adc cd883c    call    3c88h
3adf 219e3a    ld      hl,3a9eh
3ae2 cddf4a    call    4adfh
3ae5 c1        pop     bc
3ae6 e1        pop     hl
3ae7 cd883c    call    3c88h
3aea eb        ex      de,hl
3aeb cd983c    call    3c98h
3aee 21af3a    ld      hl,3aafh
3af1 cddf4a    call    4adfh
3af4 c1        pop     bc
3af5 d1        pop     de
3af6 cd683b    call    3b68h
3af9 f1        pop     af
3afa cd883c    call    3c88h
3afd cd443c    call    3c44h
3b00 c1        pop     bc
3b01 d1        pop     de
3b02 c39c39    jp      399ch
3b05 cd353c    call    3c35h
3b08 c8        ret     z
3b09 2e00      ld      l,00h
3b0b cdf43b    call    3bf4h
3b0e 79        ld      a,c
3b0f 326785    ld      (8567h),a
3b12 eb        ex      de,hl
3b13 226885    ld      (8568h),hl
3b16 010000    ld      bc,0000h
3b19 50        ld      d,b
3b1a 58        ld      e,b
3b1b 21eb39    ld      hl,39ebh
3b1e e5        push    hl
3b1f 21273b    ld      hl,3b27h
3b22 e5        push    hl
3b23 e5        push    hl
3b24 212b85    ld      hl,852bh
3b27 7e        ld      a,(hl)
3b28 23        inc     hl
3b29 b7        or      a
3b2a 282c      jr      z,3b58h
3b2c e5        push    hl
3b2d 2e08      ld      l,08h
3b2f 1f        rra     
3b30 67        ld      h,a
3b31 79        ld      a,c
3b32 300b      jr      nc,3b3fh
3b34 e5        push    hl
3b35 2a6885    ld      hl,(8568h)
3b38 19        add     hl,de
3b39 eb        ex      de,hl
3b3a e1        pop     hl
3b3b 3a6785    ld      a,(8567h)
3b3e 89        adc     a,c
3b3f 1f        rra     
3b40 4f        ld      c,a
3b41 7a        ld      a,d
3b42 1f        rra     
3b43 57        ld      d,a
3b44 7b        ld      a,e
3b45 1f        rra     
3b46 5f        ld      e,a
3b47 78        ld      a,b
3b48 1f        rra     
3b49 47        ld      b,a
3b4a e610      and     10h
3b4c 2804      jr      z,3b52h
3b4e 78        ld      a,b
3b4f f620      or      20h
3b51 47        ld      b,a
3b52 2d        dec     l
3b53 7c        ld      a,h
3b54 20d9      jr      nz,3b2fh
3b56 e1        pop     hl
3b57 c9        ret     
3b58 43        ld      b,e
3b59 5a        ld      e,d
3b5a 51        ld      d,c
3b5b 4f        ld      c,a
3b5c c9        ret     
3b5d cd883c    call    3c88h
3b60 216441    ld      hl,4164h
3b63 cd953c    call    3c95h
3b66 c1        pop     bc
3b67 d1        pop     de
3b68 cd353c    call    3c35h
3b6b ca2144    jp      z,4421h
3b6e 2eff      ld      l,0ffh
3b70 cdf43b    call    3bf4h
3b73 34        inc     (hl)
3b74 cafc43    jp      z,43fch
3b77 34        inc     (hl)
3b78 cafc43    jp      z,43fch
3b7b 2b        dec     hl
3b7c 7e        ld      a,(hl)
3b7d 327385    ld      (8573h),a
3b80 2b        dec     hl
3b81 7e        ld      a,(hl)
3b82 326f85    ld      (856fh),a
3b85 2b        dec     hl
3b86 7e        ld      a,(hl)
3b87 326b85    ld      (856bh),a
3b8a 41        ld      b,c
3b8b eb        ex      de,hl
3b8c af        xor     a
3b8d 4f        ld      c,a
3b8e 57        ld      d,a
3b8f 5f        ld      e,a
3b90 327685    ld      (8576h),a
3b93 e5        push    hl
3b94 c5        push    bc
3b95 7d        ld      a,l
3b96 cd6a85    call    856ah
3b99 de00      sbc     a,00h
3b9b 3f        ccf     
3b9c 3007      jr      nc,3ba5h
3b9e 327685    ld      (8576h),a
3ba1 f1        pop     af
3ba2 f1        pop     af
3ba3 37        scf     
3ba4 d2c1e1    jp      nc,0e1c1h
3ba7 79        ld      a,c
3ba8 3c        inc     a
3ba9 3d        dec     a
3baa 1f        rra     
3bab f2c23b    jp      p,3bc2h
3bae 17        rla     
3baf 3a7685    ld      a,(8576h)
3bb2 1f        rra     
3bb3 e6c0      and     0c0h
3bb5 f5        push    af
3bb6 78        ld      a,b
3bb7 b4        or      h
3bb8 b5        or      l
3bb9 2802      jr      z,3bbdh
3bbb 3e20      ld      a,20h
3bbd e1        pop     hl
3bbe b4        or      h
3bbf c32d3a    jp      3a2dh
3bc2 17        rla     
3bc3 7b        ld      a,e
3bc4 17        rla     
3bc5 5f        ld      e,a
3bc6 7a        ld      a,d
3bc7 17        rla     
3bc8 57        ld      d,a
3bc9 79        ld      a,c
3bca 17        rla     
3bcb 4f        ld      c,a
3bcc 29        add     hl,hl
3bcd 78        ld      a,b
3bce 17        rla     
3bcf 47        ld      b,a
3bd0 3a7685    ld      a,(8576h)
3bd3 17        rla     
3bd4 327685    ld      (8576h),a
3bd7 79        ld      a,c
3bd8 b2        or      d
3bd9 b3        or      e
3bda 20b7      jr      nz,3b93h
3bdc e5        push    hl
3bdd 212e85    ld      hl,852eh
3be0 35        dec     (hl)
3be1 e1        pop     hl
3be2 20af      jr      nz,3b93h
3be4 c3fe39    jp      39feh
3be7 3eff      ld      a,0ffh
3be9 2eaf      ld      l,0afh
3beb 213a85    ld      hl,853ah
3bee 4e        ld      c,(hl)
3bef 23        inc     hl
3bf0 ae        xor     (hl)
3bf1 47        ld      b,a
3bf2 2e00      ld      l,00h
3bf4 78        ld      a,b
3bf5 b7        or      a
3bf6 281f      jr      z,3c17h
3bf8 7d        ld      a,l
3bf9 212e85    ld      hl,852eh
3bfc ae        xor     (hl)
3bfd 80        add     a,b
3bfe 47        ld      b,a
3bff 1f        rra     
3c00 a8        xor     b
3c01 78        ld      a,b
3c02 f2163c    jp      p,3c16h
3c05 c680      add     a,80h
3c07 77        ld      (hl),a
3c08 ca563b    jp      z,3b56h
3c0b cdc23c    call    3cc2h
3c0e 77        ld      (hl),a
3c0f 2b        dec     hl
3c10 c9        ret     
3c11 cd353c    call    3c35h
3c14 2f        cpl     
3c15 e1        pop     hl
3c16 b7        or      a
3c17 e1        pop     hl
3c18 f2fe39    jp      p,39feh
3c1b c3fc43    jp      43fch
3c1e cda33c    call    3ca3h
3c21 78        ld      a,b
3c22 b7        or      a
3c23 c8        ret     z
3c24 c602      add     a,02h
3c26 da1344    jp      c,4413h
3c29 47        ld      b,a
3c2a cd9c39    call    399ch
3c2d 212e85    ld      hl,852eh
3c30 34        inc     (hl)
3c31 c0        ret     nz
3c32 c31344    jp      4413h
3c35 3a2e85    ld      a,(852eh)
3c38 b7        or      a
3c39 c8        ret     z
3c3a 3a2d85    ld      a,(852dh)
3c3d fe2f      cp      2fh
3c3f 17        rla     
3c40 9f        sbc     a,a
3c41 c0        ret     nz
3c42 3c        inc     a
3c43 c9        ret     
3c44 0688      ld      b,88h
3c46 110000    ld      de,0000h
3c49 212e85    ld      hl,852eh
3c4c 4f        ld      c,a
3c4d 70        ld      (hl),b
3c4e 0600      ld      b,00h
3c50 23        inc     hl
3c51 3680      ld      (hl),80h
3c53 17        rla     
3c54 c3e839    jp      39e8h
3c57 cd763c    call    3c76h
3c5a f0        ret     p
3c5b cd0f32    call    320fh
3c5e fac63f    jp      m,3fc6h
3c61 ca4022    jp      z,2240h
3c64 212d85    ld      hl,852dh
3c67 7e        ld      a,(hl)
3c68 ee80      xor     80h
3c6a 77        ld      (hl),a
3c6b c9        ret     
3c6c cd763c    call    3c76h
3c6f 6f        ld      l,a
3c70 17        rla     
3c71 9f        sbc     a,a
3c72 67        ld      h,a
3c73 c3c03d    jp      3dc0h
3c76 cd0f32    call    320fh
3c79 ca4022    jp      z,2240h
3c7c f2353c    jp      p,3c35h
3c7f 2a2b85    ld      hl,(852bh)
3c82 7c        ld      a,h
3c83 b5        or      l
3c84 c8        ret     z
3c85 7c        ld      a,h
3c86 18b7      jr      3c3fh
3c88 eb        ex      de,hl
3c89 2a2b85    ld      hl,(852bh)
3c8c e3        ex      (sp),hl
3c8d e5        push    hl
3c8e 2a2d85    ld      hl,(852dh)
3c91 e3        ex      (sp),hl
3c92 e5        push    hl
3c93 eb        ex      de,hl
3c94 c9        ret     
3c95 cda63c    call    3ca6h
3c98 eb        ex      de,hl
3c99 222b85    ld      (852bh),hl
3c9c 60        ld      h,b
3c9d 69        ld      l,c
3c9e 222d85    ld      (852dh),hl
3ca1 eb        ex      de,hl
3ca2 c9        ret     
3ca3 212b85    ld      hl,852bh
3ca6 5e        ld      e,(hl)
3ca7 23        inc     hl
3ca8 56        ld      d,(hl)
3ca9 23        inc     hl
3caa 4e        ld      c,(hl)
3cab 23        inc     hl
3cac 46        ld      b,(hl)
3cad 23        inc     hl
3cae c9        ret     
3caf 112b85    ld      de,852bh
3cb2 0604      ld      b,04h
3cb4 1805      jr      3cbbh
3cb6 eb        ex      de,hl
3cb7 3a8e83    ld      a,(838eh)
3cba 47        ld      b,a
3cbb 1a        ld      a,(de)
3cbc 77        ld      (hl),a
3cbd 13        inc     de
3cbe 23        inc     hl
3cbf 10fa      djnz    3cbbh
3cc1 c9        ret     
3cc2 212d85    ld      hl,852dh
3cc5 7e        ld      a,(hl)
3cc6 07        rlca    
3cc7 37        scf     
3cc8 1f        rra     
3cc9 77        ld      (hl),a
3cca 3f        ccf     
3ccb 1f        rra     
3ccc 23        inc     hl
3ccd 23        inc     hl
3cce 77        ld      (hl),a
3ccf 79        ld      a,c
3cd0 07        rlca    
3cd1 37        scf     
3cd2 1f        rra     
3cd3 4f        ld      c,a
3cd4 1f        rra     
3cd5 ae        xor     (hl)
3cd6 c9        ret     
3cd7 213485    ld      hl,8534h
3cda 11b63c    ld      de,3cb6h
3cdd 1806      jr      3ce5h
3cdf 213485    ld      hl,8534h
3ce2 11b73c    ld      de,3cb7h
3ce5 d5        push    de
3ce6 112b85    ld      de,852bh
3ce9 cd0f32    call    320fh
3cec d8        ret     c
3ced 112785    ld      de,8527h
3cf0 c9        ret     
3cf1 78        ld      a,b
3cf2 b7        or      a
3cf3 ca353c    jp      z,3c35h
3cf6 213e3c    ld      hl,3c3eh
3cf9 e5        push    hl
3cfa cd353c    call    3c35h
3cfd 79        ld      a,c
3cfe c8        ret     z
3cff 212d85    ld      hl,852dh
3d02 ae        xor     (hl)
3d03 79        ld      a,c
3d04 f8        ret     m
3d05 cd0b3d    call    3d0bh
3d08 1f        rra     
3d09 a9        xor     c
3d0a c9        ret     
3d0b 23        inc     hl
3d0c 78        ld      a,b
3d0d be        cp      (hl)
3d0e c0        ret     nz
3d0f 2b        dec     hl
3d10 79        ld      a,c
3d11 be        cp      (hl)
3d12 c0        ret     nz
3d13 2b        dec     hl
3d14 7a        ld      a,d
3d15 be        cp      (hl)
3d16 c0        ret     nz
3d17 2b        dec     hl
3d18 7b        ld      a,e
3d19 96        sub     (hl)
3d1a c0        ret     nz
3d1b e1        pop     hl
3d1c e1        pop     hl
3d1d c9        ret     
3d1e 7a        ld      a,d
3d1f ac        xor     h
3d20 7c        ld      a,h
3d21 fa3f3c    jp      m,3c3fh
3d24 ba        cp      d
3d25 2003      jr      nz,3d2ah
3d27 7d        ld      a,l
3d28 93        sub     e
3d29 c8        ret     z
3d2a c3403c    jp      3c40h
3d2d 213485    ld      hl,8534h
3d30 cdb73c    call    3cb7h
3d33 113b85    ld      de,853bh
3d36 1a        ld      a,(de)
3d37 b7        or      a
3d38 ca353c    jp      z,3c35h
3d3b 213e3c    ld      hl,3c3eh
3d3e e5        push    hl
3d3f cd353c    call    3c35h
3d42 1b        dec     de
3d43 1a        ld      a,(de)
3d44 4f        ld      c,a
3d45 c8        ret     z
3d46 212d85    ld      hl,852dh
3d49 ae        xor     (hl)
3d4a 79        ld      a,c
3d4b f8        ret     m
3d4c 13        inc     de
3d4d 23        inc     hl
3d4e 0608      ld      b,08h
3d50 1a        ld      a,(de)
3d51 96        sub     (hl)
3d52 20b4      jr      nz,3d08h
3d54 1b        dec     de
3d55 2b        dec     hl
3d56 10f8      djnz    3d50h
3d58 c1        pop     bc
3d59 c9        ret     
3d5a cd333d    call    3d33h
3d5d c23e3c    jp      nz,3c3eh
3d60 c9        ret     
3d61 cd0f32    call    320fh
3d64 2a2b85    ld      hl,(852bh)
3d67 f8        ret     m
3d68 ca4022    jp      z,2240h
3d6b e27f3d    jp      po,3d7fh
3d6e cddf3c    call    3cdfh
3d71 214f49    ld      hl,494fh
3d74 cdda3c    call    3cdah
3d77 cdf33f    call    3ff3h
3d7a cde13d    call    3de1h
3d7d 1803      jr      3d82h
3d7f cd8e39    call    398eh
3d82 3a2d85    ld      a,(852dh)
3d85 b7        or      a
3d86 f5        push    af
3d87 e67f      and     7fh
3d89 322d85    ld      (852dh),a
3d8c 3a2e85    ld      a,(852eh)
3d8f fe90      cp      90h
3d91 d23a22    jp      nc,223ah
3d94 cd243e    call    3e24h
3d97 3a2e85    ld      a,(852eh)
3d9a b7        or      a
3d9b c2a23d    jp      nz,3da2h
3d9e f1        pop     af
3d9f eb        ex      de,hl
3da0 1805      jr      3da7h
3da2 f1        pop     af
3da3 eb        ex      de,hl
3da4 f2ad3d    jp      p,3dadh
3da7 7c        ld      a,h
3da8 2f        cpl     
3da9 67        ld      h,a
3daa 7d        ld      a,l
3dab 2f        cpl     
3dac 6f        ld      l,a
3dad c3c03d    jp      3dc0h
3db0 213a22    ld      hl,223ah
3db3 e5        push    hl
3db4 3a2e85    ld      a,(852eh)
3db7 fe90      cp      90h
3db9 300e      jr      nc,3dc9h
3dbb cd243e    call    3e24h
3dbe eb        ex      de,hl
3dbf d1        pop     de
3dc0 222b85    ld      (852bh),hl
3dc3 3e02      ld      a,02h
3dc5 328e83    ld      (838eh),a
3dc8 c9        ret     
3dc9 018090    ld      bc,9080h
3dcc 110000    ld      de,0000h
3dcf cdf13c    call    3cf1h
3dd2 c0        ret     nz
3dd3 61        ld      h,c
3dd4 6a        ld      l,d
3dd5 18e8      jr      3dbfh
3dd7 cd0f32    call    320fh
3dda e0        ret     po
3ddb faf43d    jp      m,3df4h
3dde ca4022    jp      z,2240h
3de1 cda33c    call    3ca3h
3de4 cd193e    call    3e19h
3de7 78        ld      a,b
3de8 b7        or      a
3de9 c8        ret     z
3dea cdc23c    call    3cc2h
3ded 212a85    ld      hl,852ah
3df0 46        ld      b,(hl)
3df1 c32c3a    jp      3a2ch
3df4 2a2b85    ld      hl,(852bh)
3df7 cd193e    call    3e19h
3dfa 7c        ld      a,h
3dfb 55        ld      d,l
3dfc 1e00      ld      e,00h
3dfe 0690      ld      b,90h
3e00 c3493c    jp      3c49h
3e03 cd0f32    call    320fh
3e06 d0        ret     nc
3e07 ca4022    jp      z,2240h
3e0a fcf43d    call    m,3df4h
3e0d 210000    ld      hl,0000h
3e10 222785    ld      (8527h),hl
3e13 222985    ld      (8529h),hl
3e16 3e08      ld      a,08h
3e18 013e04    ld      bc,043eh
3e1b 18a8      jr      3dc5h
3e1d cd0f32    call    320fh
3e20 c8        ret     z
3e21 c34022    jp      2240h
3e24 47        ld      b,a
3e25 4f        ld      c,a
3e26 57        ld      d,a
3e27 5f        ld      e,a
3e28 b7        or      a
3e29 c8        ret     z
3e2a e5        push    hl
3e2b cda33c    call    3ca3h
3e2e cdc23c    call    3cc2h
3e31 ae        xor     (hl)
3e32 67        ld      h,a
3e33 fc483e    call    m,3e48h
3e36 3e98      ld      a,98h
3e38 90        sub     b
3e39 cd6b3a    call    3a6bh
3e3c 7c        ld      a,h
3e3d 17        rla     
3e3e dc3e3a    call    c,3a3eh
3e41 0600      ld      b,00h
3e43 dc573a    call    c,3a57h
3e46 e1        pop     hl
3e47 c9        ret     
3e48 1b        dec     de
3e49 7a        ld      a,d
3e4a a3        and     e
3e4b 3c        inc     a
3e4c c0        ret     nz
3e4d 0b        dec     bc
3e4e c9        ret     
3e4f cd0f32    call    320fh
3e52 f8        ret     m
3e53 cd353c    call    3c35h
3e56 f2623e    jp      p,3e62h
3e59 cd643c    call    3c64h
3e5c cd623e    call    3e62h
3e5f c35b3c    jp      3c5bh
3e62 cd0f32    call    320fh
3e65 f8        ret     m
3e66 301f      jr      nc,3e87h
3e68 ca4022    jp      z,2240h
3e6b cdb43d    call    3db4h
3e6e 212e85    ld      hl,852eh
3e71 7e        ld      a,(hl)
3e72 fe98      cp      98h
3e74 3a2b85    ld      a,(852bh)
3e77 d0        ret     nc
3e78 7e        ld      a,(hl)
3e79 cd243e    call    3e24h
3e7c 3698      ld      (hl),98h
3e7e 7b        ld      a,e
3e7f f5        push    af
3e80 79        ld      a,c
3e81 17        rla     
3e82 cde839    call    39e8h
3e85 f1        pop     af
3e86 c9        ret     
3e87 212e85    ld      hl,852eh
3e8a 7e        ld      a,(hl)
3e8b fe90      cp      90h
3e8d 2018      jr      nz,3ea7h
3e8f 4f        ld      c,a
3e90 2b        dec     hl
3e91 7e        ld      a,(hl)
3e92 ee80      xor     80h
3e94 0606      ld      b,06h
3e96 2b        dec     hl
3e97 b6        or      (hl)
3e98 10fc      djnz    3e96h
3e9a b7        or      a
3e9b 210080    ld      hl,8000h
3e9e 2006      jr      nz,3ea6h
3ea0 cdc03d    call    3dc0h
3ea3 c3033e    jp      3e03h
3ea6 79        ld      a,c
3ea7 b7        or      a
3ea8 c8        ret     z
3ea9 feb8      cp      0b8h
3eab d0        ret     nc
3eac f5        push    af
3ead cda33c    call    3ca3h
3eb0 cdc23c    call    3cc2h
3eb3 ae        xor     (hl)
3eb4 2b        dec     hl
3eb5 36b8      ld      (hl),0b8h
3eb7 f5        push    af
3eb8 2b        dec     hl
3eb9 71        ld      (hl),c
3eba fcd73e    call    m,3ed7h
3ebd 3a2d85    ld      a,(852dh)
3ec0 4f        ld      c,a
3ec1 212d85    ld      hl,852dh
3ec4 3eb8      ld      a,0b8h
3ec6 90        sub     b
3ec7 cde740    call    40e7h
3eca f1        pop     af
3ecb fca040    call    m,40a0h
3ece af        xor     a
3ecf 322685    ld      (8526h),a
3ed2 f1        pop     af
3ed3 d0        ret     nc
3ed4 c35840    jp      4058h
3ed7 212785    ld      hl,8527h
3eda 7e        ld      a,(hl)
3edb 35        dec     (hl)
3edc b7        or      a
3edd 23        inc     hl
3ede 28fa      jr      z,3edah
3ee0 c9        ret     
3ee1 e5        push    hl
3ee2 210000    ld      hl,0000h
3ee5 78        ld      a,b
3ee6 b1        or      c
3ee7 2812      jr      z,3efbh
3ee9 3e10      ld      a,10h
3eeb 29        add     hl,hl
3eec dae05b    jp      c,5be0h
3eef eb        ex      de,hl
3ef0 29        add     hl,hl
3ef1 eb        ex      de,hl
3ef2 3004      jr      nc,3ef8h
3ef4 09        add     hl,bc
3ef5 dae05b    jp      c,5be0h
3ef8 3d        dec     a
3ef9 20f0      jr      nz,3eebh
3efb eb        ex      de,hl
3efc e1        pop     hl
3efd c9        ret     
3efe 7c        ld      a,h
3eff 17        rla     
3f00 9f        sbc     a,a
3f01 47        ld      b,a
3f02 cdbc3f    call    3fbch
3f05 79        ld      a,c
3f06 98        sbc     a,b
3f07 1803      jr      3f0ch
3f09 7c        ld      a,h
3f0a 17        rla     
3f0b 9f        sbc     a,a
3f0c 47        ld      b,a
3f0d e5        push    hl
3f0e 7a        ld      a,d
3f0f 17        rla     
3f10 9f        sbc     a,a
3f11 19        add     hl,de
3f12 88        adc     a,b
3f13 0f        rrca    
3f14 ac        xor     h
3f15 f2bf3d    jp      p,3dbfh
3f18 c5        push    bc
3f19 eb        ex      de,hl
3f1a cdf73d    call    3df7h
3f1d f1        pop     af
3f1e e1        pop     hl
3f1f cd883c    call    3c88h
3f22 eb        ex      de,hl
3f23 cdd63f    call    3fd6h
3f26 c3e443    jp      43e4h
3f29 7c        ld      a,h
3f2a b5        or      l
3f2b cac03d    jp      z,3dc0h
3f2e e5        push    hl
3f2f d5        push    de
3f30 cdb03f    call    3fb0h
3f33 c5        push    bc
3f34 44        ld      b,h
3f35 4d        ld      c,l
3f36 210000    ld      hl,0000h
3f39 3e10      ld      a,10h
3f3b 29        add     hl,hl
3f3c 381d      jr      c,3f5bh
3f3e eb        ex      de,hl
3f3f 29        add     hl,hl
3f40 eb        ex      de,hl
3f41 3003      jr      nc,3f46h
3f43 09        add     hl,bc
3f44 3815      jr      c,3f5bh
3f46 3d        dec     a
3f47 20f2      jr      nz,3f3bh
3f49 c1        pop     bc
3f4a d1        pop     de
3f4b 7c        ld      a,h
3f4c b7        or      a
3f4d fa543f    jp      m,3f54h
3f50 d1        pop     de
3f51 78        ld      a,b
3f52 1864      jr      3fb8h
3f54 ee80      xor     80h
3f56 b5        or      l
3f57 2813      jr      z,3f6ch
3f59 eb        ex      de,hl
3f5a 01c1e1    ld      bc,0e1c1h
3f5d cdf73d    call    3df7h
3f60 e1        pop     hl
3f61 cd883c    call    3c88h
3f64 cdf73d    call    3df7h
3f67 c1        pop     bc
3f68 d1        pop     de
3f69 c3053b    jp      3b05h
3f6c 78        ld      a,b
3f6d b7        or      a
3f6e c1        pop     bc
3f6f fac03d    jp      m,3dc0h
3f72 d5        push    de
3f73 cdf73d    call    3df7h
3f76 d1        pop     de
3f77 c3643c    jp      3c64h
3f7a 7c        ld      a,h
3f7b b5        or      l
3f7c ca2b22    jp      z,222bh
3f7f cdb03f    call    3fb0h
3f82 c5        push    bc
3f83 eb        ex      de,hl
3f84 cdbc3f    call    3fbch
3f87 44        ld      b,h
3f88 4d        ld      c,l
3f89 210000    ld      hl,0000h
3f8c 3e11      ld      a,11h
3f8e f5        push    af
3f8f b7        or      a
3f90 1809      jr      3f9bh
3f92 f5        push    af
3f93 e5        push    hl
3f94 09        add     hl,bc
3f95 3003      jr      nc,3f9ah
3f97 f1        pop     af
3f98 37        scf     
3f99 3ee1      ld      a,0e1h
3f9b 7b        ld      a,e
3f9c 17        rla     
3f9d 5f        ld      e,a
3f9e 7a        ld      a,d
3f9f 17        rla     
3fa0 57        ld      d,a
3fa1 7d        ld      a,l
3fa2 17        rla     
3fa3 6f        ld      l,a
3fa4 7c        ld      a,h
3fa5 17        rla     
3fa6 67        ld      h,a
3fa7 f1        pop     af
3fa8 3d        dec     a
3fa9 20e7      jr      nz,3f92h
3fab eb        ex      de,hl
3fac c1        pop     bc
3fad d5        push    de
3fae 189b      jr      3f4bh
3fb0 7c        ld      a,h
3fb1 aa        xor     d
3fb2 47        ld      b,a
3fb3 cdb73f    call    3fb7h
3fb6 eb        ex      de,hl
3fb7 7c        ld      a,h
3fb8 b7        or      a
3fb9 f2c03d    jp      p,3dc0h
3fbc af        xor     a
3fbd 4f        ld      c,a
3fbe 95        sub     l
3fbf 6f        ld      l,a
3fc0 79        ld      a,c
3fc1 9c        sbc     a,h
3fc2 67        ld      h,a
3fc3 c3c03d    jp      3dc0h
3fc6 2a2b85    ld      hl,(852bh)
3fc9 cdbc3f    call    3fbch
3fcc 7c        ld      a,h
3fcd ee80      xor     80h
3fcf b5        or      l
3fd0 c0        ret     nz
3fd1 eb        ex      de,hl
3fd2 cd193e    call    3e19h
3fd5 af        xor     a
3fd6 0698      ld      b,98h
3fd8 c3493c    jp      3c49h
3fdb d5        push    de
3fdc cd7a3f    call    3f7ah
3fdf af        xor     a
3fe0 82        add     a,d
3fe1 1f        rra     
3fe2 67        ld      h,a
3fe3 7b        ld      a,e
3fe4 1f        rra     
3fe5 6f        ld      l,a
3fe6 cdc33d    call    3dc3h
3fe9 f1        pop     af
3fea 18cc      jr      3fb8h
3fec 213a85    ld      hl,853ah
3fef 7e        ld      a,(hl)
3ff0 ee80      xor     80h
3ff2 77        ld      (hl),a
3ff3 213b85    ld      hl,853bh
3ff6 7e        ld      a,(hl)
3ff7 b7        or      a
3ff8 c8        ret     z
3ff9 47        ld      b,a
3ffa 2b        dec     hl
3ffb 4e        ld      c,(hl)
3ffc 112e85    ld      de,852eh
3fff 1a        ld      a,(de)
4000 b7        or      a
4001 cad73c    jp      z,3cd7h
4004 90        sub     b
4005 3016      jr      nc,401dh
4007 2f        cpl     
4008 3c        inc     a
4009 f5        push    af
400a 0e08      ld      c,08h
400c 23        inc     hl
400d e5        push    hl
400e 1a        ld      a,(de)
400f 46        ld      b,(hl)
4010 77        ld      (hl),a
4011 78        ld      a,b
4012 12        ld      (de),a
4013 1b        dec     de
4014 2b        dec     hl
4015 0d        dec     c
4016 20f6      jr      nz,400eh
4018 e1        pop     hl
4019 46        ld      b,(hl)
401a 2b        dec     hl
401b 4e        ld      c,(hl)
401c f1        pop     af
401d fe39      cp      39h
401f d0        ret     nc
4020 f5        push    af
4021 cdc23c    call    3cc2h
4024 213385    ld      hl,8533h
4027 47        ld      b,a
4028 3e00      ld      a,00h
402a 77        ld      (hl),a
402b 322685    ld      (8526h),a
402e f1        pop     af
402f 213a85    ld      hl,853ah
4032 cde740    call    40e7h
4035 78        ld      a,b
4036 b7        or      a
4037 f24f40    jp      p,404fh
403a 3a3385    ld      a,(8533h)
403d 322685    ld      (8526h),a
4040 cdb240    call    40b2h
4043 3049      jr      nc,408eh
4045 eb        ex      de,hl
4046 34        inc     (hl)
4047 ca1a44    jp      z,441ah
404a cd0e41    call    410eh
404d 183f      jr      408eh
404f cdc440    call    40c4h
4052 212f85    ld      hl,852fh
4055 dcd640    call    c,40d6h
4058 af        xor     a
4059 47        ld      b,a
405a 3a2d85    ld      a,(852dh)
405d b7        or      a
405e 201e      jr      nz,407eh
4060 212685    ld      hl,8526h
4063 0e08      ld      c,08h
4065 56        ld      d,(hl)
4066 77        ld      (hl),a
4067 7a        ld      a,d
4068 23        inc     hl
4069 0d        dec     c
406a 20f9      jr      nz,4065h
406c 78        ld      a,b
406d d608      sub     08h
406f fec0      cp      0c0h
4071 20e6      jr      nz,4059h
4073 c3fe39    jp      39feh
4076 05        dec     b
4077 212685    ld      hl,8526h
407a cd1541    call    4115h
407d b7        or      a
407e f27640    jp      p,4076h
4081 78        ld      a,b
4082 b7        or      a
4083 2809      jr      z,408eh
4085 212e85    ld      hl,852eh
4088 86        add     a,(hl)
4089 77        ld      (hl),a
408a d2fe39    jp      nc,39feh
408d c8        ret     z
408e 3a2685    ld      a,(8526h)
4091 b7        or      a
4092 fca040    call    m,40a0h
4095 212f85    ld      hl,852fh
4098 7e        ld      a,(hl)
4099 e680      and     80h
409b 2b        dec     hl
409c 2b        dec     hl
409d ae        xor     (hl)
409e 77        ld      (hl),a
409f c9        ret     
40a0 212785    ld      hl,8527h
40a3 0607      ld      b,07h
40a5 34        inc     (hl)
40a6 c0        ret     nz
40a7 23        inc     hl
40a8 10fb      djnz    40a5h
40aa 34        inc     (hl)
40ab ca1a44    jp      z,441ah
40ae 2b        dec     hl
40af 3680      ld      (hl),80h
40b1 c9        ret     
40b2 213485    ld      hl,8534h
40b5 112785    ld      de,8527h
40b8 0e07      ld      c,07h
40ba af        xor     a
40bb 1a        ld      a,(de)
40bc 8e        adc     a,(hl)
40bd 12        ld      (de),a
40be 13        inc     de
40bf 23        inc     hl
40c0 0d        dec     c
40c1 20f8      jr      nz,40bbh
40c3 c9        ret     
40c4 213485    ld      hl,8534h
40c7 112785    ld      de,8527h
40ca 0e07      ld      c,07h
40cc af        xor     a
40cd 1a        ld      a,(de)
40ce 9e        sbc     a,(hl)
40cf 12        ld      (de),a
40d0 13        inc     de
40d1 23        inc     hl
40d2 0d        dec     c
40d3 20f8      jr      nz,40cdh
40d5 c9        ret     
40d6 7e        ld      a,(hl)
40d7 2f        cpl     
40d8 77        ld      (hl),a
40d9 212685    ld      hl,8526h
40dc 0608      ld      b,08h
40de af        xor     a
40df 4f        ld      c,a
40e0 79        ld      a,c
40e1 9e        sbc     a,(hl)
40e2 77        ld      (hl),a
40e3 23        inc     hl
40e4 10fa      djnz    40e0h
40e6 c9        ret     
40e7 71        ld      (hl),c
40e8 e5        push    hl
40e9 d608      sub     08h
40eb 380e      jr      c,40fbh
40ed e1        pop     hl
40ee e5        push    hl
40ef 110008    ld      de,0800h
40f2 4e        ld      c,(hl)
40f3 73        ld      (hl),e
40f4 59        ld      e,c
40f5 2b        dec     hl
40f6 15        dec     d
40f7 20f9      jr      nz,40f2h
40f9 18ee      jr      40e9h
40fb c609      add     a,09h
40fd 57        ld      d,a
40fe af        xor     a
40ff e1        pop     hl
4100 15        dec     d
4101 c8        ret     z
4102 e5        push    hl
4103 1e08      ld      e,08h
4105 7e        ld      a,(hl)
4106 1f        rra     
4107 77        ld      (hl),a
4108 2b        dec     hl
4109 1d        dec     e
410a 20f9      jr      nz,4105h
410c 18f0      jr      40feh
410e 212d85    ld      hl,852dh
4111 1601      ld      d,01h
4113 18ed      jr      4102h
4115 0e08      ld      c,08h
4117 7e        ld      a,(hl)
4118 17        rla     
4119 77        ld      (hl),a
411a 23        inc     hl
411b 0d        dec     c
411c 20f9      jr      nz,4117h
411e c9        ret     
411f cd353c    call    3c35h
4122 c8        ret     z
4123 3a3b85    ld      a,(853bh)
4126 b7        or      a
4127 cafe39    jp      z,39feh
412a cdea3b    call    3beah
412d cd5242    call    4252h
4130 71        ld      (hl),c
4131 13        inc     de
4132 0607      ld      b,07h
4134 1a        ld      a,(de)
4135 13        inc     de
4136 b7        or      a
4137 d5        push    de
4138 2816      jr      z,4150h
413a 0e08      ld      c,08h
413c c5        push    bc
413d 1f        rra     
413e 47        ld      b,a
413f dcb240    call    c,40b2h
4142 cd0e41    call    410eh
4145 78        ld      a,b
4146 c1        pop     bc
4147 0d        dec     c
4148 20f2      jr      nz,413ch
414a d1        pop     de
414b 10e7      djnz    4134h
414d c35840    jp      4058h
4150 212d85    ld      hl,852dh
4153 cdee40    call    40eeh
4156 18f2      jr      414ah
4158 cdcccc    call    0cccch
415b cccccc    call    z,0cccch
415e 4c        ld      c,h
415f 7d        ld      a,l
4160 00        nop     
4161 00        nop     
4162 00        nop     
4163 00        nop     
4164 00        nop     
4165 00        nop     
4166 2084      jr      nz,40ech
4168 3a2e85    ld      a,(852eh)
416b fe41      cp      41h
416d 300b      jr      nc,417ah
416f 115841    ld      de,4158h
4172 213485    ld      hl,8534h
4175 cdb73c    call    3cb7h
4178 18a5      jr      411fh
417a 3a2d85    ld      a,(852dh)
417d b7        or      a
417e f28a41    jp      p,418ah
4181 e67f      and     7fh
4183 322d85    ld      (852dh),a
4186 21643c    ld      hl,3c64h
4189 e5        push    hl
418a cdc141    call    41c1h
418d 112785    ld      de,8527h
4190 213485    ld      hl,8534h
4193 cdb73c    call    3cb7h
4196 cdc141    call    41c1h
4199 cdf33f    call    3ff3h
419c 112785    ld      de,8527h
419f 213485    ld      hl,8534h
41a2 cdb73c    call    3cb7h
41a5 3e0f      ld      a,0fh
41a7 f5        push    af
41a8 cdc941    call    41c9h
41ab cdd441    call    41d4h
41ae cdf33f    call    3ff3h
41b1 213a85    ld      hl,853ah
41b4 cde441    call    41e4h
41b7 f1        pop     af
41b8 3d        dec     a
41b9 20ec      jr      nz,41a7h
41bb cdc141    call    41c1h
41be cdc141    call    41c1h
41c1 212e85    ld      hl,852eh
41c4 35        dec     (hl)
41c5 c0        ret     nz
41c6 c3fe39    jp      39feh
41c9 213b85    ld      hl,853bh
41cc 3e04      ld      a,04h
41ce 35        dec     (hl)
41cf c8        ret     z
41d0 3d        dec     a
41d1 20fb      jr      nz,41ceh
41d3 c9        ret     
41d4 d1        pop     de
41d5 3e04      ld      a,04h
41d7 213485    ld      hl,8534h
41da 4e        ld      c,(hl)
41db 23        inc     hl
41dc 46        ld      b,(hl)
41dd 23        inc     hl
41de c5        push    bc
41df 3d        dec     a
41e0 20f8      jr      nz,41dah
41e2 d5        push    de
41e3 c9        ret     
41e4 d1        pop     de
41e5 3e04      ld      a,04h
41e7 213b85    ld      hl,853bh
41ea c1        pop     bc
41eb 70        ld      (hl),b
41ec 2b        dec     hl
41ed 71        ld      (hl),c
41ee 2b        dec     hl
41ef 3d        dec     a
41f0 20f8      jr      nz,41eah
41f2 d5        push    de
41f3 c9        ret     
41f4 3a3b85    ld      a,(853bh)
41f7 b7        or      a
41f8 ca2744    jp      z,4427h
41fb 3a2e85    ld      a,(852eh)
41fe b7        or      a
41ff cafe39    jp      z,39feh
4202 cde73b    call    3be7h
4205 34        inc     (hl)
4206 34        inc     (hl)
4207 ca1a44    jp      z,441ah
420a cd5242    call    4252h
420d 215e85    ld      hl,855eh
4210 71        ld      (hl),c
4211 41        ld      b,c
4212 115785    ld      de,8557h
4215 213485    ld      hl,8534h
4218 cdca40    call    40cah
421b 1a        ld      a,(de)
421c 99        sbc     a,c
421d 3f        ccf     
421e 380b      jr      c,422bh
4220 115785    ld      de,8557h
4223 213485    ld      hl,8534h
4226 cdb840    call    40b8h
4229 af        xor     a
422a da1204    jp      c,0412h
422d 3a2d85    ld      a,(852dh)
4230 3c        inc     a
4231 3d        dec     a
4232 1f        rra     
4233 fa9140    jp      m,4091h
4236 17        rla     
4237 212785    ld      hl,8527h
423a 0e07      ld      c,07h
423c cd1741    call    4117h
423f 215785    ld      hl,8557h
4242 cd1541    call    4115h
4245 78        ld      a,b
4246 b7        or      a
4247 20c9      jr      nz,4212h
4249 212e85    ld      hl,852eh
424c 35        dec     (hl)
424d 20c3      jr      nz,4212h
424f c3fe39    jp      39feh
4252 79        ld      a,c
4253 323a85    ld      (853ah),a
4256 2b        dec     hl
4257 115d85    ld      de,855dh
425a 010007    ld      bc,0700h
425d 7e        ld      a,(hl)
425e 12        ld      (de),a
425f 71        ld      (hl),c
4260 1b        dec     de
4261 2b        dec     hl
4262 10f9      djnz    425dh
4264 c9        ret     
4265 cddf3c    call    3cdfh
4268 eb        ex      de,hl
4269 2b        dec     hl
426a 7e        ld      a,(hl)
426b b7        or      a
426c c8        ret     z
426d c602      add     a,02h
426f da1a44    jp      c,441ah
4272 77        ld      (hl),a
4273 e5        push    hl
4274 cdf33f    call    3ff3h
4277 e1        pop     hl
4278 34        inc     (hl)
4279 c0        ret     nz
427a c31a44    jp      441ah
427d cdfe39    call    39feh
4280 cd163e    call    3e16h
4283 f6af      or      0afh
4285 017f39    ld      bc,397fh
4288 c5        push    bc
4289 f5        push    af
428a 3e01      ld      a,01h
428c 323085    ld      (8530h),a
428f f1        pop     af
4290 eb        ex      de,hl
4291 01ff00    ld      bc,00ffh
4294 60        ld      h,b
4295 68        ld      l,b
4296 ccc03d    call    z,3dc0h
4299 eb        ex      de,hl
429a 7e        ld      a,(hl)
429b fe26      cp      26h
429d ca2431    jp      z,3124h
42a0 fe2d      cp      2dh
42a2 f5        push    af
42a3 2805      jr      z,42aah
42a5 fe2b      cp      2bh
42a7 2801      jr      z,42aah
42a9 2b        dec     hl
42aa cd1a28    call    281ah
42ad da7a43    jp      c,437ah
42b0 fe2e      cp      2eh
42b2 2873      jr      z,4327h
42b4 fe65      cp      65h
42b6 2802      jr      z,42bah
42b8 fe45      cp      45h
42ba 2021      jr      nz,42ddh
42bc e5        push    hl
42bd cd1a28    call    281ah
42c0 fe6c      cp      6ch
42c2 280a      jr      z,42ceh
42c4 fe4c      cp      4ch
42c6 2806      jr      z,42ceh
42c8 fe71      cp      71h
42ca 2802      jr      z,42ceh
42cc fe51      cp      51h
42ce e1        pop     hl
42cf 280b      jr      z,42dch
42d1 3a8e83    ld      a,(838eh)
42d4 fe08      cp      08h
42d6 2819      jr      z,42f1h
42d8 3e00      ld      a,00h
42da 1815      jr      42f1h
42dc 7e        ld      a,(hl)
42dd fe25      cp      25h
42df 2852      jr      z,4333h
42e1 fe23      cp      23h
42e3 285a      jr      z,433fh
42e5 fe21      cp      21h
42e7 2857      jr      z,4340h
42e9 fe64      cp      64h
42eb 2804      jr      z,42f1h
42ed fe44      cp      44h
42ef 2016      jr      nz,4307h
42f1 b7        or      a
42f2 cd4843    call    4348h
42f5 cd1a28    call    281ah
42f8 cdde31    call    31deh
42fb cd1a28    call    281ah
42fe dae943    jp      c,43e9h
4301 14        inc     d
4302 2003      jr      nz,4307h
4304 af        xor     a
4305 93        sub     e
4306 5f        ld      e,a
4307 e5        push    hl
4308 7b        ld      a,e
4309 90        sub     b
430a 5f        ld      e,a
430b f45743    call    p,4357h
430e fc6743    call    m,4367h
4311 20f8      jr      nz,430bh
4313 e1        pop     hl
4314 f1        pop     af
4315 e5        push    hl
4316 cc5b3c    call    z,3c5bh
4319 e1        pop     hl
431a cd0f32    call    320fh
431d e8        ret     pe
431e e5        push    hl
431f 21563b    ld      hl,3b56h
4322 e5        push    hl
4323 cdc93d    call    3dc9h
4326 c9        ret     
4327 cd0f32    call    320fh
432a 0c        inc     c
432b 20da      jr      nz,4307h
432d dc4843    call    c,4348h
4330 c3aa42    jp      42aah
4333 cd1a28    call    281ah
4336 f1        pop     af
4337 e5        push    hl
4338 21563b    ld      hl,3b56h
433b e5        push    hl
433c f5        push    af
433d 18c8      jr      4307h
433f b7        or      a
4340 cd4843    call    4348h
4343 cd1a28    call    281ah
4346 18bf      jr      4307h
4348 e5        push    hl
4349 d5        push    de
434a c5        push    bc
434b f5        push    af
434c ccd73d    call    z,3dd7h
434f f1        pop     af
4350 c4033e    call    nz,3e03h
4353 c1        pop     bc
4354 d1        pop     de
4355 e1        pop     hl
4356 c9        ret     
4357 c8        ret     z
4358 f5        push    af
4359 cd0f32    call    320fh
435c f5        push    af
435d e41e3c    call    po,3c1eh
4360 f1        pop     af
4361 ec6542    call    pe,4265h
4364 f1        pop     af
4365 3d        dec     a
4366 c9        ret     
4367 d5        push    de
4368 e5        push    hl
4369 f5        push    af
436a cd0f32    call    320fh
436d f5        push    af
436e e45d3b    call    po,3b5dh
4371 f1        pop     af
4372 ec6841    call    pe,4168h
4375 f1        pop     af
4376 e1        pop     hl
4377 d1        pop     de
4378 3c        inc     a
4379 c9        ret     
437a d5        push    de
437b 78        ld      a,b
437c 89        adc     a,c
437d 47        ld      b,a
437e c5        push    bc
437f e5        push    hl
4380 7e        ld      a,(hl)
4381 d630      sub     30h
4383 f5        push    af
4384 cd0f32    call    320fh
4387 f2b243    jp      p,43b2h
438a 2a2b85    ld      hl,(852bh)
438d 11cd0c    ld      de,0ccdh
4390 cda25f    call    5fa2h
4393 3019      jr      nc,43aeh
4395 54        ld      d,h
4396 5d        ld      e,l
4397 29        add     hl,hl
4398 29        add     hl,hl
4399 19        add     hl,de
439a 29        add     hl,hl
439b f1        pop     af
439c 4f        ld      c,a
439d 09        add     hl,bc
439e 7c        ld      a,h
439f b7        or      a
43a0 faac43    jp      m,43ach
43a3 222b85    ld      (852bh),hl
43a6 e1        pop     hl
43a7 c1        pop     bc
43a8 d1        pop     de
43a9 c3aa42    jp      42aah
43ac 79        ld      a,c
43ad f5        push    af
43ae cdf43d    call    3df4h
43b1 37        scf     
43b2 3018      jr      nc,43cch
43b4 017494    ld      bc,9474h
43b7 110024    ld      de,2400h
43ba cdf13c    call    3cf1h
43bd f2c943    jp      p,43c9h
43c0 cd1e3c    call    3c1eh
43c3 f1        pop     af
43c4 cdde43    call    43deh
43c7 18dd      jr      43a6h
43c9 cd0d3e    call    3e0dh
43cc cd6542    call    4265h
43cf cddf3c    call    3cdfh
43d2 f1        pop     af
43d3 cd443c    call    3c44h
43d6 cd0d3e    call    3e0dh
43d9 cdf33f    call    3ff3h
43dc 18c8      jr      43a6h
43de cd883c    call    3c88h
43e1 cd443c    call    3c44h
43e4 c1        pop     bc
43e5 d1        pop     de
43e6 c39c39    jp      399ch
43e9 7b        ld      a,e
43ea fe0a      cp      0ah
43ec 3009      jr      nc,43f7h
43ee 07        rlca    
43ef 07        rlca    
43f0 83        add     a,e
43f1 07        rlca    
43f2 86        add     a,(hl)
43f3 d630      sub     30h
43f5 5f        ld      e,a
43f6 fa1e7f    jp      m,7f1eh
43f9 c3fb42    jp      42fbh
43fc e5        push    hl
43fd 212d85    ld      hl,852dh
4400 cd0f32    call    320fh
4403 e20b44    jp      po,440bh
4406 3a3a85    ld      a,(853ah)
4409 1801      jr      440ch
440b 79        ld      a,c
440c ae        xor     (hl)
440d 17        rla     
440e e1        pop     hl
440f 1820      jr      4431h
4411 f1        pop     af
4412 f1        pop     af
4413 3a2d85    ld      a,(852dh)
4416 17        rla     
4417 1818      jr      4431h
4419 f1        pop     af
441a 3a2f85    ld      a,(852fh)
441d 2f        cpl     
441e 17        rla     
441f 1810      jr      4431h
4421 b0        or      b
4422 2806      jr      z,442ah
4424 79        ld      a,c
4425 1803      jr      442ah
4427 3a2d85    ld      a,(852dh)
442a 17        rla     
442b 21911f    ld      hl,1f91h
442e 224380    ld      (8043h),hl
4431 e5        push    hl
4432 c5        push    bc
4433 d5        push    de
4434 f5        push    af
4435 f5        push    af
4436 2ae083    ld      hl,(83e0h)
4439 7c        ld      a,h
443a b5        or      l
443b 201e      jr      nz,445bh
443d 213085    ld      hl,8530h
4440 7e        ld      a,(hl)
4441 b7        or      a
4442 2804      jr      z,4448h
4444 3d        dec     a
4445 2014      jr      nz,445bh
4447 34        inc     (hl)
4448 2a4380    ld      hl,(8043h)
444b cde438    call    38e4h
444e 328c83    ld      (838ch),a
4451 3e0d      ld      a,0dh
4453 cdee38    call    38eeh
4456 3e0a      ld      a,0ah
4458 cdee38    call    38eeh
445b f1        pop     af
445c 212b85    ld      hl,852bh
445f 119744    ld      de,4497h
4462 3003      jr      nc,4467h
4464 119b44    ld      de,449bh
4467 cdb23c    call    3cb2h
446a cd0f32    call    320fh
446d 3809      jr      c,4478h
446f 212785    ld      hl,8527h
4472 119b44    ld      de,449bh
4475 cdb23c    call    3cb2h
4478 2ae083    ld      hl,(83e0h)
447b 7c        ld      a,h
447c b5        or      l
447d 2a4380    ld      hl,(8043h)
4480 11381f    ld      de,1f38h
4483 eb        ex      de,hl
4484 224380    ld      (8043h),hl
4487 2809      jr      z,4492h
4489 cda25f    call    5fa2h
448c ca3a22    jp      z,223ah
448f c32b22    jp      222bh
4492 f1        pop     af
4493 d1        pop     de
4494 c1        pop     bc
4495 e1        pop     hl
4496 c9        ret     
4497 ff        rst     38h
4498 ff        rst     38h
4499 7f        ld      a,a
449a ff        rst     38h
449b ff        rst     38h
449c ff        rst     38h
449d ff        rst     38h
449e ff        rst     38h
449f e5        push    hl
44a0 21a321    ld      hl,21a3h
44a3 cdd362    call    62d3h
44a6 e1        pop     hl
44a7 01d262    ld      bc,62d2h
44aa c5        push    bc
44ab cdc03d    call    3dc0h
44ae af        xor     a
44af cd3245    call    4532h
44b2 b6        or      (hl)
44b3 181c      jr      44d1h
44b5 af        xor     a
44b6 cd3245    call    4532h
44b9 e608      and     08h
44bb 2802      jr      z,44bfh
44bd 362b      ld      (hl),2bh
44bf eb        ex      de,hl
44c0 cd763c    call    3c76h
44c3 eb        ex      de,hl
44c4 f2d144    jp      p,44d1h
44c7 362d      ld      (hl),2dh
44c9 c5        push    bc
44ca e5        push    hl
44cb cd5b3c    call    3c5bh
44ce e1        pop     hl
44cf c1        pop     bc
44d0 b4        or      h
44d1 23        inc     hl
44d2 3630      ld      (hl),30h
44d4 3ac483    ld      a,(83c4h)
44d7 57        ld      d,a
44d8 17        rla     
44d9 3a8e83    ld      a,(838eh)
44dc da4346    jp      c,4643h
44df ca3b46    jp      z,463bh
44e2 fe04      cp      04h
44e4 3055      jr      nc,453bh
44e6 010000    ld      bc,0000h
44e9 cd0249    call    4902h
44ec 213d85    ld      hl,853dh
44ef 46        ld      b,(hl)
44f0 0e20      ld      c,20h
44f2 3ac483    ld      a,(83c4h)
44f5 5f        ld      e,a
44f6 e620      and     20h
44f8 280c      jr      z,4506h
44fa 78        ld      a,b
44fb b9        cp      c
44fc 0e2a      ld      c,2ah
44fe 2006      jr      nz,4506h
4500 7b        ld      a,e
4501 e604      and     04h
4503 2001      jr      nz,4506h
4505 41        ld      b,c
4506 71        ld      (hl),c
4507 cd1a28    call    281ah
450a 2814      jr      z,4520h
450c fe45      cp      45h
450e 2810      jr      z,4520h
4510 fe44      cp      44h
4512 280c      jr      z,4520h
4514 fe30      cp      30h
4516 28ee      jr      z,4506h
4518 fe2c      cp      2ch
451a 28ea      jr      z,4506h
451c fe2e      cp      2eh
451e 2003      jr      nz,4523h
4520 2b        dec     hl
4521 3630      ld      (hl),30h
4523 7b        ld      a,e
4524 e610      and     10h
4526 2803      jr      z,452bh
4528 2b        dec     hl
4529 3624      ld      (hl),24h
452b 7b        ld      a,e
452c e604      and     04h
452e c0        ret     nz
452f 2b        dec     hl
4530 70        ld      (hl),b
4531 c9        ret     
4532 32c483    ld      (83c4h),a
4535 213d85    ld      hl,853dh
4538 3620      ld      (hl),20h
453a c9        ret     
453b cd883c    call    3c88h
453e eb        ex      de,hl
453f 2a2785    ld      hl,(8527h)
4542 e5        push    hl
4543 2a2985    ld      hl,(8529h)
4546 e5        push    hl
4547 eb        ex      de,hl
4548 f5        push    af
4549 af        xor     a
454a 323285    ld      (8532h),a
454d f1        pop     af
454e f5        push    af
454f cdd745    call    45d7h
4552 0645      ld      b,45h
4554 0e00      ld      c,00h
4556 e5        push    hl
4557 7e        ld      a,(hl)
4558 b8        cp      b
4559 2827      jr      z,4582h
455b fe3a      cp      3ah
455d 3005      jr      nc,4564h
455f fe30      cp      30h
4561 3801      jr      c,4564h
4563 0c        inc     c
4564 23        inc     hl
4565 7e        ld      a,(hl)
4566 b7        or      a
4567 20ef      jr      nz,4558h
4569 3e44      ld      a,44h
456b b8        cp      b
456c 47        ld      b,a
456d e1        pop     hl
456e 0e00      ld      c,00h
4570 20e4      jr      nz,4556h
4572 f1        pop     af
4573 c1        pop     bc
4574 d1        pop     de
4575 eb        ex      de,hl
4576 222785    ld      (8527h),hl
4579 60        ld      h,b
457a 69        ld      l,c
457b 222985    ld      (8529h),hl
457e eb        ex      de,hl
457f c1        pop     bc
4580 d1        pop     de
4581 c9        ret     
4582 c5        push    bc
4583 0600      ld      b,00h
4585 23        inc     hl
4586 7e        ld      a,(hl)
4587 fe2b      cp      2bh
4589 2835      jr      z,45c0h
458b fe2d      cp      2dh
458d 280e      jr      z,459dh
458f d630      sub     30h
4591 4f        ld      c,a
4592 78        ld      a,b
4593 87        add     a,a
4594 87        add     a,a
4595 80        add     a,b
4596 87        add     a,a
4597 81        add     a,c
4598 47        ld      b,a
4599 fe10      cp      10h
459b 3023      jr      nc,45c0h
459d 23        inc     hl
459e 7e        ld      a,(hl)
459f b7        or      a
45a0 20e5      jr      nz,4587h
45a2 60        ld      h,b
45a3 c1        pop     bc
45a4 78        ld      a,b
45a5 fe45      cp      45h
45a7 200e      jr      nz,45b7h
45a9 79        ld      a,c
45aa 84        add     a,h
45ab fe09      cp      09h
45ad e1        pop     hl
45ae 30c2      jr      nc,4572h
45b0 3e80      ld      a,80h
45b2 323285    ld      (8532h),a
45b5 180d      jr      45c4h
45b7 7c        ld      a,h
45b8 81        add     a,c
45b9 fe12      cp      12h
45bb e1        pop     hl
45bc 30b4      jr      nc,4572h
45be 18f0      jr      45b0h
45c0 c1        pop     bc
45c1 e1        pop     hl
45c2 18ae      jr      4572h
45c4 f1        pop     af
45c5 c1        pop     bc
45c6 d1        pop     de
45c7 eb        ex      de,hl
45c8 222785    ld      (8527h),hl
45cb 60        ld      h,b
45cc 69        ld      l,c
45cd 222985    ld      (8529h),hl
45d0 eb        ex      de,hl
45d1 c1        pop     bc
45d2 d1        pop     de
45d3 cd983c    call    3c98h
45d6 23        inc     hl
45d7 fe05      cp      05h
45d9 e5        push    hl
45da de00      sbc     a,00h
45dc 17        rla     
45dd 57        ld      d,a
45de 14        inc     d
45df cdb947    call    47b9h
45e2 010003    ld      bc,0300h
45e5 f5        push    af
45e6 3a3285    ld      a,(8532h)
45e9 b7        or      a
45ea f2f145    jp      p,45f1h
45ed f1        pop     af
45ee 82        add     a,d
45ef 1809      jr      45fah
45f1 f1        pop     af
45f2 82        add     a,d
45f3 fafe45    jp      m,45feh
45f6 14        inc     d
45f7 ba        cp      d
45f8 3004      jr      nc,45feh
45fa 3c        inc     a
45fb 47        ld      b,a
45fc 3e02      ld      a,02h
45fe d602      sub     02h
4600 e1        pop     hl
4601 f5        push    af
4602 cd4f48    call    484fh
4605 3630      ld      (hl),30h
4607 ccad3c    call    z,3cadh
460a cd7448    call    4874h
460d 2b        dec     hl
460e 7e        ld      a,(hl)
460f fe30      cp      30h
4611 28fa      jr      z,460dh
4613 fe2e      cp      2eh
4615 c4ad3c    call    nz,3cadh
4618 f1        pop     af
4619 2821      jr      z,463ch
461b f5        push    af
461c cd0f32    call    320fh
461f 3e22      ld      a,22h
4621 8f        adc     a,a
4622 77        ld      (hl),a
4623 23        inc     hl
4624 f1        pop     af
4625 362b      ld      (hl),2bh
4627 f22e46    jp      p,462eh
462a 362d      ld      (hl),2dh
462c 2f        cpl     
462d 3c        inc     a
462e 062f      ld      b,2fh
4630 04        inc     b
4631 d60a      sub     0ah
4633 30fb      jr      nc,4630h
4635 c63a      add     a,3ah
4637 23        inc     hl
4638 70        ld      (hl),b
4639 23        inc     hl
463a 77        ld      (hl),a
463b 23        inc     hl
463c 3600      ld      (hl),00h
463e eb        ex      de,hl
463f 213d85    ld      hl,853dh
4642 c9        ret     
4643 23        inc     hl
4644 c5        push    bc
4645 fe04      cp      04h
4647 7a        ld      a,d
4648 306a      jr      nc,46b4h
464a 1f        rra     
464b da4e47    jp      c,474eh
464e 010306    ld      bc,0603h
4651 cd4748    call    4847h
4654 d1        pop     de
4655 7a        ld      a,d
4656 d605      sub     05h
4658 f42748    call    p,4827h
465b cd0249    call    4902h
465e 7b        ld      a,e
465f b7        or      a
4660 cc0f3c    call    z,3c0fh
4663 3d        dec     a
4664 f42748    call    p,4827h
4667 e5        push    hl
4668 cdec44    call    44ech
466b e1        pop     hl
466c 2802      jr      z,4670h
466e 70        ld      (hl),b
466f 23        inc     hl
4670 3600      ld      (hl),00h
4672 213c85    ld      hl,853ch
4675 23        inc     hl
4676 3ae383    ld      a,(83e3h)
4679 95        sub     l
467a 92        sub     d
467b c8        ret     z
467c 7e        ld      a,(hl)
467d fe20      cp      20h
467f 28f4      jr      z,4675h
4681 fe2a      cp      2ah
4683 28f0      jr      z,4675h
4685 2b        dec     hl
4686 e5        push    hl
4687 f5        push    af
4688 018746    ld      bc,4687h
468b c5        push    bc
468c cd1a28    call    281ah
468f fe2d      cp      2dh
4691 c8        ret     z
4692 fe2b      cp      2bh
4694 c8        ret     z
4695 fe24      cp      24h
4697 c8        ret     z
4698 c1        pop     bc
4699 fe30      cp      30h
469b 2010      jr      nz,46adh
469d 23        inc     hl
469e cd1a28    call    281ah
46a1 300a      jr      nc,46adh
46a3 2b        dec     hl
46a4 012b77    ld      bc,772bh
46a7 f1        pop     af
46a8 28fb      jr      z,46a5h
46aa c1        pop     bc
46ab 18c9      jr      4676h
46ad f1        pop     af
46ae 28fd      jr      z,46adh
46b0 e1        pop     hl
46b1 3625      ld      (hl),25h
46b3 c9        ret     
46b4 e5        push    hl
46b5 1f        rra     
46b6 da5547    jp      c,4755h
46b9 2814      jr      z,46cfh
46bb 115749    ld      de,4957h
46be cd2d3d    call    3d2dh
46c1 1610      ld      d,10h
46c3 fadd46    jp      m,46ddh
46c6 e1        pop     hl
46c7 c1        pop     bc
46c8 cdb544    call    44b5h
46cb 2b        dec     hl
46cc 3625      ld      (hl),25h
46ce c9        ret     
46cf 010eb6    ld      bc,0b60eh
46d2 11ca1b    ld      de,1bcah
46d5 cdf13c    call    3cf1h
46d8 f2c646    jp      p,46c6h
46db 1606      ld      d,06h
46dd cd353c    call    3c35h
46e0 c4b947    call    nz,47b9h
46e3 e1        pop     hl
46e4 c1        pop     bc
46e5 fa0247    jp      m,4702h
46e8 c5        push    bc
46e9 5f        ld      e,a
46ea 78        ld      a,b
46eb 92        sub     d
46ec 93        sub     e
46ed f42748    call    p,4827h
46f0 cd3b48    call    483bh
46f3 cd7448    call    4874h
46f6 b3        or      e
46f7 c43548    call    nz,4835h
46fa b3        or      e
46fb c46148    call    nz,4861h
46fe d1        pop     de
46ff c35e46    jp      465eh
4702 5f        ld      e,a
4703 79        ld      a,c
4704 b7        or      a
4705 c46543    call    nz,4365h
4708 83        add     a,e
4709 fa0d47    jp      m,470dh
470c af        xor     a
470d c5        push    bc
470e f5        push    af
470f fc6743    call    m,4367h
4712 fa0f47    jp      m,470fh
4715 c1        pop     bc
4716 7b        ld      a,e
4717 90        sub     b
4718 c1        pop     bc
4719 5f        ld      e,a
471a 82        add     a,d
471b 78        ld      a,b
471c fa2a47    jp      m,472ah
471f 92        sub     d
4720 93        sub     e
4721 f42748    call    p,4827h
4724 c5        push    bc
4725 cd3b48    call    483bh
4728 1811      jr      473bh
472a cd2748    call    4827h
472d 79        ld      a,c
472e cd6448    call    4864h
4731 4f        ld      c,a
4732 af        xor     a
4733 92        sub     d
4734 93        sub     e
4735 cd2748    call    4827h
4738 c5        push    bc
4739 47        ld      b,a
473a 4f        ld      c,a
473b cd7448    call    4874h
473e c1        pop     bc
473f b1        or      c
4740 2003      jr      nz,4745h
4742 2ae383    ld      hl,(83e3h)
4745 83        add     a,e
4746 3d        dec     a
4747 f42748    call    p,4827h
474a 50        ld      d,b
474b c36746    jp      4667h
474e e5        push    hl
474f d5        push    de
4750 cdf43d    call    3df4h
4753 d1        pop     de
4754 af        xor     a
4755 2803      jr      z,475ah
4757 1e10      ld      e,10h
4759 011e06    ld      bc,061eh
475c cd353c    call    3c35h
475f 37        scf     
4760 c4b947    call    nz,47b9h
4763 e1        pop     hl
4764 c1        pop     bc
4765 f5        push    af
4766 79        ld      a,c
4767 b7        or      a
4768 f5        push    af
4769 c46543    call    nz,4365h
476c 80        add     a,b
476d 4f        ld      c,a
476e 7a        ld      a,d
476f e604      and     04h
4771 fe01      cp      01h
4773 9f        sbc     a,a
4774 57        ld      d,a
4775 81        add     a,c
4776 4f        ld      c,a
4777 93        sub     e
4778 f5        push    af
4779 c5        push    bc
477a fc6743    call    m,4367h
477d fa7a47    jp      m,477ah
4780 c1        pop     bc
4781 f1        pop     af
4782 c5        push    bc
4783 f5        push    af
4784 fa8847    jp      m,4788h
4787 af        xor     a
4788 2f        cpl     
4789 3c        inc     a
478a 80        add     a,b
478b 3c        inc     a
478c 82        add     a,d
478d 47        ld      b,a
478e 0e00      ld      c,00h
4790 cd7448    call    4874h
4793 f1        pop     af
4794 f42f48    call    p,482fh
4797 cd6148    call    4861h
479a c1        pop     bc
479b f1        pop     af
479c 200c      jr      nz,47aah
479e cd0f3c    call    3c0fh
47a1 7e        ld      a,(hl)
47a2 fe2e      cp      2eh
47a4 c4ad3c    call    nz,3cadh
47a7 22e383    ld      (83e3h),hl
47aa f1        pop     af
47ab 3803      jr      c,47b0h
47ad 83        add     a,e
47ae 90        sub     b
47af 92        sub     d
47b0 c5        push    bc
47b1 cd1b46    call    461bh
47b4 eb        ex      de,hl
47b5 d1        pop     de
47b6 c36746    jp      4667h
47b9 d5        push    de
47ba af        xor     a
47bb f5        push    af
47bc cd0f32    call    320fh
47bf e2db47    jp      po,47dbh
47c2 3a2e85    ld      a,(852eh)
47c5 fe91      cp      91h
47c7 3012      jr      nc,47dbh
47c9 113749    ld      de,4937h
47cc 213485    ld      hl,8534h
47cf cdb73c    call    3cb7h
47d2 cd1f41    call    411fh
47d5 f1        pop     af
47d6 d60a      sub     0ah
47d8 f5        push    af
47d9 18e7      jr      47c2h
47db cd0b48    call    480bh
47de cd0f32    call    320fh
47e1 eaef47    jp      pe,47efh
47e4 014391    ld      bc,9143h
47e7 11f94f    ld      de,4ff9h
47ea cdf13c    call    3cf1h
47ed 1806      jr      47f5h
47ef 113f49    ld      de,493fh
47f2 cd2d3d    call    3d2dh
47f5 f20748    jp      p,4807h
47f8 f1        pop     af
47f9 cd5843    call    4358h
47fc f5        push    af
47fd 18df      jr      47deh
47ff f1        pop     af
4800 cd6743    call    4367h
4803 f5        push    af
4804 cd0b48    call    480bh
4807 f1        pop     af
4808 b7        or      a
4809 d1        pop     de
480a c9        ret     
480b cd0f32    call    320fh
480e ea1c48    jp      pe,481ch
4811 017494    ld      bc,9474h
4814 11f823    ld      de,23f8h
4817 cdf13c    call    3cf1h
481a 1806      jr      4822h
481c 114749    ld      de,4947h
481f cd2d3d    call    3d2dh
4822 e1        pop     hl
4823 f2ff47    jp      p,47ffh
4826 e9        jp      (hl)
4827 b7        or      a
4828 c8        ret     z
4829 3d        dec     a
482a 3630      ld      (hl),30h
482c 23        inc     hl
482d 18f9      jr      4828h
482f 2004      jr      nz,4835h
4831 c8        ret     z
4832 cd6148    call    4861h
4835 3630      ld      (hl),30h
4837 23        inc     hl
4838 3d        dec     a
4839 18f6      jr      4831h
483b 7b        ld      a,e
483c 82        add     a,d
483d 3c        inc     a
483e 47        ld      b,a
483f 3c        inc     a
4840 d603      sub     03h
4842 30fc      jr      nc,4840h
4844 c605      add     a,05h
4846 4f        ld      c,a
4847 3ac483    ld      a,(83c4h)
484a e640      and     40h
484c c0        ret     nz
484d 4f        ld      c,a
484e c9        ret     
484f 05        dec     b
4850 f26248    jp      p,4862h
4853 22e383    ld      (83e3h),hl
4856 362e      ld      (hl),2eh
4858 23        inc     hl
4859 3630      ld      (hl),30h
485b 04        inc     b
485c 20fa      jr      nz,4858h
485e 23        inc     hl
485f 48        ld      c,b
4860 c9        ret     
4861 05        dec     b
4862 2008      jr      nz,486ch
4864 362e      ld      (hl),2eh
4866 22e383    ld      (83e3h),hl
4869 23        inc     hl
486a 48        ld      c,b
486b c9        ret     
486c 0d        dec     c
486d c0        ret     nz
486e 362c      ld      (hl),2ch
4870 23        inc     hl
4871 0e03      ld      c,03h
4873 c9        ret     
4874 d5        push    de
4875 cd0f32    call    320fh
4878 e2bc48    jp      po,48bch
487b c5        push    bc
487c e5        push    hl
487d cddf3c    call    3cdfh
4880 214f49    ld      hl,494fh
4883 cdda3c    call    3cdah
4886 cdf33f    call    3ff3h
4889 af        xor     a
488a cdac3e    call    3each
488d e1        pop     hl
488e c1        pop     bc
488f 115f49    ld      de,495fh
4892 3e0a      ld      a,0ah
4894 cd6148    call    4861h
4897 c5        push    bc
4898 f5        push    af
4899 e5        push    hl
489a d5        push    de
489b 062f      ld      b,2fh
489d 04        inc     b
489e e1        pop     hl
489f e5        push    hl
48a0 cdc740    call    40c7h
48a3 30f8      jr      nc,489dh
48a5 e1        pop     hl
48a6 cdb540    call    40b5h
48a9 eb        ex      de,hl
48aa e1        pop     hl
48ab 70        ld      (hl),b
48ac 23        inc     hl
48ad f1        pop     af
48ae c1        pop     bc
48af 3d        dec     a
48b0 20e2      jr      nz,4894h
48b2 c5        push    bc
48b3 e5        push    hl
48b4 212785    ld      hl,8527h
48b7 cd953c    call    3c95h
48ba 180d      jr      48c9h
48bc c5        push    bc
48bd e5        push    hl
48be cd8e39    call    398eh
48c1 3e01      ld      a,01h
48c3 cd243e    call    3e24h
48c6 cd983c    call    3c98h
48c9 e1        pop     hl
48ca c1        pop     bc
48cb af        xor     a
48cc 11a549    ld      de,49a5h
48cf 3f        ccf     
48d0 cd6148    call    4861h
48d3 c5        push    bc
48d4 f5        push    af
48d5 e5        push    hl
48d6 d5        push    de
48d7 cda33c    call    3ca3h
48da e1        pop     hl
48db 062f      ld      b,2fh
48dd 04        inc     b
48de 7b        ld      a,e
48df 96        sub     (hl)
48e0 5f        ld      e,a
48e1 23        inc     hl
48e2 7a        ld      a,d
48e3 9e        sbc     a,(hl)
48e4 57        ld      d,a
48e5 23        inc     hl
48e6 79        ld      a,c
48e7 9e        sbc     a,(hl)
48e8 4f        ld      c,a
48e9 2b        dec     hl
48ea 2b        dec     hl
48eb 30f0      jr      nc,48ddh
48ed cd4b3a    call    3a4bh
48f0 23        inc     hl
48f1 cd983c    call    3c98h
48f4 eb        ex      de,hl
48f5 e1        pop     hl
48f6 70        ld      (hl),b
48f7 23        inc     hl
48f8 f1        pop     af
48f9 c1        pop     bc
48fa 38d3      jr      c,48cfh
48fc 13        inc     de
48fd 13        inc     de
48fe 3e04      ld      a,04h
4900 1806      jr      4908h
4902 d5        push    de
4903 11ab49    ld      de,49abh
4906 3e05      ld      a,05h
4908 cd6148    call    4861h
490b c5        push    bc
490c f5        push    af
490d e5        push    hl
490e eb        ex      de,hl
490f 4e        ld      c,(hl)
4910 23        inc     hl
4911 46        ld      b,(hl)
4912 c5        push    bc
4913 23        inc     hl
4914 e3        ex      (sp),hl
4915 eb        ex      de,hl
4916 2a2b85    ld      hl,(852bh)
4919 062f      ld      b,2fh
491b 04        inc     b
491c 7d        ld      a,l
491d 93        sub     e
491e 6f        ld      l,a
491f 7c        ld      a,h
4920 9a        sbc     a,d
4921 67        ld      h,a
4922 30f7      jr      nc,491bh
4924 19        add     hl,de
4925 222b85    ld      (852bh),hl
4928 d1        pop     de
4929 e1        pop     hl
492a 70        ld      (hl),b
492b 23        inc     hl
492c f1        pop     af
492d c1        pop     bc
492e 3d        dec     a
492f 20d7      jr      nz,4908h
4931 cd6148    call    4861h
4934 77        ld      (hl),a
4935 d1        pop     de
4936 c9        ret     
4937 00        nop     
4938 00        nop     
4939 00        nop     
493a 00        nop     
493b f9        ld      sp,hl
493c 02        ld      (bc),a
493d 15        dec     d
493e a2        and     d
493f e1        pop     hl
4940 ff        rst     38h
4941 9f        sbc     a,a
4942 31a95f    ld      sp,5fa9h
4945 63        ld      h,e
4946 b2        or      d
4947 feff      cp      0ffh
4949 03        inc     bc
494a bf        cp      a
494b c9        ret     
494c 1b        dec     de
494d 0eb6      ld      c,0b6h
494f 00        nop     
4950 00        nop     
4951 00        nop     
4952 00        nop     
4953 00        nop     
4954 00        nop     
4955 00        nop     
4956 80        add     a,b
4957 00        nop     
4958 00        nop     
4959 04        inc     b
495a bf        cp      a
495b c9        ret     
495c 1b        dec     de
495d 0eb6      ld      c,0b6h
495f 00        nop     
4960 80        add     a,b
4961 c6a4      add     a,0a4h
4963 7e        ld      a,(hl)
4964 8d        adc     a,l
4965 03        inc     bc
4966 00        nop     
4967 40        ld      b,b
4968 7a        ld      a,d
4969 10f3      djnz    495eh
496b 5a        ld      e,d
496c 00        nop     
496d 00        nop     
496e a0        and     b
496f 72        ld      (hl),d
4970 4e        ld      c,(hl)
4971 1809      jr      497ch
4973 00        nop     
4974 00        nop     
4975 10a5      djnz    491ch
4977 d4e800    call    nc,00e8h
497a 00        nop     
497b 00        nop     
497c e8        ret     pe
497d 76        halt    
497e 48        ld      c,b
497f 17        rla     
4980 00        nop     
4981 00        nop     
4982 00        nop     
4983 e40b54    call    po,540bh
4986 02        ld      (bc),a
4987 00        nop     
4988 00        nop     
4989 00        nop     
498a ca9a3b    jp      z,3b9ah
498d 00        nop     
498e 00        nop     
498f 00        nop     
4990 00        nop     
4991 e1        pop     hl
4992 f5        push    af
4993 05        dec     b
4994 00        nop     
4995 00        nop     
4996 00        nop     
4997 80        add     a,b
4998 96        sub     (hl)
4999 98        sbc     a,b
499a 00        nop     
499b 00        nop     
499c 00        nop     
499d 00        nop     
499e 40        ld      b,b
499f 42        ld      b,d
49a0 0f        rrca    
49a1 00        nop     
49a2 00        nop     
49a3 00        nop     
49a4 00        nop     
49a5 a0        and     b
49a6 86        add     a,(hl)
49a7 011027    ld      bc,2710h
49aa 00        nop     
49ab 1027      djnz    49d4h
49ad e8        ret     pe
49ae 03        inc     bc
49af 64        ld      h,h
49b0 00        nop     
49b1 0a        ld      a,(bc)
49b2 00        nop     
49b3 0100af    ld      bc,0af00h
49b6 47        ld      b,a
49b7 c20601    jp      nz,0106h
49ba c5        push    bc
49bb cd5a37    call    375ah
49be c1        pop     bc
49bf 113c85    ld      de,853ch
49c2 d5        push    de
49c3 af        xor     a
49c4 12        ld      (de),a
49c5 05        dec     b
49c6 04        inc     b
49c7 0e06      ld      c,06h
49c9 2808      jr      z,49d3h
49cb 0e04      ld      c,04h
49cd 29        add     hl,hl
49ce 8f        adc     a,a
49cf 29        add     hl,hl
49d0 8f        adc     a,a
49d1 29        add     hl,hl
49d2 8f        adc     a,a
49d3 29        add     hl,hl
49d4 8f        adc     a,a
49d5 b7        or      a
49d6 2009      jr      nz,49e1h
49d8 79        ld      a,c
49d9 3d        dec     a
49da 2805      jr      z,49e1h
49dc 1a        ld      a,(de)
49dd b7        or      a
49de 280c      jr      z,49ech
49e0 af        xor     a
49e1 c630      add     a,30h
49e3 fe3a      cp      3ah
49e5 3802      jr      c,49e9h
49e7 c607      add     a,07h
49e9 12        ld      (de),a
49ea 13        inc     de
49eb 12        ld      (de),a
49ec af        xor     a
49ed 0d        dec     c
49ee 2806      jr      z,49f6h
49f0 05        dec     b
49f1 04        inc     b
49f2 28db      jr      z,49cfh
49f4 18d7      jr      49cdh
49f6 12        ld      (de),a
49f7 e1        pop     hl
49f8 c9        ret     
49f9 21643c    ld      hl,3c64h
49fc e3        ex      (sp),hl
49fd e9        jp      (hl)
49fe cd883c    call    3c88h
4a01 215349    ld      hl,4953h
4a04 cd953c    call    3c95h
4a07 1803      jr      4a0ch
4a09 cdd73d    call    3dd7h
4a0c c1        pop     bc
4a0d d1        pop     de
4a0e 218739    ld      hl,3987h
4a11 e5        push    hl
4a12 3e01      ld      a,01h
4a14 323085    ld      (8530h),a
4a17 cd353c    call    3c35h
4a1a 78        ld      a,b
4a1b ca664a    jp      z,4a66h
4a1e f2254a    jp      p,4a25h
4a21 b7        or      a
4a22 ca2a44    jp      z,442ah
4a25 b7        or      a
4a26 caff39    jp      z,39ffh
4a29 d5        push    de
4a2a c5        push    bc
4a2b 79        ld      a,c
4a2c f67f      or      7fh
4a2e cda33c    call    3ca3h
4a31 f24e4a    jp      p,4a4eh
4a34 f5        push    af
4a35 3a2e85    ld      a,(852eh)
4a38 fe99      cp      99h
4a3a 3803      jr      c,4a3fh
4a3c f1        pop     af
4a3d 180f      jr      4a4eh
4a3f f1        pop     af
4a40 d5        push    de
4a41 c5        push    bc
4a42 cd6e3e    call    3e6eh
4a45 c1        pop     bc
4a46 d1        pop     de
4a47 f5        push    af
4a48 cdf13c    call    3cf1h
4a4b e1        pop     hl
4a4c 7c        ld      a,h
4a4d 1f        rra     
4a4e e1        pop     hl
4a4f 222d85    ld      (852dh),hl
4a52 e1        pop     hl
4a53 222b85    ld      (852bh),hl
4a56 dcf949    call    c,49f9h
4a59 cc643c    call    z,3c64h
4a5c d5        push    de
4a5d c5        push    bc
4a5e cdc03a    call    3ac0h
4a61 c1        pop     bc
4a62 d1        pop     de
4a63 cd053b    call    3b05h
4a66 013881    ld      bc,8138h
4a69 113baa    ld      de,0aa3bh
4a6c cd053b    call    3b05h
4a6f 3a2e85    ld      a,(852eh)
4a72 fe88      cp      88h
4a74 3022      jr      nc,4a98h
4a76 fe68      cp      68h
4a78 3830      jr      c,4aaah
4a7a cd883c    call    3c88h
4a7d cd6e3e    call    3e6eh
4a80 c681      add     a,81h
4a82 2817      jr      z,4a9bh
4a84 c1        pop     bc
4a85 d1        pop     de
4a86 f5        push    af
4a87 cd9939    call    3999h
4a8a 21b34a    ld      hl,4ab3h
4a8d cddf4a    call    4adfh
4a90 c1        pop     bc
4a91 110000    ld      de,0000h
4a94 4a        ld      c,d
4a95 c3053b    jp      3b05h
4a98 cd883c    call    3c88h
4a9b 3a2d85    ld      a,(852dh)
4a9e b7        or      a
4a9f f2a74a    jp      p,4aa7h
4aa2 f1        pop     af
4aa3 f1        pop     af
4aa4 c3fe39    jp      39feh
4aa7 c31144    jp      4411h
4aaa 010081    ld      bc,8100h
4aad 110000    ld      de,0000h
4ab0 c3983c    jp      3c98h
4ab3 07        rlca    
4ab4 7c        ld      a,h
4ab5 88        adc     a,b
4ab6 59        ld      e,c
4ab7 74        ld      (hl),h
4ab8 e0        ret     po
4ab9 97        sub     a
4aba 2677      ld      h,77h
4abc c41d1e    call    nz,1e1dh
4abf 7a        ld      a,d
4ac0 5e        ld      e,(hl)
4ac1 50        ld      d,b
4ac2 63        ld      h,e
4ac3 7c        ld      a,h
4ac4 1a        ld      a,(de)
4ac5 fe75      cp      75h
4ac7 7e        ld      a,(hl)
4ac8 1872      jr      4b3ch
4aca 318000    ld      sp,0080h
4acd 00        nop     
4ace 00        nop     
4acf 81        add     a,c
4ad0 cd883c    call    3c88h
4ad3 11673f    ld      de,3f67h
4ad6 d5        push    de
4ad7 e5        push    hl
4ad8 cda33c    call    3ca3h
4adb cd053b    call    3b05h
4ade e1        pop     hl
4adf cd883c    call    3c88h
4ae2 7e        ld      a,(hl)
4ae3 23        inc     hl
4ae4 cd953c    call    3c95h
4ae7 06f1      ld      b,0f1h
4ae9 c1        pop     bc
4aea d1        pop     de
4aeb 3d        dec     a
4aec c8        ret     z
4aed d5        push    de
4aee c5        push    bc
4aef f5        push    af
4af0 e5        push    hl
4af1 cd053b    call    3b05h
4af4 e1        pop     hl
4af5 cda63c    call    3ca6h
4af8 e5        push    hl
4af9 cd9c39    call    399ch
4afc e1        pop     hl
4afd 18e9      jr      4ae8h
4aff 52        ld      d,d
4b00 c7        rst     00h
4b01 4f        ld      c,a
4b02 80        add     a,b
4b03 cd1a28    call    281ah
4b06 e5        push    hl
4b07 219a3a    ld      hl,3a9ah
4b0a cd953c    call    3c95h
4b0d cd144b    call    4b14h
4b10 e1        pop     hl
4b11 c3193e    jp      3e19h
4b14 cd353c    call    3c35h
4b17 218485    ld      hl,8584h
4b1a fa764b    jp      m,4b76h
4b1d 217e85    ld      hl,857eh
4b20 cd953c    call    3c95h
4b23 218485    ld      hl,8584h
4b26 c8        ret     z
4b27 86        add     a,(hl)
4b28 e607      and     07h
4b2a 0600      ld      b,00h
4b2c 77        ld      (hl),a
4b2d 217d4b    ld      hl,4b7dh
4b30 87        add     a,a
4b31 87        add     a,a
4b32 4f        ld      c,a
4b33 09        add     hl,bc
4b34 cda63c    call    3ca6h
4b37 cd053b    call    3b05h
4b3a 3a8385    ld      a,(8583h)
4b3d 3c        inc     a
4b3e e603      and     03h
4b40 0600      ld      b,00h
4b42 fe01      cp      01h
4b44 88        adc     a,b
4b45 328385    ld      (8583h),a
4b48 21994b    ld      hl,4b99h
4b4b 87        add     a,a
4b4c 87        add     a,a
4b4d 4f        ld      c,a
4b4e 09        add     hl,bc
4b4f cd9139    call    3991h
4b52 cda33c    call    3ca3h
4b55 7b        ld      a,e
4b56 59        ld      e,c
4b57 ee4f      xor     4fh
4b59 4f        ld      c,a
4b5a 3680      ld      (hl),80h
4b5c 2b        dec     hl
4b5d 46        ld      b,(hl)
4b5e 3680      ld      (hl),80h
4b60 218285    ld      hl,8582h
4b63 34        inc     (hl)
4b64 7e        ld      a,(hl)
4b65 d6ab      sub     0abh
4b67 2004      jr      nz,4b6dh
4b69 77        ld      (hl),a
4b6a 0c        inc     c
4b6b 15        dec     d
4b6c 1c        inc     e
4b6d cdeb39    call    39ebh
4b70 217e85    ld      hl,857eh
4b73 c3af3c    jp      3cafh
4b76 77        ld      (hl),a
4b77 2b        dec     hl
4b78 77        ld      (hl),a
4b79 2b        dec     hl
4b7a 77        ld      (hl),a
4b7b 18d5      jr      4b52h
4b7d 35        dec     (hl)
4b7e 4a        ld      c,d
4b7f ca9939    jp      z,3999h
4b82 1c        inc     e
4b83 76        halt    
4b84 98        sbc     a,b
4b85 2295b3    ld      (0b395h),hl
4b88 98        sbc     a,b
4b89 0a        ld      a,(bc)
4b8a dd47      ld      b,a
4b8c 98        sbc     a,b
4b8d 53        ld      d,e
4b8e d1        pop     de
4b8f 99        sbc     a,c
4b90 99        sbc     a,c
4b91 0a        ld      a,(bc)
4b92 1a        ld      a,(de)
4b93 9f        sbc     a,a
4b94 98        sbc     a,b
4b95 65        ld      h,l
4b96 bc        cp      h
4b97 cd98d6    call    0d698h
4b9a 77        ld      (hl),a
4b9b 3e98      ld      a,98h
4b9d 68        ld      l,b
4b9e b1        or      c
4b9f 46        ld      b,(hl)
4ba0 68        ld      l,b
4ba1 99        sbc     a,c
4ba2 e9        jp      (hl)
4ba3 92        sub     d
4ba4 69        ld      l,c
4ba5 10d1      djnz    4b78h
4ba7 75        ld      (hl),l
4ba8 68        ld      l,b
4ba9 212f4c    ld      hl,4c2fh
4bac cd9139    call    3991h
4baf 3a2e85    ld      a,(852eh)
4bb2 fe77      cp      77h
4bb4 d8        ret     c
4bb5 3a2d85    ld      a,(852dh)
4bb8 b7        or      a
4bb9 f2c54b    jp      p,4bc5h
4bbc e67f      and     7fh
4bbe 322d85    ld      (852dh),a
4bc1 11643c    ld      de,3c64h
4bc4 d5        push    de
4bc5 01227e    ld      bc,7e22h
4bc8 1183f9    ld      de,0f983h
4bcb cd053b    call    3b05h
4bce cd883c    call    3c88h
4bd1 cd6e3e    call    3e6eh
4bd4 c1        pop     bc
4bd5 d1        pop     de
4bd6 cd9939    call    3999h
4bd9 01007f    ld      bc,7f00h
4bdc 110000    ld      de,0000h
4bdf cdf13c    call    3cf1h
4be2 fa094c    jp      m,4c09h
4be5 01807f    ld      bc,7f80h
4be8 110000    ld      de,0000h
4beb cd9c39    call    399ch
4bee 018080    ld      bc,8080h
4bf1 110000    ld      de,0000h
4bf4 cd9c39    call    399ch
4bf7 cd353c    call    3c35h
4bfa f4643c    call    p,3c64h
4bfd 01007f    ld      bc,7f00h
4c00 110000    ld      de,0000h
4c03 cd9c39    call    399ch
4c06 cd643c    call    3c64h
4c09 3a2d85    ld      a,(852dh)
4c0c b7        or      a
4c0d f5        push    af
4c0e f2164c    jp      p,4c16h
4c11 ee80      xor     80h
4c13 322d85    ld      (852dh),a
4c16 21374c    ld      hl,4c37h
4c19 cdd04a    call    4ad0h
4c1c f1        pop     af
4c1d f0        ret     p
4c1e 3a2d85    ld      a,(852dh)
4c21 ee80      xor     80h
4c23 322d85    ld      (852dh),a
4c26 c9        ret     
4c27 00        nop     
4c28 00        nop     
4c29 00        nop     
4c2a 00        nop     
4c2b 83        add     a,e
4c2c f9        ld      sp,hl
4c2d 227edb    ld      (0db7eh),hl
4c30 0f        rrca    
4c31 49        ld      c,c
4c32 81        add     a,c
4c33 00        nop     
4c34 00        nop     
4c35 00        nop     
4c36 7f        ld      a,a
4c37 05        dec     b
4c38 fb        ei      
4c39 d7        rst     10h
4c3a 1e86      ld      e,86h
4c3c 65        ld      h,l
4c3d 2699      ld      h,99h
4c3f 87        add     a,a
4c40 58        ld      e,b
4c41 34        inc     (hl)
4c42 23        inc     hl
4c43 87        add     a,a
4c44 e1        pop     hl
4c45 5d        ld      e,l
4c46 a5        and     l
4c47 86        add     a,(hl)
4c48 db0f      in      a,(0fh)
4c4a 49        ld      c,c
4c4b 83        add     a,e
4c4c cd883c    call    3c88h
4c4f cdaf4b    call    4bafh
4c52 c1        pop     bc
4c53 e1        pop     hl
4c54 cd883c    call    3c88h
4c57 eb        ex      de,hl
4c58 cd983c    call    3c98h
4c5b cda94b    call    4ba9h
4c5e c3663b    jp      3b66h
4c61 cd353c    call    3c35h
4c64 fcf949    call    m,49f9h
4c67 fc643c    call    m,3c64h
4c6a 3a2e85    ld      a,(852eh)
4c6d fe81      cp      81h
4c6f 380c      jr      c,4c7dh
4c71 010081    ld      bc,8100h
4c74 51        ld      d,c
4c75 59        ld      e,c
4c76 cd683b    call    3b68h
4c79 219639    ld      hl,3996h
4c7c e5        push    hl
4c7d 21874c    ld      hl,4c87h
4c80 cdd04a    call    4ad0h
4c83 212f4c    ld      hl,4c2fh
4c86 c9        ret     
4c87 09        add     hl,bc
4c88 4a        ld      c,d
4c89 d7        rst     10h
4c8a 3b        dec     sp
4c8b 78        ld      a,b
4c8c 02        ld      (bc),a
4c8d 6e        ld      l,(hl)
4c8e 84        add     a,h
4c8f 7b        ld      a,e
4c90 fec1      cp      0c1h
4c92 2f        cpl     
4c93 7c        ld      a,h
4c94 74        ld      (hl),h
4c95 319a7d    ld      sp,7d9ah
4c98 84        add     a,h
4c99 3d        dec     a
4c9a 5a        ld      e,d
4c9b 7d        ld      a,l
4c9c c8        ret     z
4c9d 7f        ld      a,a
4c9e 91        sub     c
4c9f 7e        ld      a,(hl)
4ca0 e4bb4c    call    po,4cbbh
4ca3 7e        ld      a,(hl)
4ca4 6c        ld      l,h
4ca5 aa        xor     d
4ca6 aa        xor     d
4ca7 7f        ld      a,a
4ca8 00        nop     
4ca9 00        nop     
4caa 00        nop     
4cab 81        add     a,c
4cac 50        ld      d,b
4cad 59        ld      e,c
4cae 13        inc     de
4caf 212700    ld      hl,0027h
4cb2 09        add     hl,bc
4cb3 c5        push    bc
4cb4 af        xor     a
4cb5 77        ld      (hl),a
4cb6 cd5d4e    call    4e5dh
4cb9 3a4881    ld      a,(8148h)
4cbc cd0150    call    5001h
4cbf feff      cp      0ffh
4cc1 ca1b22    jp      z,221bh
4cc4 3d        dec     a
4cc5 cafd21    jp      z,21fdh
4cc8 3d        dec     a
4cc9 200c      jr      nz,4cd7h
4ccb d1        pop     de
4ccc af        xor     a
4ccd 12        ld      (de),a
4cce 0e10      ld      c,10h
4cd0 13        inc     de
4cd1 cd1880    call    8018h
4cd4 c3fa21    jp      21fah
4cd7 3c        inc     a
4cd8 ca1b22    jp      z,221bh
4cdb c1        pop     bc
4cdc 212500    ld      hl,0025h
4cdf 09        add     hl,bc
4ce0 5e        ld      e,(hl)
4ce1 23        inc     hl
4ce2 56        ld      d,(hl)
4ce3 13        inc     de
4ce4 72        ld      (hl),d
4ce5 2b        dec     hl
4ce6 73        ld      (hl),e
4ce7 c9        ret     
4ce8 cd5950    call    5059h
4ceb 2829      jr      z,4d16h
4ced c5        push    bc
4cee 0a        ld      a,(bc)
4cef 50        ld      d,b
4cf0 59        ld      e,c
4cf1 13        inc     de
4cf2 d5        push    de
4cf3 fe02      cp      02h
4cf5 2015      jr      nz,4d0ch
4cf7 21034d    ld      hl,4d03h
4cfa e5        push    hl
4cfb e5        push    hl
4cfc 60        ld      h,b
4cfd 69        ld      l,c
4cfe 3e1a      ld      a,1ah
4d00 c3324d    jp      4d32h
4d03 212700    ld      hl,0027h
4d06 09        add     hl,bc
4d07 7e        ld      a,(hl)
4d08 b7        or      a
4d09 c4af4c    call    nz,4cafh
4d0c d1        pop     de
4d0d cd5d4e    call    4e5dh
4d10 0e10      ld      c,10h
4d12 cd1880    call    8018h
4d15 c1        pop     bc
4d16 1629      ld      d,29h
4d18 af        xor     a
4d19 02        ld      (bc),a
4d1a 03        inc     bc
4d1b 15        dec     d
4d1c 20fb      jr      nz,4d19h
4d1e c9        ret     
4d1f e1        pop     hl
4d20 f1        pop     af
4d21 e5        push    hl
4d22 f5        push    af
4d23 2a3b80    ld      hl,(803bh)
4d26 7e        ld      a,(hl)
4d27 fe01      cp      01h
4d29 caca60    jp      z,60cah
4d2c fe03      cp      03h
4d2e cad356    jp      z,56d3h
4d31 f1        pop     af
4d32 d5        push    de
4d33 c5        push    bc
4d34 44        ld      b,h
4d35 4d        ld      c,l
4d36 f5        push    af
4d37 112700    ld      de,0027h
4d3a 19        add     hl,de
4d3b 7e        ld      a,(hl)
4d3c fe80      cp      80h
4d3e e5        push    hl
4d3f ccac4c    call    z,4cach
4d42 e1        pop     hl
4d43 34        inc     (hl)
4d44 4e        ld      c,(hl)
4d45 0600      ld      b,00h
4d47 23        inc     hl
4d48 f1        pop     af
4d49 f5        push    af
4d4a 56        ld      d,(hl)
4d4b fe0d      cp      0dh
4d4d 70        ld      (hl),b
4d4e 2805      jr      z,4d55h
4d50 c6e0      add     a,0e0h
4d52 7a        ld      a,d
4d53 88        adc     a,b
4d54 77        ld      (hl),a
4d55 09        add     hl,bc
4d56 f1        pop     af
4d57 c1        pop     bc
4d58 d1        pop     de
4d59 77        ld      (hl),a
4d5a e1        pop     hl
4d5b c9        ret     
4d5c 1b        dec     de
4d5d 2b        dec     hl
4d5e 73        ld      (hl),e
4d5f 23        inc     hl
4d60 72        ld      (hl),d
4d61 23        inc     hl
4d62 3680      ld      (hl),80h
4d64 23        inc     hl
4d65 3680      ld      (hl),80h
4d67 e1        pop     hl
4d68 e3        ex      (sp),hl
4d69 44        ld      b,h
4d6a 4d        ld      c,l
4d6b e5        push    hl
4d6c 3a4681    ld      a,(8146h)
4d6f b7        or      a
4d70 280c      jr      z,4d7eh
4d72 212200    ld      hl,0022h
4d75 09        add     hl,bc
4d76 73        ld      (hl),e
4d77 23        inc     hl
4d78 72        ld      (hl),d
4d79 23        inc     hl
4d7a 3600      ld      (hl),00h
4d7c 1843      jr      4dc1h
4d7e 210d00    ld      hl,000dh
4d81 09        add     hl,bc
4d82 7b        ld      a,e
4d83 17        rla     
4d84 7a        ld      a,d
4d85 17        rla     
4d86 56        ld      d,(hl)
4d87 ba        cp      d
4d88 282f      jr      z,4db9h
4d8a d5        push    de
4d8b f5        push    af
4d8c e5        push    hl
4d8d c5        push    bc
4d8e 119580    ld      de,8095h
4d91 0e1a      ld      c,1ah
4d93 cd1880    call    8018h
4d96 d1        pop     de
4d97 d5        push    de
4d98 13        inc     de
4d99 0e10      ld      c,10h
4d9b cd1880    call    8018h
4d9e d1        pop     de
4d9f e1        pop     hl
4da0 f1        pop     af
4da1 77        ld      (hl),a
4da2 d5        push    de
4da3 13        inc     de
4da4 0e0f      ld      c,0fh
4da6 d5        push    de
4da7 cd1880    call    8018h
4daa d1        pop     de
4dab 3c        inc     a
4dac 2009      jr      nz,4db7h
4dae 0e16      ld      c,16h
4db0 cd1880    call    8018h
4db3 3c        inc     a
4db4 ca1b22    jp      z,221bh
4db7 c1        pop     bc
4db8 d1        pop     de
4db9 212100    ld      hl,0021h
4dbc 09        add     hl,bc
4dbd 7b        ld      a,e
4dbe e67f      and     7fh
4dc0 77        ld      (hl),a
4dc1 e1        pop     hl
4dc2 3a4780    ld      a,(8047h)
4dc5 b7        or      a
4dc6 2005      jr      nz,4dcdh
4dc8 cd2b4e    call    4e2bh
4dcb e1        pop     hl
4dcc c9        ret     
4dcd 212100    ld      hl,0021h
4dd0 09        add     hl,bc
4dd1 7e        ld      a,(hl)
4dd2 fe7f      cp      7fh
4dd4 f5        push    af
4dd5 119580    ld      de,8095h
4dd8 212900    ld      hl,0029h
4ddb 09        add     hl,bc
4ddc d5        push    de
4ddd e5        push    hl
4dde ccee4d    call    z,4deeh
4de1 cdac4c    call    4cach
4de4 d1        pop     de
4de5 e1        pop     hl
4de6 f1        pop     af
4de7 ccee4d    call    z,4deeh
4dea e1        pop     hl
4deb c3d22c    jp      2cd2h
4dee c5        push    bc
4def 0680      ld      b,80h
4df1 7e        ld      a,(hl)
4df2 23        inc     hl
4df3 12        ld      (de),a
4df4 13        inc     de
4df5 10fa      djnz    4df1h
4df7 c1        pop     bc
4df8 c9        ret     
4df9 c5        push    bc
4dfa e5        push    hl
4dfb 2a3b80    ld      hl,(803bh)
4dfe 7e        ld      a,(hl)
4dff fe03      cp      03h
4e01 ca0257    jp      z,5702h
4e04 012800    ld      bc,0028h
4e07 09        add     hl,bc
4e08 7e        ld      a,(hl)
4e09 b7        or      a
4e0a 280c      jr      z,4e18h
4e0c 2b        dec     hl
4e0d 7e        ld      a,(hl)
4e0e 23        inc     hl
4e0f 35        dec     (hl)
4e10 96        sub     (hl)
4e11 4f        ld      c,a
4e12 09        add     hl,bc
4e13 7e        ld      a,(hl)
4e14 b7        or      a
4e15 e1        pop     hl
4e16 c1        pop     bc
4e17 c9        ret     
4e18 2b        dec     hl
4e19 7e        ld      a,(hl)
4e1a b7        or      a
4e1b 2805      jr      z,4e22h
4e1d cd284e    call    4e28h
4e20 20d9      jr      nz,4dfbh
4e22 37        scf     
4e23 e1        pop     hl
4e24 c1        pop     bc
4e25 3e1a      ld      a,1ah
4e27 c9        ret     
4e28 2a3b80    ld      hl,(803bh)
4e2b d5        push    de
4e2c 54        ld      d,h
4e2d 5d        ld      e,l
4e2e 13        inc     de
4e2f 012500    ld      bc,0025h
4e32 09        add     hl,bc
4e33 4e        ld      c,(hl)
4e34 23        inc     hl
4e35 46        ld      b,(hl)
4e36 03        inc     bc
4e37 2b        dec     hl
4e38 71        ld      (hl),c
4e39 23        inc     hl
4e3a 70        ld      (hl),b
4e3b 23        inc     hl
4e3c 23        inc     hl
4e3d e5        push    hl
4e3e 0e80      ld      c,80h
4e40 23        inc     hl
4e41 3600      ld      (hl),00h
4e43 0d        dec     c
4e44 20fa      jr      nz,4e40h
4e46 cd5d4e    call    4e5dh
4e49 3a4781    ld      a,(8147h)
4e4c cd0150    call    5001h
4e4f b7        or      a
4e50 3e00      ld      a,00h
4e52 2002      jr      nz,4e56h
4e54 3e80      ld      a,80h
4e56 e1        pop     hl
4e57 77        ld      (hl),a
4e58 2b        dec     hl
4e59 77        ld      (hl),a
4e5a b7        or      a
4e5b d1        pop     de
4e5c c9        ret     
4e5d c5        push    bc
4e5e d5        push    de
4e5f e5        push    hl
4e60 212800    ld      hl,0028h
4e63 19        add     hl,de
4e64 eb        ex      de,hl
4e65 0e1a      ld      c,1ah
4e67 cd1880    call    8018h
4e6a e1        pop     hl
4e6b d1        pop     de
4e6c c1        pop     bc
4e6d c9        ret     
4e6e cdf94d    call    4df9h
4e71 d8        ret     c
4e72 fe1a      cp      1ah
4e74 37        scf     
4e75 3f        ccf     
4e76 c0        ret     nz
4e77 c5        push    bc
4e78 e5        push    hl
4e79 2a3b80    ld      hl,(803bh)
4e7c 012700    ld      bc,0027h
4e7f 09        add     hl,bc
4e80 3600      ld      (hl),00h
4e82 23        inc     hl
4e83 3600      ld      (hl),00h
4e85 37        scf     
4e86 e1        pop     hl
4e87 c1        pop     bc
4e88 c9        ret     
4e89 cdd32e    call    2ed3h
4e8c e5        push    hl
4e8d cd4864    call    6448h
4e90 7e        ld      a,(hl)
4e91 b7        or      a
4e92 ca1222    jp      z,2212h
4e95 f5        push    af
4e96 23        inc     hl
4e97 5e        ld      e,(hl)
4e98 23        inc     hl
4e99 66        ld      h,(hl)
4e9a 6b        ld      l,e
4e9b 5f        ld      e,a
4e9c fe02      cp      02h
4e9e 380a      jr      c,4eaah
4ea0 4e        ld      c,(hl)
4ea1 23        inc     hl
4ea2 7e        ld      a,(hl)
4ea3 1d        dec     e
4ea4 fe3a      cp      3ah
4ea6 2806      jr      z,4eaeh
4ea8 2b        dec     hl
4ea9 1c        inc     e
4eaa 2b        dec     hl
4eab 1c        inc     e
4eac 0e40      ld      c,40h
4eae 1d        dec     e
4eaf 2855      jr      z,4f06h
4eb1 79        ld      a,c
4eb2 e6df      and     0dfh
4eb4 d640      sub     40h
4eb6 384e      jr      c,4f06h
4eb8 fe1b      cp      1bh
4eba 304a      jr      nc,4f06h
4ebc 012581    ld      bc,8125h
4ebf 02        ld      (bc),a
4ec0 03        inc     bc
4ec1 160b      ld      d,0bh
4ec3 23        inc     hl
4ec4 1d        dec     e
4ec5 faf94e    jp      m,4ef9h
4ec8 7e        ld      a,(hl)
4ec9 fe2e      cp      2eh
4ecb 2008      jr      nz,4ed5h
4ecd cde84e    call    4ee8h
4ed0 f1        pop     af
4ed1 37        scf     
4ed2 f5        push    af
4ed3 18ee      jr      4ec3h
4ed5 02        ld      (bc),a
4ed6 03        inc     bc
4ed7 23        inc     hl
4ed8 15        dec     d
4ed9 20e9      jr      nz,4ec4h
4edb 213181    ld      hl,8131h
4ede 0615      ld      b,15h
4ee0 3600      ld      (hl),00h
4ee2 23        inc     hl
4ee3 10fb      djnz    4ee0h
4ee5 f1        pop     af
4ee6 e1        pop     hl
4ee7 c9        ret     
4ee8 7a        ld      a,d
4ee9 fe0b      cp      0bh
4eeb 2819      jr      z,4f06h
4eed fe03      cp      03h
4eef 3815      jr      c,4f06h
4ef1 c8        ret     z
4ef2 3e20      ld      a,20h
4ef4 02        ld      (bc),a
4ef5 03        inc     bc
4ef6 15        dec     d
4ef7 18ef      jr      4ee8h
4ef9 14        inc     d
4efa 15        dec     d
4efb 28de      jr      z,4edbh
4efd 3e20      ld      a,20h
4eff 02        ld      (bc),a
4f00 03        inc     bc
4f01 15        dec     d
4f02 20f9      jr      nz,4efdh
4f04 18d5      jr      4edbh
4f06 c31222    jp      2212h
4f09 01d22c    ld      bc,2cd2h
4f0c c5        push    bc
4f0d cdd32e    call    2ed3h
4f10 e5        push    hl
4f11 cd4864    call    6448h
4f14 7e        ld      a,(hl)
4f15 b7        or      a
4f16 ca0022    jp      z,2200h
4f19 23        inc     hl
4f1a 4e        ld      c,(hl)
4f1b 23        inc     hl
4f1c 46        ld      b,(hl)
4f1d 0a        ld      a,(bc)
4f1e e6df      and     0dfh
4f20 1602      ld      d,02h
4f22 fe4f      cp      4fh
4f24 280d      jr      z,4f33h
4f26 1601      ld      d,01h
4f28 fe49      cp      49h
4f2a 2807      jr      z,4f33h
4f2c 1603      ld      d,03h
4f2e fe52      cp      52h
4f30 c20022    jp      nz,2200h
4f33 e1        pop     hl
4f34 cda85f    call    5fa8h
4f37 2c        inc     l
4f38 d5        push    de
4f39 fe23      cp      23h
4f3b cc1a28    call    z,281ah
4f3e cd0a35    call    350ah
4f41 cda85f    call    5fa8h
4f44 2c        inc     l
4f45 7b        ld      a,e
4f46 b7        or      a
4f47 ca0622    jp      z,2206h
4f4a d1        pop     de
4f4b 5f        ld      e,a
4f4c d5        push    de
4f4d cd5950    call    5059h
4f50 c20f22    jp      nz,220fh
4f53 d1        pop     de
4f54 c5        push    bc
4f55 d5        push    de
4f56 cd894e    call    4e89h
4f59 d1        pop     de
4f5a c1        pop     bc
4f5b c5        push    bc
4f5c f5        push    af
4f5d 7a        ld      a,d
4f5e cd5855    call    5558h
4f61 f1        pop     af
4f62 22ce83    ld      (83ceh),hl
4f65 3814      jr      c,4f7bh
4f67 7b        ld      a,e
4f68 b7        or      a
4f69 2010      jr      nz,4f7bh
4f6b 212e81    ld      hl,812eh
4f6e 7e        ld      a,(hl)
4f6f fe20      cp      20h
4f71 2008      jr      nz,4f7bh
4f73 3642      ld      (hl),42h
4f75 23        inc     hl
4f76 3641      ld      (hl),41h
4f78 23        inc     hl
4f79 3653      ld      (hl),53h
4f7b e1        pop     hl
4f7c 7a        ld      a,d
4f7d f5        push    af
4f7e 223b80    ld      (803bh),hl
4f81 e5        push    hl
4f82 23        inc     hl
4f83 112581    ld      de,8125h
4f86 0e0c      ld      c,0ch
4f88 1a        ld      a,(de)
4f89 77        ld      (hl),a
4f8a 13        inc     de
4f8b 23        inc     hl
4f8c 0d        dec     c
4f8d 20f9      jr      nz,4f88h
4f8f af        xor     a
4f90 77        ld      (hl),a
4f91 111400    ld      de,0014h
4f94 19        add     hl,de
4f95 77        ld      (hl),a
4f96 d1        pop     de
4f97 d5        push    de
4f98 13        inc     de
4f99 cd5d4e    call    4e5dh
4f9c e1        pop     hl
4f9d f1        pop     af
4f9e f5        push    af
4f9f e5        push    hl
4fa0 fe02      cp      02h
4fa2 2012      jr      nz,4fb6h
4fa4 d5        push    de
4fa5 0e13      ld      c,13h
4fa7 cd1880    call    8018h
4faa d1        pop     de
4fab 0e16      ld      c,16h
4fad cd1880    call    8018h
4fb0 3c        inc     a
4fb1 ca1b22    jp      z,221bh
4fb4 1814      jr      4fcah
4fb6 0e0f      ld      c,0fh
4fb8 cd1880    call    8018h
4fbb 3c        inc     a
4fbc 200c      jr      nz,4fcah
4fbe d1        pop     de
4fbf f1        pop     af
4fc0 f5        push    af
4fc1 d5        push    de
4fc2 fe03      cp      03h
4fc4 c20322    jp      nz,2203h
4fc7 13        inc     de
4fc8 18e1      jr      4fabh
4fca d1        pop     de
4fcb f1        pop     af
4fcc 12        ld      (de),a
4fcd d5        push    de
4fce 212500    ld      hl,0025h
4fd1 19        add     hl,de
4fd2 af        xor     a
4fd3 77        ld      (hl),a
4fd4 23        inc     hl
4fd5 77        ld      (hl),a
4fd6 23        inc     hl
4fd7 77        ld      (hl),a
4fd8 23        inc     hl
4fd9 77        ld      (hl),a
4fda e1        pop     hl
4fdb 7e        ld      a,(hl)
4fdc fe03      cp      03h
4fde 280c      jr      z,4fech
4fe0 fe01      cp      01h
4fe2 c29e5f    jp      nz,5f9eh
4fe5 cd284e    call    4e28h
4fe8 2ace83    ld      hl,(83ceh)
4feb c9        ret     
4fec 012900    ld      bc,0029h
4fef 09        add     hl,bc
4ff0 0e80      ld      c,80h
4ff2 70        ld      (hl),b
4ff3 23        inc     hl
4ff4 0d        dec     c
4ff5 20fb      jr      nz,4ff2h
4ff7 c39e5f    jp      5f9eh
4ffa c0        ret     nz
4ffb cd0653    call    5306h
4ffe c31580    jp      8015h
5001 d5        push    de
5002 4f        ld      c,a
5003 c5        push    bc
5004 cd1880    call    8018h
5007 c1        pop     bc
5008 d1        pop     de
5009 f5        push    af
500a 212100    ld      hl,0021h
500d 19        add     hl,de
500e 34        inc     (hl)
500f 2006      jr      nz,5017h
5011 23        inc     hl
5012 34        inc     (hl)
5013 2002      jr      nz,5017h
5015 23        inc     hl
5016 34        inc     (hl)
5017 79        ld      a,c
5018 fe22      cp      22h
501a 200f      jr      nz,502bh
501c f1        pop     af
501d b7        or      a
501e c8        ret     z
501f fe05      cp      05h
5021 ca1b22    jp      z,221bh
5024 fe03      cp      03h
5026 3e01      ld      a,01h
5028 c8        ret     z
5029 3c        inc     a
502a c9        ret     
502b f1        pop     af
502c c9        ret     
502d 0e01      ld      c,01h
502f fe23      cp      23h
5031 c0        ret     nz
5032 c5        push    bc
5033 cd4a50    call    504ah
5036 d1        pop     de
5037 bb        cp      e
5038 2805      jr      z,503fh
503a fe03      cp      03h
503c c20022    jp      nz,2200h
503f cda85f    call    5fa8h
5042 2c        inc     l
5043 50        ld      d,b
5044 59        ld      e,c
5045 ed533b80  ld      (803bh),de
5049 c9        ret     
504a 2b        dec     hl
504b cd1a28    call    281ah
504e fe23      cp      23h
5050 cc1a28    call    z,281ah
5053 cdd32e    call    2ed3h
5056 cd0d35    call    350dh
5059 5f        ld      e,a
505a 3a6b80    ld      a,(806bh)
505d bb        cp      e
505e da0622    jp      c,2206h
5061 1600      ld      d,00h
5063 e5        push    hl
5064 214b80    ld      hl,804bh
5067 19        add     hl,de
5068 19        add     hl,de
5069 4e        ld      c,(hl)
506a 23        inc     hl
506b 46        ld      b,(hl)
506c 0a        ld      a,(bc)
506d b7        or      a
506e e1        pop     hl
506f c9        ret     
5070 cd5a50    call    505ah
5073 212900    ld      hl,0029h
5076 fe03      cp      03h
5078 2003      jr      nz,507dh
507a 21b200    ld      hl,00b2h
507d 09        add     hl,bc
507e eb        ex      de,hl
507f c9        ret     
5080 3e02      ld      a,02h
5082 013e04    ld      bc,043eh
5085 013e08    ld      bc,083eh
5088 f5        push    af
5089 cd4434    call    3444h
508c f1        pop     af
508d cd6f62    call    626fh
5090 2ac083    ld      hl,(83c0h)
5093 cde23c    call    3ce2h
5096 c39e64    jp      649eh
5099 3e01      ld      a,01h
509b 013e03    ld      bc,033eh
509e 013e07    ld      bc,073eh
50a1 f5        push    af
50a2 cd4864    call    6448h
50a5 f1        pop     af
50a6 be        cp      (hl)
50a7 d21c29    jp      nc,291ch
50aa 3c        inc     a
50ab 328e83    ld      (838eh),a
50ae 23        inc     hl
50af 7e        ld      a,(hl)
50b0 23        inc     hl
50b1 66        ld      h,(hl)
50b2 6f        ld      l,a
50b3 c3da3c    jp      3cdah
50b6 cd0f32    call    320fh
50b9 01642e    ld      bc,2e64h
50bc 11202c    ld      de,2c20h
50bf 2017      jr      nz,50d8h
50c1 5a        ld      e,d
50c2 1814      jr      50d8h
50c4 cd2d50    call    502dh
50c7 cdb759    call    59b7h
50ca cd1d3e    call    3e1dh
50cd 01d22c    ld      bc,2cd2h
50d0 c5        push    bc
50d1 d5        push    de
50d2 010c2a    ld      bc,2a0ch
50d5 af        xor     a
50d6 57        ld      d,a
50d7 5f        ld      e,a
50d8 f5        push    af
50d9 c5        push    bc
50da e5        push    hl
50db cd6e4e    call    4e6eh
50de da0c22    jp      c,220ch
50e1 fe20      cp      20h
50e3 2004      jr      nz,50e9h
50e5 14        inc     d
50e6 15        dec     d
50e7 20f2      jr      nz,50dbh
50e9 fe22      cp      22h
50eb 200e      jr      nz,50fbh
50ed 7b        ld      a,e
50ee fe2c      cp      2ch
50f0 3e22      ld      a,22h
50f2 2007      jr      nz,50fbh
50f4 57        ld      d,a
50f5 5f        ld      e,a
50f6 cd6e4e    call    4e6eh
50f9 3843      jr      c,513eh
50fb 218982    ld      hl,8289h
50fe 06ff      ld      b,0ffh
5100 4f        ld      c,a
5101 7a        ld      a,d
5102 fe22      cp      22h
5104 79        ld      a,c
5105 2826      jr      z,512dh
5107 fe0d      cp      0dh
5109 e5        push    hl
510a 284d      jr      z,5159h
510c e1        pop     hl
510d fe0a      cp      0ah
510f 201c      jr      nz,512dh
5111 4f        ld      c,a
5112 7b        ld      a,e
5113 fe36      cp      36h
5115 79        ld      a,c
5116 c48f51    call    nz,518fh
5119 cd6e4e    call    4e6eh
511c 3820      jr      c,513eh
511e fe0d      cp      0dh
5120 200b      jr      nz,512dh
5122 7b        ld      a,e
5123 fe20      cp      20h
5125 2812      jr      z,5139h
5127 fe2c      cp      2ch
5129 3e0d      ld      a,0dh
512b 280c      jr      z,5139h
512d b7        or      a
512e 2809      jr      z,5139h
5130 ba        cp      d
5131 280b      jr      z,513eh
5133 bb        cp      e
5134 2808      jr      z,513eh
5136 cd8f51    call    518fh
5139 cd6e4e    call    4e6eh
513c 30c2      jr      nc,5100h
513e e5        push    hl
513f fe22      cp      22h
5141 2804      jr      z,5147h
5143 fe20      cp      20h
5145 2023      jr      nz,516ah
5147 cd6e4e    call    4e6eh
514a 381e      jr      c,516ah
514c fe20      cp      20h
514e 28f7      jr      z,5147h
5150 fe2c      cp      2ch
5152 ca6a51    jp      z,516ah
5155 fe0d      cp      0dh
5157 2009      jr      nz,5162h
5159 cd6e4e    call    4e6eh
515c 380c      jr      c,516ah
515e fe0a      cp      0ah
5160 2808      jr      z,516ah
5162 2a3b80    ld      hl,(803bh)
5165 012800    ld      bc,0028h
5168 09        add     hl,bc
5169 34        inc     (hl)
516a e1        pop     hl
516b 3600      ld      (hl),00h
516d 218882    ld      hl,8288h
5170 7b        ld      a,e
5171 d620      sub     20h
5173 2808      jr      z,517dh
5175 42        ld      b,d
5176 1600      ld      d,00h
5178 cd8162    call    6281h
517b e1        pop     hl
517c c9        ret     
517d cd0f32    call    320fh
5180 f5        push    af
5181 cd1a28    call    281ah
5184 f1        pop     af
5185 f5        push    af
5186 dc8442    call    c,4284h
5189 f1        pop     af
518a d47d42    call    nc,427dh
518d e1        pop     hl
518e c9        ret     
518f b7        or      a
5190 c8        ret     z
5191 77        ld      (hl),a
5192 23        inc     hl
5193 05        dec     b
5194 c0        ret     nz
5195 c1        pop     bc
5196 18d3      jr      516bh
5198 1601      ld      d,01h
519a af        xor     a
519b c34b4f    jp      4f4bh
519e f6af      or      0afh
51a0 f5        push    af
51a1 cd9851    call    5198h
51a4 3a6b80    ld      a,(806bh)
51a7 324680    ld      (8046h),a
51aa 2b        dec     hl
51ab cd1a28    call    281ah
51ae 2811      jr      z,51c1h
51b0 cda85f    call    5fa8h
51b3 2c        inc     l
51b4 cda85f    call    5fa8h
51b7 52        ld      d,d
51b8 c22822    jp      nz,2228h
51bb f1        pop     af
51bc af        xor     a
51bd 326b80    ld      (806bh),a
51c0 f6f1      or      0f1h
51c2 324580    ld      (8045h),a
51c5 219580    ld      hl,8095h
51c8 3600      ld      (hl),00h
51ca 224b80    ld      (804bh),hl
51cd cdfa5e    call    5efah
51d0 3a4680    ld      a,(8046h)
51d3 326b80    ld      (806bh),a
51d6 2a4980    ld      hl,(8049h)
51d9 224b80    ld      (804bh),hl
51dc 223b80    ld      (803bh),hl
51df 2a3f80    ld      hl,(803fh)
51e2 23        inc     hl
51e3 7c        ld      a,h
51e4 a5        and     l
51e5 3c        inc     a
51e6 2003      jr      nz,51ebh
51e8 223f80    ld      (803fh),hl
51eb cd6e4e    call    4e6eh
51ee daef22    jp      c,22efh
51f1 fefe      cp      0feh
51f3 2005      jr      nz,51fah
51f5 321385    ld      (8513h),a
51f8 1804      jr      51feh
51fa 3c        inc     a
51fb c27c52    jp      nz,527ch
51fe 2a4180    ld      hl,(8041h)
5201 eb        ex      de,hl
5202 2ac283    ld      hl,(83c2h)
5205 01aaff    ld      bc,0ffaah
5208 09        add     hl,bc
5209 cda25f    call    5fa2h
520c eb        ex      de,hl
520d 3845      jr      c,5254h
520f cdf94d    call    4df9h
5212 77        ld      (hl),a
5213 23        inc     hl
5214 30eb      jr      nc,5201h
5216 22e983    ld      (83e9h),hl
5219 3a1385    ld      a,(8513h)
521c b7        or      a
521d c48957    call    nz,5789h
5220 cdf223    call    23f2h
5223 23        inc     hl
5224 23        inc     hl
5225 22e983    ld      (83e9h),hl
5228 216b80    ld      hl,806bh
522b 7e        ld      a,(hl)
522c 324680    ld      (8046h),a
522f 3600      ld      (hl),00h
5231 cd105f    call    5f10h
5234 3a4680    ld      a,(8046h)
5237 326b80    ld      (806bh),a
523a 3a1a85    ld      a,(851ah)
523d b7        or      a
523e c28d54    jp      nz,548dh
5241 3a4580    ld      a,(8045h)
5244 b7        or      a
5245 cadc22    jp      z,22dch
5248 c3b427    jp      27b4h
524b cdd22c    call    2cd2h
524e cde84c    call    4ce8h
5251 c39e5f    jp      5f9eh
5254 cdfa5e    call    5efah
5257 c3b35e    jp      5eb3h
525a c1        pop     bc
525b cd9851    call    5198h
525e 2b        dec     hl
525f cd1a28    call    281ah
5262 2806      jr      z,526ah
5264 cd4b52    call    524bh
5267 c32822    jp      2228h
526a af        xor     a
526b 324580    ld      (8045h),a
526e cd6e4e    call    4e6eh
5271 daef22    jp      c,22efh
5274 3c        inc     a
5275 ca0022    jp      z,2200h
5278 3c        inc     a
5279 ca0022    jp      z,2200h
527c 2a3b80    ld      hl,(803bh)
527f 012800    ld      bc,0028h
5282 09        add     hl,bc
5283 34        inc     (hl)
5284 c3ef22    jp      22efh
5287 e5        push    hl
5288 2a3b80    ld      hl,(803bh)
528b 7c        ld      a,h
528c b5        or      l
528d 114200    ld      de,0042h
5290 c24222    jp      nz,2242h
5293 e1        pop     hl
5294 c3f727    jp      27f7h
5297 1602      ld      d,02h
5299 cd9a51    call    519ah
529c 2b        dec     hl
529d cd1a28    call    281ah
52a0 2810      jr      z,52b2h
52a2 cda85f    call    5fa8h
52a5 2c        inc     l
52a6 fe50      cp      50h
52a8 ca3b57    jp      z,573bh
52ab cda85f    call    5fa8h
52ae 41        ld      b,c
52af c31e35    jp      351eh
52b2 cd0838    call    3808h
52b5 cdc857    call    57c8h
52b8 3eff      ld      a,0ffh
52ba cd214d    call    4d21h
52bd ed5be983  ld      de,(83e9h)
52c1 2a4180    ld      hl,(8041h)
52c4 cda25f    call    5fa2h
52c7 ca4b52    jp      z,524bh
52ca 7e        ld      a,(hl)
52cb 23        inc     hl
52cc d5        push    de
52cd cd214d    call    4d21h
52d0 d1        pop     de
52d1 18f1      jr      52c4h
52d3 01e84c    ld      bc,4ce8h
52d6 3a6b80    ld      a,(806bh)
52d9 201a      jr      nz,52f5h
52db e5        push    hl
52dc c5        push    bc
52dd f5        push    af
52de 11e452    ld      de,52e4h
52e1 d5        push    de
52e2 c5        push    bc
52e3 c9        ret     
52e4 f1        pop     af
52e5 c1        pop     bc
52e6 3d        dec     a
52e7 f2dc52    jp      p,52dch
52ea e1        pop     hl
52eb c9        ret     
52ec c1        pop     bc
52ed e1        pop     hl
52ee 7e        ld      a,(hl)
52ef fe2c      cp      2ch
52f1 c0        ret     nz
52f2 cd1a28    call    281ah
52f5 c5        push    bc
52f6 7e        ld      a,(hl)
52f7 fe23      cp      23h
52f9 cc1a28    call    z,281ah
52fc cd0a35    call    350ah
52ff e3        ex      (sp),hl
5300 e5        push    hl
5301 11ec52    ld      de,52ech
5304 d5        push    de
5305 e9        jp      (hl)
5306 d5        push    de
5307 c5        push    bc
5308 af        xor     a
5309 cdd352    call    52d3h
530c c1        pop     bc
530d d1        pop     de
530e af        xor     a
530f c9        ret     
5310 cd1a28    call    281ah
5313 cda85f    call    5fa8h
5316 24        inc     h
5317 cda85f    call    5fa8h
531a 28e5      jr      z,5301h
531c 2a3b80    ld      hl,(803bh)
531f 110000    ld      de,0000h
5322 ed533b80  ld      (803bh),de
5326 e3        ex      (sp),hl
5327 cd0a35    call    350ah
532a d5        push    de
532b 7e        ld      a,(hl)
532c fe2c      cp      2ch
532e 200f      jr      nz,533fh
5330 cd1a28    call    281ah
5333 cd4a50    call    504ah
5336 fe02      cp      02h
5338 ca0022    jp      z,2200h
533b cd4350    call    5043h
533e af        xor     a
533f f5        push    af
5340 cda85f    call    5fa8h
5343 29        add     hl,hl
5344 f1        pop     af
5345 e3        ex      (sp),hl
5346 f5        push    af
5347 7d        ld      a,l
5348 b7        or      a
5349 ca1c29    jp      z,291ch
534c e5        push    hl
534d cd6f62    call    626fh
5350 eb        ex      de,hl
5351 c1        pop     bc
5352 f1        pop     af
5353 f5        push    af
5354 2822      jr      z,5378h
5356 cd8c59    call    598ch
5359 2003      jr      nz,535eh
535b cdf058    call    58f0h
535e fe03      cp      03h
5360 280f      jr      z,5371h
5362 77        ld      (hl),a
5363 23        inc     hl
5364 0d        dec     c
5365 20eb      jr      nz,5352h
5367 f1        pop     af
5368 c1        pop     bc
5369 e1        pop     hl
536a 223b80    ld      (803bh),hl
536d c5        push    bc
536e c3ad62    jp      62adh
5371 2ad883    ld      hl,(83d8h)
5374 f9        ld      sp,hl
5375 c3eb5f    jp      5febh
5378 cd6e4e    call    4e6eh
537b da0c22    jp      c,220ch
537e 18e2      jr      5362h
5380 22c883    ld      (83c8h),hl
5383 cd0139    call    3901h
5386 cd1a28    call    281ah
5389 eb        ex      de,hl
538a cde353    call    53e3h
538d 33        inc     sp
538e 33        inc     sp
538f 2005      jr      nz,5396h
5391 09        add     hl,bc
5392 f9        ld      sp,hl
5393 22d883    ld      (83d8h),hl
5396 2a3f80    ld      hl,(803fh)
5399 e5        push    hl
539a 2ac883    ld      hl,(83c8h)
539d e5        push    hl
539e d5        push    de
539f 1823      jr      53c4h
53a1 c22822    jp      nz,2228h
53a4 eb        ex      de,hl
53a5 cde353    call    53e3h
53a8 2060      jr      nz,540ah
53aa f9        ld      sp,hl
53ab 22d883    ld      (83d8h),hl
53ae ed5b3f80  ld      de,(803fh)
53b2 ed53eb84  ld      (84ebh),de
53b6 23        inc     hl
53b7 23        inc     hl
53b8 5e        ld      e,(hl)
53b9 23        inc     hl
53ba 56        ld      d,(hl)
53bb 23        inc     hl
53bc 7e        ld      a,(hl)
53bd 23        inc     hl
53be 66        ld      h,(hl)
53bf 6f        ld      l,a
53c0 223f80    ld      (803fh),hl
53c3 eb        ex      de,hl
53c4 cdd32e    call    2ed3h
53c7 e5        push    hl
53c8 cd763c    call    3c76h
53cb e1        pop     hl
53cc 2809      jr      z,53d7h
53ce 01b400    ld      bc,00b4h
53d1 41        ld      b,c
53d2 c5        push    bc
53d3 33        inc     sp
53d4 c3b427    jp      27b4h
53d7 2aeb84    ld      hl,(84ebh)
53da 223f80    ld      (803fh),hl
53dd e1        pop     hl
53de c1        pop     bc
53df c1        pop     bc
53e0 c3b427    jp      27b4h
53e3 210400    ld      hl,0004h
53e6 39        add     hl,sp
53e7 7e        ld      a,(hl)
53e8 23        inc     hl
53e9 018200    ld      bc,0082h
53ec b9        cp      c
53ed 2006      jr      nz,53f5h
53ef 011200    ld      bc,0012h
53f2 09        add     hl,bc
53f3 18f2      jr      53e7h
53f5 01b400    ld      bc,00b4h
53f8 b9        cp      c
53f9 c0        ret     nz
53fa e5        push    hl
53fb 7e        ld      a,(hl)
53fc 23        inc     hl
53fd 66        ld      h,(hl)
53fe 6f        ld      l,a
53ff cda25f    call    5fa2h
5402 e1        pop     hl
5403 010600    ld      bc,0006h
5406 c8        ret     z
5407 09        add     hl,bc
5408 18dd      jr      53e7h
540a 111e00    ld      de,001eh
540d c34222    jp      2242h
5410 3e80      ld      a,80h
5412 32cc83    ld      (83cch),a
5415 cdb759    call    59b7h
5418 e5        push    hl
5419 eb        ex      de,hl
541a cd0f32    call    320fh
541d cdda3c    call    3cdah
5420 cd5a37    call    375ah
5423 220d85    ld      (850dh),hl
5426 0e20      ld      c,20h
5428 cd9e5e    call    5e9eh
542b d1        pop     de
542c 21c0ff    ld      hl,0ffc0h
542f 39        add     hl,sp
5430 f9        ld      sp,hl
5431 eb        ex      de,hl
5432 0e20      ld      c,20h
5434 2b        dec     hl
5435 cd1a28    call    281ah
5438 22ce83    ld      (83ceh),hl
543b 283b      jr      z,5478h
543d cda85f    call    5fa8h
5440 28c5      jr      z,5407h
5442 d5        push    de
5443 cdb759    call    59b7h
5446 e3        ex      (sp),hl
5447 73        ld      (hl),e
5448 23        inc     hl
5449 72        ld      (hl),d
544a 23        inc     hl
544b e3        ex      (sp),hl
544c d1        pop     de
544d c1        pop     bc
544e 7e        ld      a,(hl)
544f fe2c      cp      2ch
5451 2006      jr      nz,5459h
5453 0d        dec     c
5454 cd1a28    call    281ah
5457 18e8      jr      5441h
5459 cda85f    call    5fa8h
545c 29        add     hl,hl
545d 22ce83    ld      (83ceh),hl
5460 3e21      ld      a,21h
5462 91        sub     c
5463 e1        pop     hl
5464 3d        dec     a
5465 2811      jr      z,5478h
5467 d1        pop     de
5468 3d        dec     a
5469 280d      jr      z,5478h
546b c1        pop     bc
546c 3d        dec     a
546d 2809      jr      z,5478h
546f c5        push    bc
5470 e5        push    hl
5471 210200    ld      hl,0002h
5474 39        add     hl,sp
5475 44        ld      b,h
5476 4d        ld      c,l
5477 e1        pop     hl
5478 e5        push    hl
5479 218354    ld      hl,5483h
547c e3        ex      (sp),hl
547d e5        push    hl
547e 2a0d85    ld      hl,(850dh)
5481 e3        ex      (sp),hl
5482 c9        ret     
5483 2ad883    ld      hl,(83d8h)
5486 f9        ld      sp,hl
5487 2ace83    ld      hl,(83ceh)
548a c3b427    jp      27b4h
548d af        xor     a
548e 321a85    ld      (851ah),a
5491 321485    ld      (8514h),a
5494 2ae983    ld      hl,(83e9h)
5497 44        ld      b,h
5498 4d        ld      c,l
5499 2adf84    ld      hl,(84dfh)
549c 09        add     hl,bc
549d 22eb83    ld      (83ebh),hl
54a0 2ac283    ld      hl,(83c2h)
54a3 23        inc     hl
54a4 eb        ex      de,hl
54a5 2a0f85    ld      hl,(850fh)
54a8 22c283    ld      (83c2h),hl
54ab cda25f    call    5fa2h
54ae 1a        ld      a,(de)
54af 02        ld      (bc),a
54b0 13        inc     de
54b1 03        inc     bc
54b2 20f7      jr      nz,54abh
54b4 0b        dec     bc
54b5 60        ld      h,b
54b6 69        ld      l,c
54b7 22ed83    ld      (83edh),hl
54ba ed5b1b85  ld      de,(851bh)
54be 2a4180    ld      hl,(8041h)
54c1 2b        dec     hl
54c2 7a        ld      a,d
54c3 b3        or      e
54c4 cab427    jp      z,27b4h
54c7 cd3824    call    2438h
54ca d2ca29    jp      nc,29cah
54cd 0b        dec     bc
54ce 60        ld      h,b
54cf 69        ld      l,c
54d0 c3b427    jp      27b4h
54d3 0e02      ld      c,02h
54d5 cd2f50    call    502fh
54d8 2b        dec     hl
54d9 cd1a28    call    281ah
54dc 284d      jr      z,552bh
54de cdd32e    call    2ed3h
54e1 e5        push    hl
54e2 cd0f32    call    320fh
54e5 2835      jr      z,551ch
54e7 cdb544    call    44b5h
54ea cd7d62    call    627dh
54ed 2a2b85    ld      hl,(852bh)
54f0 23        inc     hl
54f1 5e        ld      e,(hl)
54f2 23        inc     hl
54f3 56        ld      d,(hl)
54f4 1a        ld      a,(de)
54f5 fe20      cp      20h
54f7 2006      jr      nz,54ffh
54f9 13        inc     de
54fa 72        ld      (hl),d
54fb 2b        dec     hl
54fc 73        ld      (hl),e
54fd 2b        dec     hl
54fe 35        dec     (hl)
54ff cdd662    call    62d6h
5502 e1        pop     hl
5503 2b        dec     hl
5504 cd1a28    call    281ah
5507 2822      jr      z,552bh
5509 fe3b      cp      3bh
550b 2805      jr      z,5512h
550d cda85f    call    5fa8h
5510 2c        inc     l
5511 2b        dec     hl
5512 cd1a28    call    281ah
5515 3e2c      ld      a,2ch
5517 cdd957    call    57d9h
551a 18c2      jr      54deh
551c 3e22      ld      a,22h
551e cdd957    call    57d9h
5521 cdd662    call    62d6h
5524 3e22      ld      a,22h
5526 cdd957    call    57d9h
5529 18d7      jr      5502h
552b e5        push    hl
552c 2a3b80    ld      hl,(803bh)
552f 7c        ld      a,h
5530 b5        or      l
5531 281e      jr      z,5551h
5533 7e        ld      a,(hl)
5534 fe03      cp      03h
5536 2019      jr      nz,5551h
5538 cd2c57    call    572ch
553b 7d        ld      a,l
553c 93        sub     e
553d 6f        ld      l,a
553e 7c        ld      a,h
553f 9a        sbc     a,d
5540 67        ld      h,a
5541 11feff    ld      de,0fffeh
5544 19        add     hl,de
5545 300a      jr      nc,5551h
5547 3e20      ld      a,20h
5549 cdd957    call    57d9h
554c 2b        dec     hl
554d 7c        ld      a,h
554e b5        or      l
554f 20f6      jr      nz,5547h
5551 e1        pop     hl
5552 cd1c59    call    591ch
5555 c3d22c    jp      2cd2h
5558 fe03      cp      03h
555a c0        ret     nz
555b 2b        dec     hl
555c cd1a28    call    281ah
555f d5        push    de
5560 118000    ld      de,0080h
5563 2805      jr      z,556ah
5565 c5        push    bc
5566 cd1529    call    2915h
5569 c1        pop     bc
556a e5        push    hl
556b 2a1185    ld      hl,(8511h)
556e cda25f    call    5fa2h
5571 da1c29    jp      c,291ch
5574 21a900    ld      hl,00a9h
5577 09        add     hl,bc
5578 73        ld      (hl),e
5579 23        inc     hl
557a 72        ld      (hl),d
557b af        xor     a
557c 1e07      ld      e,07h
557e 23        inc     hl
557f 77        ld      (hl),a
5580 1d        dec     e
5581 20fb      jr      nz,557eh
5583 e1        pop     hl
5584 d1        pop     de
5585 c9        ret     
5586 f6af      or      0afh
5588 32d857    ld      (57d8h),a
558b cd4a50    call    504ah
558e fe03      cp      03h
5590 c20022    jp      nz,2200h
5593 c5        push    bc
5594 e5        push    hl
5595 21ad00    ld      hl,00adh
5598 09        add     hl,bc
5599 5e        ld      e,(hl)
559a 23        inc     hl
559b 56        ld      d,(hl)
559c 13        inc     de
559d e3        ex      (sp),hl
559e 7e        ld      a,(hl)
559f fe2c      cp      2ch
55a1 cc1529    call    z,2915h
55a4 2b        dec     hl
55a5 cd1a28    call    281ah
55a8 c22822    jp      nz,2228h
55ab e3        ex      (sp),hl
55ac 7a        ld      a,d
55ad b3        or      e
55ae ca1522    jp      z,2215h
55b1 2b        dec     hl
55b2 73        ld      (hl),e
55b3 23        inc     hl
55b4 72        ld      (hl),d
55b5 1b        dec     de
55b6 e1        pop     hl
55b7 c1        pop     bc
55b8 e5        push    hl
55b9 c5        push    bc
55ba 21b000    ld      hl,00b0h
55bd 09        add     hl,bc
55be af        xor     a
55bf 77        ld      (hl),a
55c0 23        inc     hl
55c1 77        ld      (hl),a
55c2 21a900    ld      hl,00a9h
55c5 09        add     hl,bc
55c6 7e        ld      a,(hl)
55c7 23        inc     hl
55c8 66        ld      h,(hl)
55c9 6f        ld      l,a
55ca eb        ex      de,hl
55cb d5        push    de
55cc e5        push    hl
55cd 218000    ld      hl,0080h
55d0 cda25f    call    5fa2h
55d3 e1        pop     hl
55d4 2005      jr      nz,55dbh
55d6 110000    ld      de,0000h
55d9 1838      jr      5613h
55db 42        ld      b,d
55dc 4b        ld      c,e
55dd 3e10      ld      a,10h
55df eb        ex      de,hl
55e0 210000    ld      hl,0000h
55e3 e5        push    hl
55e4 29        add     hl,hl
55e5 e3        ex      (sp),hl
55e6 3004      jr      nc,55ech
55e8 29        add     hl,hl
55e9 23        inc     hl
55ea 1801      jr      55edh
55ec 29        add     hl,hl
55ed e3        ex      (sp),hl
55ee eb        ex      de,hl
55ef 29        add     hl,hl
55f0 eb        ex      de,hl
55f1 3006      jr      nc,55f9h
55f3 09        add     hl,bc
55f4 e3        ex      (sp),hl
55f5 3001      jr      nc,55f8h
55f7 23        inc     hl
55f8 e3        ex      (sp),hl
55f9 3d        dec     a
55fa 20e8      jr      nz,55e4h
55fc 7d        ld      a,l
55fd e67f      and     7fh
55ff 5f        ld      e,a
5600 1600      ld      d,00h
5602 c1        pop     bc
5603 7d        ld      a,l
5604 6c        ld      l,h
5605 61        ld      h,c
5606 29        add     hl,hl
5607 da1c29    jp      c,291ch
560a 17        rla     
560b 3001      jr      nc,560eh
560d 23        inc     hl
560e 78        ld      a,b
560f b7        or      a
5610 c21c29    jp      nz,291ch
5613 22d257    ld      (57d2h),hl
5616 e1        pop     hl
5617 c1        pop     bc
5618 e5        push    hl
5619 21b200    ld      hl,00b2h
561c 09        add     hl,bc
561d 22d457    ld      (57d4h),hl
5620 212900    ld      hl,0029h
5623 09        add     hl,bc
5624 19        add     hl,de
5625 22d657    ld      (57d6h),hl
5628 e1        pop     hl
5629 e5        push    hl
562a 218000    ld      hl,0080h
562d ed52      sbc     hl,de
562f d1        pop     de
5630 d5        push    de
5631 cda25f    call    5fa2h
5634 3802      jr      c,5638h
5636 62        ld      h,d
5637 6b        ld      l,e
5638 3ad857    ld      a,(57d8h)
563b b7        or      a
563c 2838      jr      z,5676h
563e 118000    ld      de,0080h
5641 cda25f    call    5fa2h
5644 3005      jr      nc,564bh
5646 e5        push    hl
5647 cd9256    call    5692h
564a e1        pop     hl
564b c5        push    bc
564c 44        ld      b,h
564d 4d        ld      c,l
564e ed5bd657  ld      de,(57d6h)
5652 2ad457    ld      hl,(57d4h)
5655 cdc756    call    56c7h
5658 22d457    ld      (57d4h),hl
565b 50        ld      d,b
565c 59        ld      e,c
565d c1        pop     bc
565e cd9156    call    5691h
5661 2ad257    ld      hl,(57d2h)
5664 23        inc     hl
5665 22d257    ld      (57d2h),hl
5668 e1        pop     hl
5669 ed52      sbc     hl,de
566b 7c        ld      a,h
566c b5        or      l
566d 110000    ld      de,0000h
5670 e5        push    hl
5671 20ad      jr      nz,5620h
5673 e1        pop     hl
5674 e1        pop     hl
5675 c9        ret     
5676 e5        push    hl
5677 cd9256    call    5692h
567a e1        pop     hl
567b c5        push    bc
567c 44        ld      b,h
567d 4d        ld      c,l
567e ed5bd457  ld      de,(57d4h)
5682 2ad657    ld      hl,(57d6h)
5685 cdc756    call    56c7h
5688 eb        ex      de,hl
5689 22d457    ld      (57d4h),hl
568c 50        ld      d,b
568d 59        ld      e,c
568e c1        pop     bc
568f 18d0      jr      5661h
5691 f6af      or      0afh
5693 324780    ld      (8047h),a
5696 c5        push    bc
5697 d5        push    de
5698 e5        push    hl
5699 ed5bd257  ld      de,(57d2h)
569d 21ab00    ld      hl,00abh
56a0 09        add     hl,bc
56a1 e5        push    hl
56a2 7e        ld      a,(hl)
56a3 23        inc     hl
56a4 66        ld      h,(hl)
56a5 6f        ld      l,a
56a6 13        inc     de
56a7 cda25f    call    5fa2h
56aa e1        pop     hl
56ab 73        ld      (hl),e
56ac 23        inc     hl
56ad 72        ld      (hl),d
56ae 2006      jr      nz,56b6h
56b0 3a4780    ld      a,(8047h)
56b3 b7        or      a
56b4 280d      jr      z,56c3h
56b6 21c356    ld      hl,56c3h
56b9 e5        push    hl
56ba c5        push    bc
56bb e5        push    hl
56bc 212600    ld      hl,0026h
56bf 09        add     hl,bc
56c0 c35c4d    jp      4d5ch
56c3 e1        pop     hl
56c4 d1        pop     de
56c5 c1        pop     bc
56c6 c9        ret     
56c7 c5        push    bc
56c8 7e        ld      a,(hl)
56c9 12        ld      (de),a
56ca 23        inc     hl
56cb 13        inc     de
56cc 0b        dec     bc
56cd 78        ld      a,b
56ce b1        or      c
56cf 20f7      jr      nz,56c8h
56d1 c1        pop     bc
56d2 c9        ret     
56d3 f1        pop     af
56d4 d5        push    de
56d5 c5        push    bc
56d6 f5        push    af
56d7 44        ld      b,h
56d8 4d        ld      c,l
56d9 cd2e57    call    572eh
56dc 2821      jr      z,56ffh
56de cd2357    call    5723h
56e1 21b100    ld      hl,00b1h
56e4 09        add     hl,bc
56e5 19        add     hl,de
56e6 f1        pop     af
56e7 77        ld      (hl),a
56e8 f5        push    af
56e9 212800    ld      hl,0028h
56ec 09        add     hl,bc
56ed 56        ld      d,(hl)
56ee 3600      ld      (hl),00h
56f0 fe0d      cp      0dh
56f2 2806      jr      z,56fah
56f4 c6e0      add     a,0e0h
56f6 7a        ld      a,d
56f7 ce00      adc     a,00h
56f9 77        ld      (hl),a
56fa f1        pop     af
56fb c1        pop     bc
56fc d1        pop     de
56fd e1        pop     hl
56fe c9        ret     
56ff c31822    jp      2218h
5702 d5        push    de
5703 cd2c57    call    572ch
5706 28f7      jr      z,56ffh
5708 cd2357    call    5723h
570b 21b100    ld      hl,00b1h
570e 09        add     hl,bc
570f 19        add     hl,de
5710 7e        ld      a,(hl)
5711 b7        or      a
5712 d1        pop     de
5713 e1        pop     hl
5714 c1        pop     bc
5715 c9        ret     
5716 21a900    ld      hl,00a9h
5719 1803      jr      571eh
571b 21b000    ld      hl,00b0h
571e 09        add     hl,bc
571f 5e        ld      e,(hl)
5720 23        inc     hl
5721 56        ld      d,(hl)
5722 c9        ret     
5723 13        inc     de
5724 21b000    ld      hl,00b0h
5727 09        add     hl,bc
5728 73        ld      (hl),e
5729 23        inc     hl
572a 72        ld      (hl),d
572b c9        ret     
572c 44        ld      b,h
572d 4d        ld      c,l
572e cd1b57    call    571bh
5731 d5        push    de
5732 cd1657    call    5716h
5735 eb        ex      de,hl
5736 d1        pop     de
5737 cda25f    call    5fa2h
573a c9        ret     
573b cd1a28    call    281ah
573e 22ce83    ld      (83ceh),hl
5741 cd0838    call    3808h
5744 cd5257    call    5752h
5747 3efe      ld      a,0feh
5749 cdba52    call    52bah
574c cd8957    call    5789h
574f c39e5f    jp      5f9eh
5752 010b0d    ld      bc,0d0bh
5755 2a4180    ld      hl,(8041h)
5758 eb        ex      de,hl
5759 2ae983    ld      hl,(83e9h)
575c cda25f    call    5fa2h
575f c8        ret     z
5760 21874c    ld      hl,4c87h
5763 7d        ld      a,l
5764 81        add     a,c
5765 6f        ld      l,a
5766 7c        ld      a,h
5767 ce00      adc     a,00h
5769 67        ld      h,a
576a 1a        ld      a,(de)
576b 90        sub     b
576c ae        xor     (hl)
576d f5        push    af
576e 21374c    ld      hl,4c37h
5771 7d        ld      a,l
5772 80        add     a,b
5773 6f        ld      l,a
5774 7c        ld      a,h
5775 ce00      adc     a,00h
5777 67        ld      h,a
5778 f1        pop     af
5779 ae        xor     (hl)
577a 81        add     a,c
577b 12        ld      (de),a
577c 13        inc     de
577d 0d        dec     c
577e 2002      jr      nz,5782h
5780 0e0b      ld      c,0bh
5782 05        dec     b
5783 20d4      jr      nz,5759h
5785 060d      ld      b,0dh
5787 18d0      jr      5759h
5789 010b0d    ld      bc,0d0bh
578c 2a4180    ld      hl,(8041h)
578f eb        ex      de,hl
5790 2ae983    ld      hl,(83e9h)
5793 cda25f    call    5fa2h
5796 c8        ret     z
5797 21374c    ld      hl,4c37h
579a 7d        ld      a,l
579b 80        add     a,b
579c 6f        ld      l,a
579d 7c        ld      a,h
579e ce00      adc     a,00h
57a0 67        ld      h,a
57a1 1a        ld      a,(de)
57a2 91        sub     c
57a3 ae        xor     (hl)
57a4 f5        push    af
57a5 21874c    ld      hl,4c87h
57a8 7d        ld      a,l
57a9 81        add     a,c
57aa 6f        ld      l,a
57ab 7c        ld      a,h
57ac ce00      adc     a,00h
57ae 67        ld      h,a
57af f1        pop     af
57b0 ae        xor     (hl)
57b1 80        add     a,b
57b2 12        ld      (de),a
57b3 13        inc     de
57b4 0d        dec     c
57b5 2002      jr      nz,57b9h
57b7 0e0b      ld      c,0bh
57b9 10d5      djnz    5790h
57bb 060d      ld      b,0dh
57bd 18d1      jr      5790h
57bf e5        push    hl
57c0 2a3f80    ld      hl,(803fh)
57c3 7c        ld      a,h
57c4 a5        and     l
57c5 e1        pop     hl
57c6 3c        inc     a
57c7 c0        ret     nz
57c8 f5        push    af
57c9 3a1385    ld      a,(8513h)
57cc b7        or      a
57cd c21c29    jp      nz,291ch
57d0 f1        pop     af
57d1 c9        ret     
57d2 00        nop     
57d3 00        nop     
57d4 00        nop     
57d5 00        nop     
57d6 00        nop     
57d7 00        nop     
57d8 00        nop     
57d9 f5        push    af
57da e5        push    hl
57db cd0d62    call    620dh
57de c21f4d    jp      nz,4d1fh
57e1 e1        pop     hl
57e2 3a3480    ld      a,(8034h)
57e5 b7        or      a
57e6 fa0b16    jp      m,160bh
57e9 ca5d58    jp      z,585dh
57ec f1        pop     af
57ed f5        push    af
57ee fe08      cp      08h
57f0 200d      jr      nz,57ffh
57f2 3a3380    ld      a,(8033h)
57f5 d601      sub     01h
57f7 3803      jr      c,57fch
57f9 323380    ld      (8033h),a
57fc f1        pop     af
57fd 1839      jr      5838h
57ff fe09      cp      09h
5801 2012      jr      nz,5815h
5803 3e20      ld      a,20h
5805 cdd957    call    57d9h
5808 3a3380    ld      a,(8033h)
580b feff      cp      0ffh
580d 2804      jr      z,5813h
580f e607      and     07h
5811 20f0      jr      nz,5803h
5813 f1        pop     af
5814 c9        ret     
5815 f1        pop     af
5816 f5        push    af
5817 d60d      sub     0dh
5819 2819      jr      z,5834h
581b 381a      jr      c,5837h
581d 3a3680    ld      a,(8036h)
5820 3c        inc     a
5821 3a3380    ld      a,(8033h)
5824 2809      jr      z,582fh
5826 e5        push    hl
5827 213680    ld      hl,8036h
582a be        cp      (hl)
582b e1        pop     hl
582c cc4e58    call    z,584eh
582f feff      cp      0ffh
5831 2804      jr      z,5837h
5833 3c        inc     a
5834 323380    ld      (8033h),a
5837 f1        pop     af
5838 f5        push    af
5839 c5        push    bc
583a d5        push    de
583b e5        push    hl
583c 4f        ld      c,a
583d cdd209    call    09d2h
5840 e1        pop     hl
5841 d1        pop     de
5842 c1        pop     bc
5843 f1        pop     af
5844 c9        ret     
5845 af        xor     a
5846 323480    ld      (8034h),a
5849 3a3380    ld      a,(8033h)
584c b7        or      a
584d c8        ret     z
584e 3e0d      ld      a,0dh
5850 cd3858    call    5838h
5853 3e0a      ld      a,0ah
5855 cd3858    call    5838h
5858 af        xor     a
5859 323380    ld      (8033h),a
585c c9        ret     
585d 3a3a80    ld      a,(803ah)
5860 b7        or      a
5861 c20663    jp      nz,6306h
5864 f1        pop     af
5865 c5        push    bc
5866 f5        push    af
5867 fe08      cp      08h
5869 200e      jr      nz,5879h
586b 3a8c83    ld      a,(838ch)
586e b7        or      a
586f 2804      jr      z,5875h
5871 3d        dec     a
5872 328c83    ld      (838ch),a
5875 3e08      ld      a,08h
5877 1832      jr      58abh
5879 fe09      cp      09h
587b 2013      jr      nz,5890h
587d 3e20      ld      a,20h
587f cdd957    call    57d9h
5882 cd2705    call    0527h
5885 feff      cp      0ffh
5887 2804      jr      z,588dh
5889 e607      and     07h
588b 20f0      jr      nz,587dh
588d f1        pop     af
588e c1        pop     bc
588f c9        ret     
5890 fe20      cp      20h
5892 3817      jr      c,58abh
5894 3a3780    ld      a,(8037h)
5897 47        ld      b,a
5898 3a8c83    ld      a,(838ch)
589b 04        inc     b
589c 2805      jr      z,58a3h
589e 05        dec     b
589f b8        cp      b
58a0 cc1c59    call    z,591ch
58a3 feff      cp      0ffh
58a5 2804      jr      z,58abh
58a7 3c        inc     a
58a8 328c83    ld      (838ch),a
58ab f1        pop     af
58ac c1        pop     bc
58ad f5        push    af
58ae f1        pop     af
58af f5        push    af
58b0 c5        push    bc
58b1 d5        push    de
58b2 e5        push    hl
58b3 4f        ld      c,a
58b4 cd6b00    call    006bh
58b7 e1        pop     hl
58b8 d1        pop     de
58b9 c1        pop     bc
58ba f1        pop     af
58bb c9        ret     
58bc cd0d62    call    620dh
58bf 282f      jr      z,58f0h
58c1 cd6e4e    call    4e6eh
58c4 d0        ret     nc
58c5 c5        push    bc
58c6 d5        push    de
58c7 e5        push    hl
58c8 cd4b52    call    524bh
58cb e1        pop     hl
58cc d1        pop     de
58cd c1        pop     bc
58ce 3a1a85    ld      a,(851ah)
58d1 b7        or      a
58d2 c28d54    jp      nz,548dh
58d5 3a4580    ld      a,(8045h)
58d8 b7        or      a
58d9 2807      jr      z,58e2h
58db 21b427    ld      hl,27b4h
58de e5        push    hl
58df c3105f    jp      5f10h
58e2 e5        push    hl
58e3 c5        push    bc
58e4 d5        push    de
58e5 21a821    ld      hl,21a8h
58e8 cdd362    call    62d3h
58eb d1        pop     de
58ec c1        pop     bc
58ed af        xor     a
58ee e1        pop     hl
58ef c9        ret     
58f0 c5        push    bc
58f1 d5        push    de
58f2 e5        push    hl
58f3 cdca85    call    85cah
58f6 cd3105    call    CONIN
58f9 e1        pop     hl
58fa d1        pop     de
58fb c1        pop     bc
58fc fe0f      cp      0fh
58fe c0        ret     nz
58ff 3a3a80    ld      a,(803ah)
5902 b7        or      a
5903 cc1260    call    z,6012h
5906 2f        cpl     
5907 323a80    ld      (803ah),a
590a b7        or      a
590b ca1260    jp      z,6012h
590e af        xor     a
590f c9        ret     
5910 3ae985    ld      a,(85e9h)
5913 b7        or      a
5914 c8        ret     z
5915 1805      jr      591ch
5917 3600      ld      (hl),00h
5919 218882    ld      hl,8288h
591c 3e0d      ld      a,0dh
591e cdd957    call    57d9h
5921 3e0a      ld      a,0ah
5923 cdd957    call    57d9h
5926 cd0d62    call    620dh
5929 2802      jr      z,592dh
592b af        xor     a
592c c9        ret     
592d 3a3480    ld      a,(8034h)
5930 b7        or      a
5931 2805      jr      z,5938h
5933 af        xor     a
5934 323380    ld      (8033h),a
5937 c9        ret     
5938 af        xor     a
5939 328c83    ld      (838ch),a
593c 3a2f80    ld      a,(802fh)
593f 3d        dec     a
5940 c8        ret     z
5941 f5        push    af
5942 af        xor     a
5943 cdd957    call    57d9h
5946 f1        pop     af
5947 18f6      jr      593fh
5949 c5        push    bc
594a d5        push    de
594b e5        push    hl
594c cdac06    call    06ach
594f e1        pop     hl
5950 d1        pop     de
5951 c1        pop     bc
5952 b7        or      a
5953 c8        ret     z
5954 cdf058    call    58f0h
5957 fe20      cp      20h
5959 ccf058    call    z,58f0h
595c 323080    ld      (LAST_KEY_ASCII),a
595f fe03      cp      03h                   ; CTRL+C ??
5961 c3d45f    jp      5fd4h
5964 cd1a28    call    281ah
5967 e5        push    hl
5968 cd8c59    call    598ch
596b 2009      jr      nz,5976h
596d cdac06    call    06ach
5970 b7        or      a
5971 280c      jr      z,597fh
5973 cdf058    call    58f0h
5976 f5        push    af
5977 cd6d62    call    626dh
597a f1        pop     af
597b 5f        ld      e,a
597c cd9a64    call    649ah
597f 21a721    ld      hl,21a7h
5982 222b85    ld      (852bh),hl
5985 3e03      ld      a,03h
5987 328e83    ld      (838eh),a
598a e1        pop     hl
598b c9        ret     
598c 3a3080    ld      a,(LAST_KEY_ASCII)
598f b7        or      a
5990 c8        ret     z
5991 f5        push    af
5992 af        xor     a
5993 323080    ld      (LAST_KEY_ASCII),a
5996 f1        pop     af
5997 c9        ret     
5998 cdd957    call    57d9h
599b fe0a      cp      0ah
599d c0        ret     nz
599e 3e0d      ld      a,0dh
59a0 cdd957    call    57d9h
59a3 cd2659    call    5926h
59a6 3e0a      ld      a,0ah
59a8 c9        ret     
59a9 2b        dec     hl
59aa cd1a28    call    281ah
59ad c8        ret     z
59ae cda85f    call    5fa8h
59b1 2c        inc     l
59b2 01a959    ld      bc,59a9h
59b5 c5        push    bc
59b6 f6af      or      0afh
59b8 328d83    ld      (838dh),a
59bb 4e        ld      c,(hl)
59bc cdcd60    call    60cdh
59bf da2822    jp      c,2228h
59c2 af        xor     a
59c3 47        ld      b,a
59c4 326c80    ld      (806ch),a
59c7 23        inc     hl
59c8 7e        ld      a,(hl)
59c9 fe2e      cp      2eh
59cb 3839      jr      c,5a06h
59cd 280d      jr      z,59dch
59cf fe3a      cp      3ah
59d1 3004      jr      nc,59d7h
59d3 fe30      cp      30h
59d5 3005      jr      nc,59dch
59d7 cdce60    call    60ceh
59da 382a      jr      c,5a06h
59dc 47        ld      b,a
59dd c5        push    bc
59de 06ff      ld      b,0ffh
59e0 116c80    ld      de,806ch
59e3 f680      or      80h
59e5 04        inc     b
59e6 12        ld      (de),a
59e7 13        inc     de
59e8 23        inc     hl
59e9 7e        ld      a,(hl)
59ea fe3a      cp      3ah
59ec 3004      jr      nc,59f2h
59ee fe30      cp      30h
59f0 30f1      jr      nc,59e3h
59f2 cdce60    call    60ceh
59f5 30ec      jr      nc,59e3h
59f7 fe2e      cp      2eh
59f9 28e8      jr      z,59e3h
59fb 78        ld      a,b
59fc fe27      cp      27h
59fe d22822    jp      nc,2228h
5a01 c1        pop     bc
5a02 326c80    ld      (806ch),a
5a05 7e        ld      a,(hl)
5a06 fe26      cp      26h
5a08 3017      jr      nc,5a21h
5a0a 112f5a    ld      de,5a2fh
5a0d d5        push    de
5a0e 1602      ld      d,02h
5a10 fe25      cp      25h
5a12 c8        ret     z
5a13 14        inc     d
5a14 fe24      cp      24h
5a16 c8        ret     z
5a17 14        inc     d
5a18 fe21      cp      21h
5a1a c8        ret     z
5a1b 1608      ld      d,08h
5a1d fe23      cp      23h
5a1f c8        ret     z
5a20 f1        pop     af
5a21 79        ld      a,c
5a22 e67f      and     7fh
5a24 5f        ld      e,a
5a25 1600      ld      d,00h
5a27 e5        push    hl
5a28 21b083    ld      hl,83b0h
5a2b 19        add     hl,de
5a2c 56        ld      d,(hl)
5a2d e1        pop     hl
5a2e 2b        dec     hl
5a2f 7a        ld      a,d
5a30 328e83    ld      (838eh),a
5a33 cd1a28    call    281ah
5a36 3acc83    ld      a,(83cch)
5a39 3d        dec     a
5a3a caa25b    jp      z,5ba2h
5a3d f24b5a    jp      p,5a4bh
5a40 7e        ld      a,(hl)
5a41 d628      sub     28h
5a43 ca2c5b    jp      z,5b2ch
5a46 d633      sub     33h
5a48 ca2c5b    jp      z,5b2ch
5a4b af        xor     a
5a4c 32cc83    ld      (83cch),a
5a4f e5        push    hl
5a50 3ade84    ld      a,(84deh)
5a53 b7        or      a
5a54 32db84    ld      (84dbh),a
5a57 2840      jr      z,5a99h
5a59 2a0d84    ld      hl,(840dh)
5a5c 110f84    ld      de,840fh
5a5f 19        add     hl,de
5a60 22dc84    ld      (84dch),hl
5a63 eb        ex      de,hl
5a64 181b      jr      5a81h
5a66 1a        ld      a,(de)
5a67 6f        ld      l,a
5a68 13        inc     de
5a69 1a        ld      a,(de)
5a6a 13        inc     de
5a6b b9        cp      c
5a6c 200b      jr      nz,5a79h
5a6e 3a8e83    ld      a,(838eh)
5a71 bd        cp      l
5a72 2005      jr      nz,5a79h
5a74 1a        ld      a,(de)
5a75 b8        cp      b
5a76 cafd5a    jp      z,5afdh
5a79 13        inc     de
5a7a 1a        ld      a,(de)
5a7b 2600      ld      h,00h
5a7d 85        add     a,l
5a7e 3c        inc     a
5a7f 6f        ld      l,a
5a80 19        add     hl,de
5a81 eb        ex      de,hl
5a82 3adc84    ld      a,(84dch)
5a85 bb        cp      e
5a86 c2665a    jp      nz,5a66h
5a89 3add84    ld      a,(84ddh)
5a8c ba        cp      d
5a8d 20d7      jr      nz,5a66h
5a8f 3adb84    ld      a,(84dbh)
5a92 b7        or      a
5a93 2818      jr      z,5aadh
5a95 af        xor     a
5a96 32db84    ld      (84dbh),a
5a99 2aeb83    ld      hl,(83ebh)
5a9c 22dc84    ld      (84dch),hl
5a9f 2ae983    ld      hl,(83e9h)
5aa2 18dd      jr      5a81h
5aa4 cdb759    call    59b7h
5aa7 c9        ret     
5aa8 57        ld      d,a
5aa9 5f        ld      e,a
5aaa c1        pop     bc
5aab e3        ex      (sp),hl
5aac c9        ret     
5aad e1        pop     hl
5aae e3        ex      (sp),hl
5aaf d5        push    de
5ab0 11a75a    ld      de,5aa7h
5ab3 cda25f    call    5fa2h
5ab6 28f0      jr      z,5aa8h
5ab8 110831    ld      de,3108h
5abb cda25f    call    5fa2h
5abe d1        pop     de
5abf 2856      jr      z,5b17h
5ac1 e3        ex      (sp),hl
5ac2 e5        push    hl
5ac3 c5        push    bc
5ac4 3a8e83    ld      a,(838eh)
5ac7 47        ld      b,a
5ac8 3a6c80    ld      a,(806ch)
5acb 80        add     a,b
5acc 3c        inc     a
5acd 4f        ld      c,a
5ace c5        push    bc
5acf 0600      ld      b,00h
5ad1 03        inc     bc
5ad2 03        inc     bc
5ad3 03        inc     bc
5ad4 2aed83    ld      hl,(83edh)
5ad7 e5        push    hl
5ad8 09        add     hl,bc
5ad9 c1        pop     bc
5ada e5        push    hl
5adb cd8e5e    call    5e8eh
5ade e1        pop     hl
5adf 22ed83    ld      (83edh),hl
5ae2 60        ld      h,b
5ae3 69        ld      l,c
5ae4 22eb83    ld      (83ebh),hl
5ae7 2b        dec     hl
5ae8 3600      ld      (hl),00h
5aea cda25f    call    5fa2h
5aed 20f8      jr      nz,5ae7h
5aef d1        pop     de
5af0 72        ld      (hl),d
5af1 23        inc     hl
5af2 d1        pop     de
5af3 73        ld      (hl),e
5af4 23        inc     hl
5af5 72        ld      (hl),d
5af6 cda25c    call    5ca2h
5af9 eb        ex      de,hl
5afa 13        inc     de
5afb e1        pop     hl
5afc c9        ret     
5afd 13        inc     de
5afe 3a6c80    ld      a,(806ch)
5b01 67        ld      h,a
5b02 1a        ld      a,(de)
5b03 bc        cp      h
5b04 c27a5a    jp      nz,5a7ah
5b07 b7        or      a
5b08 2003      jr      nz,5b0dh
5b0a 13        inc     de
5b0b e1        pop     hl
5b0c c9        ret     
5b0d eb        ex      de,hl
5b0e cdb65c    call    5cb6h
5b11 eb        ex      de,hl
5b12 c27b5a    jp      nz,5a7bh
5b15 e1        pop     hl
5b16 c9        ret     
5b17 322e85    ld      (852eh),a
5b1a 67        ld      h,a
5b1b 6f        ld      l,a
5b1c 222b85    ld      (852bh),hl
5b1f cd0f32    call    320fh
5b22 2006      jr      nz,5b2ah
5b24 21a721    ld      hl,21a7h
5b27 222b85    ld      (852bh),hl
5b2a e1        pop     hl
5b2b c9        ret     
5b2c e5        push    hl
5b2d 2a8d83    ld      hl,(838dh)
5b30 e3        ex      (sp),hl
5b31 57        ld      d,a
5b32 d5        push    de
5b33 c5        push    bc
5b34 116c80    ld      de,806ch
5b37 1a        ld      a,(de)
5b38 b7        or      a
5b39 282f      jr      z,5b6ah
5b3b eb        ex      de,hl
5b3c c602      add     a,02h
5b3e 1f        rra     
5b3f 4f        ld      c,a
5b40 cd9e5e    call    5e9eh
5b43 79        ld      a,c
5b44 4e        ld      c,(hl)
5b45 23        inc     hl
5b46 46        ld      b,(hl)
5b47 23        inc     hl
5b48 c5        push    bc
5b49 3d        dec     a
5b4a 20f8      jr      nz,5b44h
5b4c e5        push    hl
5b4d 3a6c80    ld      a,(806ch)
5b50 f5        push    af
5b51 eb        ex      de,hl
5b52 cd1529    call    2915h
5b55 f1        pop     af
5b56 229380    ld      (8093h),hl
5b59 e1        pop     hl
5b5a c602      add     a,02h
5b5c 1f        rra     
5b5d c1        pop     bc
5b5e 2b        dec     hl
5b5f 70        ld      (hl),b
5b60 2b        dec     hl
5b61 71        ld      (hl),c
5b62 3d        dec     a
5b63 20f8      jr      nz,5b5dh
5b65 2a9380    ld      hl,(8093h)
5b68 1807      jr      5b71h
5b6a cd1529    call    2915h
5b6d af        xor     a
5b6e 326c80    ld      (806ch),a
5b71 3aed84    ld      a,(84edh)
5b74 b7        or      a
5b75 2806      jr      z,5b7dh
5b77 7a        ld      a,d
5b78 b3        or      e
5b79 cae05b    jp      z,5be0h
5b7c 1b        dec     de
5b7d c1        pop     bc
5b7e f1        pop     af
5b7f eb        ex      de,hl
5b80 e3        ex      (sp),hl
5b81 e5        push    hl
5b82 eb        ex      de,hl
5b83 3c        inc     a
5b84 57        ld      d,a
5b85 7e        ld      a,(hl)
5b86 fe2c      cp      2ch
5b88 ca325b    jp      z,5b32h
5b8b fe29      cp      29h
5b8d 2805      jr      z,5b94h
5b8f fe5d      cp      5dh
5b91 c22822    jp      nz,2228h
5b94 cd1a28    call    281ah
5b97 22e383    ld      (83e3h),hl
5b9a e1        pop     hl
5b9b 228d83    ld      (838dh),hl
5b9e 1e00      ld      e,00h
5ba0 d5        push    de
5ba1 11e5f5    ld      de,0f5e5h
5ba4 2aeb83    ld      hl,(83ebh)
5ba7 3e19      ld      a,19h
5ba9 ed5bed83  ld      de,(83edh)
5bad cda25f    call    5fa2h
5bb0 2845      jr      z,5bf7h
5bb2 5e        ld      e,(hl)
5bb3 23        inc     hl
5bb4 7e        ld      a,(hl)
5bb5 23        inc     hl
5bb6 b9        cp      c
5bb7 200a      jr      nz,5bc3h
5bb9 3a8e83    ld      a,(838eh)
5bbc bb        cp      e
5bbd 2004      jr      nz,5bc3h
5bbf 7e        ld      a,(hl)
5bc0 b8        cp      b
5bc1 2823      jr      z,5be6h
5bc3 23        inc     hl
5bc4 5e        ld      e,(hl)
5bc5 1c        inc     e
5bc6 1600      ld      d,00h
5bc8 19        add     hl,de
5bc9 5e        ld      e,(hl)
5bca 23        inc     hl
5bcb 56        ld      d,(hl)
5bcc 23        inc     hl
5bcd 20d9      jr      nz,5ba8h
5bcf 3a8d83    ld      a,(838dh)
5bd2 b7        or      a
5bd3 c23122    jp      nz,2231h
5bd6 f1        pop     af
5bd7 44        ld      b,h
5bd8 4d        ld      c,l
5bd9 ca563b    jp      z,3b56h
5bdc 96        sub     (hl)
5bdd ca5f5c    jp      z,5c5fh
5be0 110900    ld      de,0009h
5be3 c34222    jp      2242h
5be6 23        inc     hl
5be7 3a6c80    ld      a,(806ch)
5bea be        cp      (hl)
5beb 20d7      jr      nz,5bc4h
5bed 23        inc     hl
5bee b7        or      a
5bef 28d8      jr      z,5bc9h
5bf1 2b        dec     hl
5bf2 cdb65c    call    5cb6h
5bf5 18d2      jr      5bc9h
5bf7 3a8e83    ld      a,(838eh)
5bfa 77        ld      (hl),a
5bfb 23        inc     hl
5bfc 5f        ld      e,a
5bfd 1600      ld      d,00h
5bff f1        pop     af
5c00 ca955c    jp      z,5c95h
5c03 71        ld      (hl),c
5c04 23        inc     hl
5c05 70        ld      (hl),b
5c06 cda25c    call    5ca2h
5c09 23        inc     hl
5c0a 4f        ld      c,a
5c0b cd9e5e    call    5e9eh
5c0e 23        inc     hl
5c0f 23        inc     hl
5c10 22c483    ld      (83c4h),hl
5c13 71        ld      (hl),c
5c14 23        inc     hl
5c15 3a8d83    ld      a,(838dh)
5c18 17        rla     
5c19 79        ld      a,c
5c1a 380c      jr      c,5c28h
5c1c f5        push    af
5c1d 3aed84    ld      a,(84edh)
5c20 ee0b      xor     0bh
5c22 4f        ld      c,a
5c23 0600      ld      b,00h
5c25 f1        pop     af
5c26 3002      jr      nc,5c2ah
5c28 c1        pop     bc
5c29 03        inc     bc
5c2a 71        ld      (hl),c
5c2b f5        push    af
5c2c 23        inc     hl
5c2d 70        ld      (hl),b
5c2e 23        inc     hl
5c2f cde13e    call    3ee1h
5c32 f1        pop     af
5c33 3d        dec     a
5c34 20e4      jr      nz,5c1ah
5c36 f5        push    af
5c37 42        ld      b,d
5c38 4b        ld      c,e
5c39 eb        ex      de,hl
5c3a 19        add     hl,de
5c3b dab35e    jp      c,5eb3h
5c3e cdc15e    call    5ec1h
5c41 22ed83    ld      (83edh),hl
5c44 2b        dec     hl
5c45 3600      ld      (hl),00h
5c47 cda25f    call    5fa2h
5c4a 20f8      jr      nz,5c44h
5c4c 03        inc     bc
5c4d 57        ld      d,a
5c4e 2ac483    ld      hl,(83c4h)
5c51 5e        ld      e,(hl)
5c52 eb        ex      de,hl
5c53 29        add     hl,hl
5c54 09        add     hl,bc
5c55 eb        ex      de,hl
5c56 2b        dec     hl
5c57 2b        dec     hl
5c58 73        ld      (hl),e
5c59 23        inc     hl
5c5a 72        ld      (hl),d
5c5b 23        inc     hl
5c5c f1        pop     af
5c5d 3832      jr      c,5c91h
5c5f 47        ld      b,a
5c60 4f        ld      c,a
5c61 7e        ld      a,(hl)
5c62 23        inc     hl
5c63 16e1      ld      d,0e1h
5c65 5e        ld      e,(hl)
5c66 23        inc     hl
5c67 56        ld      d,(hl)
5c68 23        inc     hl
5c69 e3        ex      (sp),hl
5c6a f5        push    af
5c6b cda25f    call    5fa2h
5c6e d2e05b    jp      nc,5be0h
5c71 cde13e    call    3ee1h
5c74 19        add     hl,de
5c75 f1        pop     af
5c76 3d        dec     a
5c77 44        ld      b,h
5c78 4d        ld      c,l
5c79 20e9      jr      nz,5c64h
5c7b 3a8e83    ld      a,(838eh)
5c7e 44        ld      b,h
5c7f 4d        ld      c,l
5c80 29        add     hl,hl
5c81 d604      sub     04h
5c83 3804      jr      c,5c89h
5c85 29        add     hl,hl
5c86 2806      jr      z,5c8eh
5c88 29        add     hl,hl
5c89 b7        or      a
5c8a e28e5c    jp      po,5c8eh
5c8d 09        add     hl,bc
5c8e c1        pop     bc
5c8f 09        add     hl,bc
5c90 eb        ex      de,hl
5c91 2ae383    ld      hl,(83e3h)
5c94 c9        ret     
5c95 37        scf     
5c96 9f        sbc     a,a
5c97 e1        pop     hl
5c98 c9        ret     
5c99 7e        ld      a,(hl)
5c9a 23        inc     hl
5c9b c5        push    bc
5c9c 0600      ld      b,00h
5c9e 4f        ld      c,a
5c9f 09        add     hl,bc
5ca0 c1        pop     bc
5ca1 c9        ret     
5ca2 c5        push    bc
5ca3 d5        push    de
5ca4 f5        push    af
5ca5 116c80    ld      de,806ch
5ca8 1a        ld      a,(de)
5ca9 47        ld      b,a
5caa 04        inc     b
5cab 1a        ld      a,(de)
5cac 13        inc     de
5cad 23        inc     hl
5cae 77        ld      (hl),a
5caf 05        dec     b
5cb0 20f9      jr      nz,5cabh
5cb2 f1        pop     af
5cb3 d1        pop     de
5cb4 c1        pop     bc
5cb5 c9        ret     
5cb6 d5        push    de
5cb7 c5        push    bc
5cb8 116d80    ld      de,806dh
5cbb 47        ld      b,a
5cbc 23        inc     hl
5cbd 04        inc     b
5cbe 05        dec     b
5cbf 280d      jr      z,5cceh
5cc1 1a        ld      a,(de)
5cc2 13        inc     de
5cc3 be        cp      (hl)
5cc4 23        inc     hl
5cc5 28f7      jr      z,5cbeh
5cc7 78        ld      a,b
5cc8 3d        dec     a
5cc9 c49b5c    call    nz,5c9bh
5ccc af        xor     a
5ccd 3d        dec     a
5cce c1        pop     bc
5ccf d1        pop     de
5cd0 c9        ret     
5cd1 cdd42e    call    2ed4h
5cd4 cd1d3e    call    3e1dh
5cd7 cda85f    call    5fa8h
5cda 3b        dec     sp
5cdb eb        ex      de,hl
5cdc 2a2b85    ld      hl,(852bh)
5cdf 1808      jr      5ce9h
5ce1 3acd83    ld      a,(83cdh)
5ce4 b7        or      a
5ce5 280c      jr      z,5cf3h
5ce7 d1        pop     de
5ce8 eb        ex      de,hl
5ce9 e5        push    hl
5cea af        xor     a
5ceb 32cd83    ld      (83cdh),a
5cee 3c        inc     a
5cef f5        push    af
5cf0 d5        push    de
5cf1 46        ld      b,(hl)
5cf2 b0        or      b
5cf3 ca1c29    jp      z,291ch
5cf6 23        inc     hl
5cf7 7e        ld      a,(hl)
5cf8 23        inc     hl
5cf9 66        ld      h,(hl)
5cfa 6f        ld      l,a
5cfb 181c      jr      5d19h
5cfd 58        ld      e,b
5cfe e5        push    hl
5cff 0e02      ld      c,02h
5d01 7e        ld      a,(hl)
5d02 23        inc     hl
5d03 fe5c      cp      5ch
5d05 ca4b5e    jp      z,5e4bh
5d08 fe20      cp      20h
5d0a 2003      jr      nz,5d0fh
5d0c 0c        inc     c
5d0d 10f2      djnz    5d01h
5d0f e1        pop     hl
5d10 43        ld      b,e
5d11 3e5c      ld      a,5ch
5d13 cd845e    call    5e84h
5d16 cdd957    call    57d9h
5d19 af        xor     a
5d1a 5f        ld      e,a
5d1b 57        ld      d,a
5d1c cd845e    call    5e84h
5d1f 57        ld      d,a
5d20 7e        ld      a,(hl)
5d21 23        inc     hl
5d22 fe21      cp      21h
5d24 ca485e    jp      z,5e48h
5d27 fe23      cp      23h
5d29 2841      jr      z,5d6ch
5d2b fe26      cp      26h
5d2d ca445e    jp      z,5e44h
5d30 05        dec     b
5d31 ca235e    jp      z,5e23h
5d34 fe2b      cp      2bh
5d36 3e08      ld      a,08h
5d38 28e2      jr      z,5d1ch
5d3a 2b        dec     hl
5d3b 7e        ld      a,(hl)
5d3c 23        inc     hl
5d3d fe2e      cp      2eh
5d3f 2845      jr      z,5d86h
5d41 fe5f      cp      5fh
5d43 ca395e    jp      z,5e39h
5d46 fe5c      cp      5ch
5d48 28b3      jr      z,5cfdh
5d4a be        cp      (hl)
5d4b 20c6      jr      nz,5d13h
5d4d fe24      cp      24h
5d4f 2814      jr      z,5d65h
5d51 fe2a      cp      2ah
5d53 20be      jr      nz,5d13h
5d55 23        inc     hl
5d56 78        ld      a,b
5d57 fe02      cp      02h
5d59 3803      jr      c,5d5eh
5d5b 7e        ld      a,(hl)
5d5c fe24      cp      24h
5d5e 3e20      ld      a,20h
5d60 2007      jr      nz,5d69h
5d62 05        dec     b
5d63 1c        inc     e
5d64 feaf      cp      0afh
5d66 c610      add     a,10h
5d68 23        inc     hl
5d69 1c        inc     e
5d6a 82        add     a,d
5d6b 57        ld      d,a
5d6c 1c        inc     e
5d6d 0e00      ld      c,00h
5d6f 05        dec     b
5d70 2848      jr      z,5dbah
5d72 7e        ld      a,(hl)
5d73 23        inc     hl
5d74 fe2e      cp      2eh
5d76 2819      jr      z,5d91h
5d78 fe23      cp      23h
5d7a 28f0      jr      z,5d6ch
5d7c fe2c      cp      2ch
5d7e 201b      jr      nz,5d9bh
5d80 7a        ld      a,d
5d81 f640      or      40h
5d83 57        ld      d,a
5d84 18e6      jr      5d6ch
5d86 7e        ld      a,(hl)
5d87 fe23      cp      23h
5d89 3e2e      ld      a,2eh
5d8b c2135d    jp      nz,5d13h
5d8e 0e01      ld      c,01h
5d90 23        inc     hl
5d91 0c        inc     c
5d92 05        dec     b
5d93 2825      jr      z,5dbah
5d95 7e        ld      a,(hl)
5d96 23        inc     hl
5d97 fe23      cp      23h
5d99 28f6      jr      z,5d91h
5d9b d5        push    de
5d9c 11b85d    ld      de,5db8h
5d9f d5        push    de
5da0 54        ld      d,h
5da1 5d        ld      e,l
5da2 fe5e      cp      5eh
5da4 c0        ret     nz
5da5 be        cp      (hl)
5da6 c0        ret     nz
5da7 23        inc     hl
5da8 be        cp      (hl)
5da9 c0        ret     nz
5daa 23        inc     hl
5dab be        cp      (hl)
5dac c0        ret     nz
5dad 23        inc     hl
5dae 78        ld      a,b
5daf d604      sub     04h
5db1 d8        ret     c
5db2 d1        pop     de
5db3 d1        pop     de
5db4 47        ld      b,a
5db5 14        inc     d
5db6 23        inc     hl
5db7 caebd1    jp      z,0d1ebh
5dba 7a        ld      a,d
5dbb 2b        dec     hl
5dbc 1c        inc     e
5dbd e608      and     08h
5dbf 2015      jr      nz,5dd6h
5dc1 1d        dec     e
5dc2 78        ld      a,b
5dc3 b7        or      a
5dc4 2810      jr      z,5dd6h
5dc6 7e        ld      a,(hl)
5dc7 d62d      sub     2dh
5dc9 2806      jr      z,5dd1h
5dcb fefe      cp      0feh
5dcd 2007      jr      nz,5dd6h
5dcf 3e08      ld      a,08h
5dd1 c604      add     a,04h
5dd3 82        add     a,d
5dd4 57        ld      d,a
5dd5 05        dec     b
5dd6 e1        pop     hl
5dd7 f1        pop     af
5dd8 2854      jr      z,5e2eh
5dda c5        push    bc
5ddb d5        push    de
5ddc cdd32e    call    2ed3h
5ddf d1        pop     de
5de0 c1        pop     bc
5de1 c5        push    bc
5de2 e5        push    hl
5de3 43        ld      b,e
5de4 78        ld      a,b
5de5 81        add     a,c
5de6 fe19      cp      19h
5de8 d21c29    jp      nc,291ch
5deb 7a        ld      a,d
5dec f680      or      80h
5dee cdb644    call    44b6h
5df1 cdd362    call    62d3h
5df4 e1        pop     hl
5df5 2b        dec     hl
5df6 cd1a28    call    281ah
5df9 37        scf     
5dfa 280f      jr      z,5e0bh
5dfc 32cd83    ld      (83cdh),a
5dff fe3b      cp      3bh
5e01 2805      jr      z,5e08h
5e03 fe2c      cp      2ch
5e05 c22822    jp      nz,2228h
5e08 cd1a28    call    281ah
5e0b c1        pop     bc
5e0c eb        ex      de,hl
5e0d e1        pop     hl
5e0e e5        push    hl
5e0f f5        push    af
5e10 d5        push    de
5e11 7e        ld      a,(hl)
5e12 90        sub     b
5e13 23        inc     hl
5e14 1600      ld      d,00h
5e16 5f        ld      e,a
5e17 7e        ld      a,(hl)
5e18 23        inc     hl
5e19 66        ld      h,(hl)
5e1a 6f        ld      l,a
5e1b 19        add     hl,de
5e1c 78        ld      a,b
5e1d b7        or      a
5e1e c2195d    jp      nz,5d19h
5e21 1806      jr      5e29h
5e23 cd845e    call    5e84h
5e26 cdd957    call    57d9h
5e29 e1        pop     hl
5e2a f1        pop     af
5e2b c2e15c    jp      nz,5ce1h
5e2e dc1c59    call    c,591ch
5e31 e3        ex      (sp),hl
5e32 cd4e64    call    644eh
5e35 e1        pop     hl
5e36 c3d22c    jp      2cd2h
5e39 cd845e    call    5e84h
5e3c 05        dec     b
5e3d 7e        ld      a,(hl)
5e3e 23        inc     hl
5e3f cdd957    call    57d9h
5e42 18d8      jr      5e1ch
5e44 0e00      ld      c,00h
5e46 1804      jr      5e4ch
5e48 0e01      ld      c,01h
5e4a 3ef1      ld      a,0f1h
5e4c 05        dec     b
5e4d cd845e    call    5e84h
5e50 e1        pop     hl
5e51 f1        pop     af
5e52 28da      jr      z,5e2eh
5e54 c5        push    bc
5e55 cdd32e    call    2ed3h
5e58 cd1d3e    call    3e1dh
5e5b c1        pop     bc
5e5c c5        push    bc
5e5d e5        push    hl
5e5e 2a2b85    ld      hl,(852bh)
5e61 41        ld      b,c
5e62 0e00      ld      c,00h
5e64 78        ld      a,b
5e65 f5        push    af
5e66 78        ld      a,b
5e67 b7        or      a
5e68 c4eb64    call    nz,64ebh
5e6b cdd662    call    62d6h
5e6e 2a2b85    ld      hl,(852bh)
5e71 f1        pop     af
5e72 b7        or      a
5e73 caf45d    jp      z,5df4h
5e76 96        sub     (hl)
5e77 47        ld      b,a
5e78 3e20      ld      a,20h
5e7a 04        inc     b
5e7b 05        dec     b
5e7c caf45d    jp      z,5df4h
5e7f cdd957    call    57d9h
5e82 18f7      jr      5e7bh
5e84 f5        push    af
5e85 7a        ld      a,d
5e86 b7        or      a
5e87 3e2b      ld      a,2bh
5e89 c4d957    call    nz,57d9h
5e8c f1        pop     af
5e8d c9        ret     
5e8e cdc15e    call    5ec1h
5e91 c5        push    bc
5e92 e3        ex      (sp),hl
5e93 c1        pop     bc
5e94 cda25f    call    5fa2h
5e97 7e        ld      a,(hl)
5e98 02        ld      (bc),a
5e99 c8        ret     z
5e9a 0b        dec     bc
5e9b 2b        dec     hl
5e9c 18f6      jr      5e94h
5e9e e5        push    hl
5e9f 2a9d83    ld      hl,(STACKPTR)
5ea2 0600      ld      b,00h
5ea4 09        add     hl,bc
5ea5 09        add     hl,bc
5ea6 3ec6      ld      a,0c6h
5ea8 95        sub     l
5ea9 6f        ld      l,a
5eaa 3eff      ld      a,0ffh
5eac 9c        sbc     a,h
5ead 67        ld      h,a
5eae 3803      jr      c,5eb3h
5eb0 39        add     hl,sp
5eb1 e1        pop     hl
5eb2 d8        ret     c
5eb3 2a3d80    ld      hl,(TOPMEM)
5eb6 2b        dec     hl
5eb7 2b        dec     hl
5eb8 22d883    ld      (83d8h),hl
5ebb 110700    ld      de,0007h
5ebe c34222    jp      2242h
5ec1 cdda5e    call    5edah
5ec4 d0        ret     nc
5ec5 3a1a85    ld      a,(851ah)
5ec8 b7        or      a
5ec9 20f0      jr      nz,5ebbh
5ecb c5        push    bc
5ecc d5        push    de
5ecd e5        push    hl
5ece cd1563    call    6315h
5ed1 e1        pop     hl
5ed2 d1        pop     de
5ed3 c1        pop     bc
5ed4 cdda5e    call    5edah
5ed7 d0        ret     nc
5ed8 18e1      jr      5ebbh
5eda d5        push    de
5edb eb        ex      de,hl
5edc 2ac283    ld      hl,(83c2h)
5edf cda25f    call    5fa2h
5ee2 eb        ex      de,hl
5ee3 d1        pop     de
5ee4 c9        ret     
5ee5 3a6b80    ld      a,(806bh)
5ee8 47        ld      b,a
5ee9 214b80    ld      hl,804bh
5eec af        xor     a
5eed 04        inc     b
5eee 5e        ld      e,(hl)
5eef 23        inc     hl
5ef0 56        ld      d,(hl)
5ef1 23        inc     hl
5ef2 12        ld      (de),a
5ef3 10f9      djnz    5eeeh
5ef5 cd0653    call    5306h
5ef8 af        xor     a
5ef9 c0        ret     nz
5efa 2a4180    ld      hl,(8041h)
5efd cd4b60    call    604bh
5f00 321385    ld      (8513h),a
5f03 32d183    ld      (83d1h),a
5f06 32d083    ld      (83d0h),a
5f09 77        ld      (hl),a
5f0a 23        inc     hl
5f0b 77        ld      (hl),a
5f0c 23        inc     hl
5f0d 22e983    ld      (83e9h),hl
5f10 2a4180    ld      hl,(8041h)
5f13 2b        dec     hl
5f14 22ce83    ld      (83ceh),hl
5f17 3a1485    ld      a,(8514h)
5f1a b7        or      a
5f1b 2011      jr      nz,5f2eh
5f1d af        xor     a
5f1e 32ee84    ld      (84eeh),a
5f21 32ed84    ld      (84edh),a
5f24 061a      ld      b,1ah
5f26 21f183    ld      hl,83f1h
5f29 3604      ld      (hl),04h
5f2b 23        inc     hl
5f2c 10fb      djnz    5f29h
5f2e 11ff4a    ld      de,4affh
5f31 217e85    ld      hl,857eh
5f34 cdb23c    call    3cb2h
5f37 218285    ld      hl,8582h
5f3a af        xor     a
5f3b 77        ld      (hl),a
5f3c 23        inc     hl
5f3d 77        ld      (hl),a
5f3e 23        inc     hl
5f3f 77        ld      (hl),a
5f40 af        xor     a
5f41 32e283    ld      (83e2h),a
5f44 6f        ld      l,a
5f45 67        ld      h,a
5f46 22e083    ld      (83e0h),hl
5f49 22e783    ld      (83e7h),hl
5f4c 2a9d83    ld      hl,(STACKPTR)
5f4f 3a1a85    ld      a,(851ah)
5f52 b7        or      a
5f53 2003      jr      nz,5f58h
5f55 22c283    ld      (83c2h),hl
5f58 af        xor     a
5f59 cdba5f    call    5fbah
5f5c 2ae983    ld      hl,(83e9h)
5f5f 22eb83    ld      (83ebh),hl
5f62 22ed83    ld      (83edh),hl
5f65 3a1485    ld      a,(8514h)
5f68 b7        or      a
5f69 cc0653    call    z,5306h
5f6c c1        pop     bc
5f6d 2a3d80    ld      hl,(TOPMEM)
5f70 2b        dec     hl
5f71 2b        dec     hl
5f72 22d883    ld      (83d8h),hl
5f75 23        inc     hl
5f76 23        inc     hl
5f77 f9        ld      sp,hl
5f78 21a183    ld      hl,83a1h
5f7b 229f83    ld      (839fh),hl
5f7e cd8739    call    3987h
5f81 cd4558    call    5845h
5f84 cdd22c    call    2cd2h
5f87 af        xor     a
5f88 67        ld      h,a
5f89 6f        ld      l,a
5f8a 220d84    ld      (840dh),hl
5f8d 32de84    ld      (84deh),a
5f90 227584    ld      (8475h),hl
5f93 22e184    ld      (84e1h),hl
5f96 220b84    ld      (840bh),hl
5f99 32cc83    ld      (83cch),a
5f9c e5        push    hl
5f9d c5        push    bc
5f9e 2ace83    ld      hl,(83ceh)
5fa1 c9        ret   

5fa2 7c        ld      a,h
5fa3 92        sub     d
5fa4 c0        ret     nz
5fa5 7d        ld      a,l
5fa6 93        sub     e
5fa7 c9        ret     
5fa8 7e        ld      a,(hl)
5fa9 e3        ex      (sp),hl
5faa be        cp      (hl)
5fab 200a      jr      nz,5fb7h
5fad 23        inc     hl
5fae e3        ex      (sp),hl
5faf 23        inc     hl
5fb0 7e        ld      a,(hl)
5fb1 fe3a      cp      3ah
5fb3 d0        ret     nc
5fb4 c31f28    jp      281fh
5fb7 c32822    jp      2228h
5fba eb        ex      de,hl
5fbb 2a4180    ld      hl,(8041h)
5fbe 280e      jr      z,5fceh
5fc0 eb        ex      de,hl
5fc1 cd2b29    call    292bh
5fc4 e5        push    hl
5fc5 cd3824    call    2438h
5fc8 60        ld      h,b
5fc9 69        ld      l,c
5fca d1        pop     de
5fcb d2ca29    jp      nc,29cah
5fce 2b        dec     hl
5fcf 22ef83    ld      (83efh),hl
5fd2 eb        ex      de,hl
5fd3 c9        ret     
5fd4 c0        ret     nz
5fd5 3c        inc     a
5fd6 1806      jr      5fdeh
5fd8 c0        ret     nz
5fd9 f5        push    af
5fda cc0653    call    z,5306h
5fdd f1        pop     af
5fde 22d683    ld      (83d6h),hl
5fe1 21a183    ld      hl,83a1h
5fe4 229f83    ld      (839fh),hl
5fe7 21f6ff    ld      hl,0fff6h
5fea c1        pop     bc
5feb 2a3f80    ld      hl,(803fh)
5fee e5        push    hl
5fef f5        push    af
5ff0 7d        ld      a,l
5ff1 a4        and     h
5ff2 3c        inc     a
5ff3 2809      jr      z,5ffeh
5ff5 22e583    ld      (83e5h),hl
5ff8 2ad683    ld      hl,(83d6h)
5ffb 22e783    ld      (83e7h),hl
5ffe af        xor     a
5fff 323a80    ld      (803ah),a
6002 cd4558    call    5845h
6005 cd1059    call    5910h
6008 f1        pop     af
6009 21b021    ld      hl,21b0h
600c c2b922    jp      nz,22b9h
600f c3db22    jp      22dbh
6012 3e0f      ld      a,0fh
6014 f5        push    af
6015 d603      sub     03h
6017 2006      jr      nz,601fh
6019 323480    ld      (8034h),a
601c 323a80    ld      (803ah),a
601f 3e5e      ld      a,5eh
6021 cdd957    call    57d9h
6024 f1        pop     af
6025 c640      add     a,40h
6027 cdd957    call    57d9h
602a c31c59    jp      591ch
602d 2ae783    ld      hl,(83e7h)
6030 7c        ld      a,h
6031 b5        or      l
6032 111100    ld      de,0011h
6035 ca4222    jp      z,2242h
6038 ed5be583  ld      de,(83e5h)
603c ed533f80  ld      (803fh),de
6040 c9        ret     
6041 cd0a35    call    350ah
6044 c0        ret     nz
6045 3c        inc     a
6046 322f80    ld      (802fh),a
6049 c9        ret     
604a 3eaf      ld      a,0afh
604c 322585    ld      (8525h),a
604f c9        ret     
6050 cdb759    call    59b7h
6053 d5        push    de
6054 e5        push    hl
6055 211d85    ld      hl,851dh
6058 cdb73c    call    3cb7h
605b 2aeb83    ld      hl,(83ebh)
605e e3        ex      (sp),hl
605f cd0f32    call    320fh
6062 f5        push    af
6063 cda85f    call    5fa8h
6066 2c        inc     l
6067 cdb759    call    59b7h
606a f1        pop     af
606b 47        ld      b,a
606c cd0f32    call    320fh
606f b8        cp      b
6070 c24022    jp      nz,2240h
6073 e3        ex      (sp),hl
6074 eb        ex      de,hl
6075 e5        push    hl
6076 2aeb83    ld      hl,(83ebh)
6079 cda25f    call    5fa2h
607c 2010      jr      nz,608eh
607e d1        pop     de
607f e1        pop     hl
6080 e3        ex      (sp),hl
6081 d5        push    de
6082 cdb73c    call    3cb7h
6085 e1        pop     hl
6086 111d85    ld      de,851dh
6089 cdb73c    call    3cb7h
608c e1        pop     hl
608d c9        ret     
608e c31c29    jp      291ch
6091 3e01      ld      a,01h
6093 32cc83    ld      (83cch),a
6096 cdb759    call    59b7h
6099 20f3      jr      nz,608eh
609b e5        push    hl
609c 32cc83    ld      (83cch),a
609f 60        ld      h,b
60a0 69        ld      l,c
60a1 0b        dec     bc
60a2 0b        dec     bc
60a3 0b        dec     bc
60a4 0a        ld      a,(bc)
60a5 0b        dec     bc
60a6 b7        or      a
60a7 faa460    jp      m,60a4h
60aa 0b        dec     bc
60ab 0b        dec     bc
60ac 19        add     hl,de
60ad eb        ex      de,hl
60ae 2aed83    ld      hl,(83edh)
60b1 cda25f    call    5fa2h
60b4 1a        ld      a,(de)
60b5 02        ld      (bc),a
60b6 13        inc     de
60b7 03        inc     bc
60b8 20f7      jr      nz,60b1h
60ba 0b        dec     bc
60bb 60        ld      h,b
60bc 69        ld      l,c
60bd 22ed83    ld      (83edh),hl
60c0 e1        pop     hl
60c1 7e        ld      a,(hl)
60c2 fe2c      cp      2ch
60c4 c0        ret     nz
60c5 cd1a28    call    281ah
60c8 18c7      jr      6091h
60ca f1        pop     af
60cb e1        pop     hl
60cc c9        ret     
60cd 7e        ld      a,(hl)
60ce fe41      cp      41h
60d0 d8        ret     c
60d1 fe5b      cp      5bh
60d3 3f        ccf     
60d4 c9        ret     
60d5 c3145f    jp      5f14h
60d8 28fb      jr      z,60d5h
60da fe2c      cp      2ch
60dc 2809      jr      z,60e7h
60de cd1829    call    2918h
60e1 2b        dec     hl
60e2 cd1a28    call    281ah
60e5 28ee      jr      z,60d5h
60e7 cda85f    call    5fa8h
60ea 2c        inc     l
60eb 28e8      jr      z,60d5h
60ed ed5b3d80  ld      de,(TOPMEM)
60f1 fe2c      cp      2ch
60f3 2803      jr      z,60f8h
60f5 cd3861    call    6138h
60f8 2b        dec     hl
60f9 cd1a28    call    281ah
60fc d5        push    de
60fd 2845      jr      z,6144h
60ff cda85f    call    5fa8h
6102 2c        inc     l
6103 283f      jr      z,6144h
6105 cd3861    call    6138h
6108 2b        dec     hl
6109 cd1a28    call    281ah
610c c22822    jp      nz,2228h
610f e3        ex      (sp),hl
6110 e5        push    hl
6111 214e00    ld      hl,004eh
6114 cda25f    call    5fa2h
6117 3028      jr      nc,6141h
6119 e1        pop     hl
611a cd5561    call    6155h
611d 3822      jr      c,6141h
611f e5        push    hl
6120 2ae983    ld      hl,(83e9h)
6123 011400    ld      bc,0014h
6126 09        add     hl,bc
6127 cda25f    call    5fa2h
612a 3015      jr      nc,6141h
612c eb        ex      de,hl
612d 229d83    ld      (STACKPTR),hl
6130 e1        pop     hl
6131 223d80    ld      (TOPMEM),hl
6134 e1        pop     hl
6135 c3d560    jp      60d5h
6138 cd5037    call    3750h
613b 7a        ld      a,d
613c b3        or      e
613d ca1c29    jp      z,291ch
6140 c9        ret     
6141 c3b35e    jp      5eb3h
6144 e5        push    hl
6145 2a3d80    ld      hl,(TOPMEM)
6148 eb        ex      de,hl
6149 2a9d83    ld      hl,(STACKPTR)
614c 7b        ld      a,e
614d 95        sub     l
614e 5f        ld      e,a
614f 7a        ld      a,d
6150 9c        sbc     a,h
6151 57        ld      d,a
6152 e1        pop     hl
6153 18ba      jr      610fh
6155 7d        ld      a,l
6156 93        sub     e
6157 5f        ld      e,a
6158 7c        ld      a,h
6159 9a        sbc     a,d
615a 57        ld      d,a
615b c9        ret     
615c f5        push    af
615d f6af      or      0afh
615f 32e684    ld      (84e6h),a
6162 f1        pop     af
6163 110000    ld      de,0000h
6166 22e484    ld      (84e4h),hl
6169 c4b759    call    nz,59b7h
616c 22ce83    ld      (83ceh),hl
616f cdb621    call    21b6h
6172 c22e22    jp      nz,222eh
6175 f9        ld      sp,hl
6176 d5        push    de
6177 5e        ld      e,(hl)
6178 23        inc     hl
6179 56        ld      d,(hl)
617a 23        inc     hl
617b e5        push    hl
617c 2ae484    ld      hl,(84e4h)
617f cda25f    call    5fa2h
6182 c22e22    jp      nz,222eh
6185 e1        pop     hl
6186 d1        pop     de
6187 d5        push    de
6188 7e        ld      a,(hl)
6189 f5        push    af
618a 23        inc     hl
618b d5        push    de
618c 7e        ld      a,(hl)
618d 23        inc     hl
618e b7        or      a
618f fab561    jp      m,61b5h
6192 cd953c    call    3c95h
6195 e3        ex      (sp),hl
6196 e5        push    hl
6197 3ae684    ld      a,(84e6h)
619a b7        or      a
619b 2007      jr      nz,61a4h
619d 21e784    ld      hl,84e7h
61a0 cd953c    call    3c95h
61a3 af        xor     a
61a4 c49139    call    nz,3991h
61a7 e1        pop     hl
61a8 cdaf3c    call    3cafh
61ab e1        pop     hl
61ac cda63c    call    3ca6h
61af e5        push    hl
61b0 cdf13c    call    3cf1h
61b3 1834      jr      61e9h
61b5 23        inc     hl
61b6 23        inc     hl
61b7 23        inc     hl
61b8 23        inc     hl
61b9 4e        ld      c,(hl)
61ba 23        inc     hl
61bb 46        ld      b,(hl)
61bc 23        inc     hl
61bd e3        ex      (sp),hl
61be 5e        ld      e,(hl)
61bf 23        inc     hl
61c0 56        ld      d,(hl)
61c1 e5        push    hl
61c2 69        ld      l,c
61c3 60        ld      h,b
61c4 3ae684    ld      a,(84e6h)
61c7 b7        or      a
61c8 2005      jr      nz,61cfh
61ca 2ae784    ld      hl,(84e7h)
61cd 180b      jr      61dah
61cf cd093f    call    3f09h
61d2 3a8e83    ld      a,(838eh)
61d5 fe04      cp      04h
61d7 ca3a22    jp      z,223ah
61da eb        ex      de,hl
61db e1        pop     hl
61dc 72        ld      (hl),d
61dd 2b        dec     hl
61de 73        ld      (hl),e
61df e1        pop     hl
61e0 d5        push    de
61e1 5e        ld      e,(hl)
61e2 23        inc     hl
61e3 56        ld      d,(hl)
61e4 23        inc     hl
61e5 e3        ex      (sp),hl
61e6 cd1e3d    call    3d1eh
61e9 e1        pop     hl
61ea c1        pop     bc
61eb 90        sub     b
61ec cda63c    call    3ca6h
61ef 2809      jr      z,61fah
61f1 eb        ex      de,hl
61f2 223f80    ld      (803fh),hl
61f5 69        ld      l,c
61f6 60        ld      h,b
61f7 c3b027    jp      27b0h
61fa f9        ld      sp,hl
61fb 22d883    ld      (83d8h),hl
61fe 2ace83    ld      hl,(83ceh)
6201 7e        ld      a,(hl)
6202 fe2c      cp      2ch
6204 c2b427    jp      nz,27b4h
6207 cd1a28    call    281ah
620a cd6661    call    6166h
620d e5        push    hl
620e 2a3b80    ld      hl,(803bh)
6211 7c        ld      a,h
6212 b5        or      l
6213 e1        pop     hl
6214 c9        ret     
6215 cd4864    call    6448h
6218 7e        ld      a,(hl)
6219 23        inc     hl
621a 4e        ld      c,(hl)
621b 23        inc     hl
621c 46        ld      b,(hl)
621d d1        pop     de
621e c5        push    bc
621f f5        push    af
6220 cd4f64    call    644fh
6223 f1        pop     af
6224 57        ld      d,a
6225 5e        ld      e,(hl)
6226 23        inc     hl
6227 4e        ld      c,(hl)
6228 23        inc     hl
6229 46        ld      b,(hl)
622a e1        pop     hl
622b 7b        ld      a,e
622c b2        or      d
622d c8        ret     z
622e 7a        ld      a,d
622f d601      sub     01h
6231 d8        ret     c
6232 af        xor     a
6233 bb        cp      e
6234 3c        inc     a
6235 d0        ret     nc
6236 15        dec     d
6237 1d        dec     e
6238 0a        ld      a,(bc)
6239 03        inc     bc
623a be        cp      (hl)
623b 23        inc     hl
623c 28ed      jr      z,622bh
623e 3f        ccf     
623f c3403c    jp      3c40h
6242 cdb549    call    49b5h
6245 1808      jr      624fh
6247 cdb849    call    49b8h
624a 1803      jr      624fh
624c cdb544    call    44b5h
624f cd7d62    call    627dh
6252 cd4b64    call    644bh
6255 019e64    ld      bc,649eh
6258 c5        push    bc
6259 7e        ld      a,(hl)
625a 23        inc     hl
625b e5        push    hl
625c cdeb62    call    62ebh
625f e1        pop     hl
6260 4e        ld      c,(hl)
6261 23        inc     hl
6262 46        ld      b,(hl)
6263 cd7262    call    6272h
6266 e5        push    hl
6267 6f        ld      l,a
6268 cd3f64    call    643fh
626b d1        pop     de
626c c9        ret     
626d 3e01      ld      a,01h
626f cdeb62    call    62ebh
6272 21bf83    ld      hl,83bfh
6275 e5        push    hl
6276 77        ld      (hl),a
6277 23        inc     hl
6278 73        ld      (hl),e
6279 23        inc     hl
627a 72        ld      (hl),d
627b e1        pop     hl
627c c9        ret     
627d 2b        dec     hl
627e 0622      ld      b,22h
6280 50        ld      d,b
6281 e5        push    hl
6282 0eff      ld      c,0ffh
6284 23        inc     hl
6285 7e        ld      a,(hl)
6286 0c        inc     c
6287 b7        or      a
6288 2806      jr      z,6290h
628a ba        cp      d
628b 2803      jr      z,6290h
628d b8        cp      b
628e 20f4      jr      nz,6284h
6290 fe22      cp      22h
6292 cc1a28    call    z,281ah
6295 e5        push    hl
6296 78        ld      a,b
6297 fe2c      cp      2ch
6299 200a      jr      nz,62a5h
629b 0c        inc     c
629c 0d        dec     c
629d 2806      jr      z,62a5h
629f 2b        dec     hl
62a0 7e        ld      a,(hl)
62a1 fe20      cp      20h
62a3 28f7      jr      z,629ch
62a5 e1        pop     hl
62a6 e3        ex      (sp),hl
62a7 23        inc     hl
62a8 eb        ex      de,hl
62a9 79        ld      a,c
62aa cd7262    call    6272h
62ad 11bf83    ld      de,83bfh
62b0 3ed5      ld      a,0d5h
62b2 2a9f83    ld      hl,(839fh)
62b5 222b85    ld      (852bh),hl
62b8 3e03      ld      a,03h
62ba 328e83    ld      (838eh),a
62bd cdb73c    call    3cb7h
62c0 11c283    ld      de,83c2h
62c3 cda25f    call    5fa2h
62c6 229f83    ld      (839fh),hl
62c9 e1        pop     hl
62ca 7e        ld      a,(hl)
62cb c0        ret     nz
62cc 111000    ld      de,0010h
62cf c34222    jp      2242h
62d2 23        inc     hl
62d3 cd7d62    call    627dh
62d6 cd4b64    call    644bh
62d9 cda83c    call    3ca8h
62dc 14        inc     d
62dd 15        dec     d
62de c8        ret     z
62df 0a        ld      a,(bc)
62e0 cdd957    call    57d9h
62e3 fe0d      cp      0dh
62e5 cc2659    call    z,5926h
62e8 03        inc     bc
62e9 18f2      jr      62ddh
62eb b7        or      a
62ec 0ef1      ld      c,0f1h
62ee f5        push    af
62ef 2aed83    ld      hl,(83edh)
62f2 eb        ex      de,hl
62f3 2ac283    ld      hl,(83c2h)
62f6 2f        cpl     
62f7 4f        ld      c,a
62f8 06ff      ld      b,0ffh
62fa 09        add     hl,bc
62fb 23        inc     hl
62fc cda25f    call    5fa2h
62ff 3807      jr      c,6308h
6301 22c283    ld      (83c2h),hl
6304 23        inc     hl
6305 eb        ex      de,hl
6306 f1        pop     af
6307 c9        ret     
6308 f1        pop     af
6309 110e00    ld      de,000eh
630c ca4222    jp      z,2242h
630f bf        cp      a
6310 f5        push    af
6311 01ed62    ld      bc,62edh
6314 c5        push    bc
6315 2a9d83    ld      hl,(STACKPTR)
6318 22c283    ld      (83c2h),hl
631b 210000    ld      hl,0000h
631e e5        push    hl
631f 2aed83    ld      hl,(83edh)
6322 e5        push    hl
6323 21a183    ld      hl,83a1h
6326 ed5b9f83  ld      de,(839fh)
632a cda25f    call    5fa2h
632d 012663    ld      bc,6326h
6330 c2b663    jp      nz,63b6h
6333 217384    ld      hl,8473h
6336 22df84    ld      (84dfh),hl
6339 2aeb83    ld      hl,(83ebh)
633c 22dc84    ld      (84dch),hl
633f 2ae983    ld      hl,(83e9h)
6342 ed5bdc84  ld      de,(84dch)
6346 cda25f    call    5fa2h
6349 2817      jr      z,6362h
634b 7e        ld      a,(hl)
634c 23        inc     hl
634d 23        inc     hl
634e 23        inc     hl
634f f5        push    af
6350 cd995c    call    5c99h
6353 f1        pop     af
6354 fe03      cp      03h
6356 2004      jr      nz,635ch
6358 cdb763    call    63b7h
635b af        xor     a
635c 5f        ld      e,a
635d 1600      ld      d,00h
635f 19        add     hl,de
6360 18e0      jr      6342h
6362 2adf84    ld      hl,(84dfh)
6365 5e        ld      e,(hl)
6366 23        inc     hl
6367 56        ld      d,(hl)
6368 7a        ld      a,d
6369 b3        or      e
636a 2aeb83    ld      hl,(83ebh)
636d 2813      jr      z,6382h
636f eb        ex      de,hl
6370 22df84    ld      (84dfh),hl
6373 23        inc     hl
6374 23        inc     hl
6375 5e        ld      e,(hl)
6376 23        inc     hl
6377 56        ld      d,(hl)
6378 23        inc     hl
6379 eb        ex      de,hl
637a 19        add     hl,de
637b 22dc84    ld      (84dch),hl
637e eb        ex      de,hl
637f 18c1      jr      6342h
6381 c1        pop     bc
6382 ed5bed83  ld      de,(83edh)
6386 cda25f    call    5fa2h
6389 cadb63    jp      z,63dbh
638c 7e        ld      a,(hl)
638d 23        inc     hl
638e f5        push    af
638f 23        inc     hl
6390 23        inc     hl
6391 cd995c    call    5c99h
6394 4e        ld      c,(hl)
6395 23        inc     hl
6396 46        ld      b,(hl)
6397 23        inc     hl
6398 f1        pop     af
6399 e5        push    hl
639a 09        add     hl,bc
639b fe03      cp      03h
639d 20e2      jr      nz,6381h
639f 22c683    ld      (83c6h),hl
63a2 e1        pop     hl
63a3 4e        ld      c,(hl)
63a4 0600      ld      b,00h
63a6 09        add     hl,bc
63a7 09        add     hl,bc
63a8 23        inc     hl
63a9 eb        ex      de,hl
63aa 2ac683    ld      hl,(83c6h)
63ad eb        ex      de,hl
63ae cda25f    call    5fa2h
63b1 28cf      jr      z,6382h
63b3 01a963    ld      bc,63a9h
63b6 c5        push    bc
63b7 af        xor     a
63b8 b6        or      (hl)
63b9 23        inc     hl
63ba 5e        ld      e,(hl)
63bb 23        inc     hl
63bc 56        ld      d,(hl)
63bd 23        inc     hl
63be c8        ret     z
63bf 44        ld      b,h
63c0 4d        ld      c,l
63c1 2ac283    ld      hl,(83c2h)
63c4 cda25f    call    5fa2h
63c7 60        ld      h,b
63c8 69        ld      l,c
63c9 d8        ret     c
63ca e1        pop     hl
63cb e3        ex      (sp),hl
63cc cda25f    call    5fa2h
63cf e3        ex      (sp),hl
63d0 e5        push    hl
63d1 60        ld      h,b
63d2 69        ld      l,c
63d3 d0        ret     nc
63d4 c1        pop     bc
63d5 f1        pop     af
63d6 f1        pop     af
63d7 e5        push    hl
63d8 d5        push    de
63d9 c5        push    bc
63da c9        ret     
63db d1        pop     de
63dc e1        pop     hl
63dd 7c        ld      a,h
63de b5        or      l
63df c8        ret     z
63e0 2b        dec     hl
63e1 46        ld      b,(hl)
63e2 2b        dec     hl
63e3 4e        ld      c,(hl)
63e4 e5        push    hl
63e5 2b        dec     hl
63e6 6e        ld      l,(hl)
63e7 2600      ld      h,00h
63e9 09        add     hl,bc
63ea 50        ld      d,b
63eb 59        ld      e,c
63ec 2b        dec     hl
63ed 44        ld      b,h
63ee 4d        ld      c,l
63ef 2ac283    ld      hl,(83c2h)
63f2 cd915e    call    5e91h
63f5 e1        pop     hl
63f6 71        ld      (hl),c
63f7 23        inc     hl
63f8 70        ld      (hl),b
63f9 60        ld      h,b
63fa 69        ld      l,c
63fb 2b        dec     hl
63fc c31863    jp      6318h
63ff c5        push    bc
6400 e5        push    hl
6401 2a2b85    ld      hl,(852bh)
6404 e3        ex      (sp),hl
6405 cd4e30    call    304eh
6408 e3        ex      (sp),hl
6409 cd1d3e    call    3e1dh
640c 7e        ld      a,(hl)
640d e5        push    hl
640e 2a2b85    ld      hl,(852bh)
6411 e5        push    hl
6412 86        add     a,(hl)
6413 110f00    ld      de,000fh
6416 da4222    jp      c,2242h
6419 cd6f62    call    626fh
641c d1        pop     de
641d cd4f64    call    644fh
6420 e3        ex      (sp),hl
6421 cd4e64    call    644eh
6424 e5        push    hl
6425 2ac083    ld      hl,(83c0h)
6428 eb        ex      de,hl
6429 cd3764    call    6437h
642c cd3764    call    6437h
642f 21e32e    ld      hl,2ee3h
6432 e3        ex      (sp),hl
6433 e5        push    hl
6434 c3ad62    jp      62adh
6437 e1        pop     hl
6438 e3        ex      (sp),hl
6439 7e        ld      a,(hl)
643a 23        inc     hl
643b 4e        ld      c,(hl)
643c 23        inc     hl
643d 46        ld      b,(hl)
643e 6f        ld      l,a
643f 2c        inc     l
6440 2d        dec     l
6441 c8        ret     z
6442 0a        ld      a,(bc)
6443 12        ld      (de),a
6444 03        inc     bc
6445 13        inc     de
6446 18f8      jr      6440h
6448 cd1d3e    call    3e1dh
644b 2a2b85    ld      hl,(852bh)
644e eb        ex      de,hl
644f cd6864    call    6468h
6452 eb        ex      de,hl
6453 c0        ret     nz
6454 d5        push    de
6455 50        ld      d,b
6456 59        ld      e,c
6457 1b        dec     de
6458 4e        ld      c,(hl)
6459 2ac283    ld      hl,(83c2h)
645c cda25f    call    5fa2h
645f 2005      jr      nz,6466h
6461 47        ld      b,a
6462 09        add     hl,bc
6463 22c283    ld      (83c2h),hl
6466 e1        pop     hl
6467 c9        ret     
6468 2a9f83    ld      hl,(839fh)
646b 2b        dec     hl
646c 46        ld      b,(hl)
646d 2b        dec     hl
646e 4e        ld      c,(hl)
646f 2b        dec     hl
6470 cda25f    call    5fa2h
6473 c0        ret     nz
6474 229f83    ld      (839fh),hl
6477 c9        ret     
6478 017632    ld      bc,3276h
647b c5        push    bc
647c cd4864    call    6448h
647f af        xor     a
6480 57        ld      d,a
6481 7e        ld      a,(hl)
6482 b7        or      a
6483 c9        ret     
6484 017632    ld      bc,3276h
6487 c5        push    bc
6488 cd7c64    call    647ch
648b ca1c29    jp      z,291ch
648e 23        inc     hl
648f 5e        ld      e,(hl)
6490 23        inc     hl
6491 56        ld      d,(hl)
6492 1a        ld      a,(de)
6493 c9        ret     
6494 cd6d62    call    626dh
6497 cd0d35    call    350dh
649a 2ac083    ld      hl,(83c0h)
649d 73        ld      (hl),e
649e c1        pop     bc
649f c3ad62    jp      62adh
64a2 cd1a28    call    281ah
64a5 cda85f    call    5fa8h
64a8 28cd      jr      z,6477h
64aa 0a        ld      a,(bc)
64ab 35        dec     (hl)
64ac d5        push    de
64ad cda85f    call    5fa8h
64b0 2c        inc     l
64b1 cdd32e    call    2ed3h
64b4 cda85f    call    5fa8h
64b7 29        add     hl,hl
64b8 e3        ex      (sp),hl
64b9 e5        push    hl
64ba cd0f32    call    320fh
64bd 2805      jr      z,64c4h
64bf cd0d35    call    350dh
64c2 1803      jr      64c7h
64c4 cd8864    call    6488h
64c7 d1        pop     de
64c8 cdd064    call    64d0h
64cb cd0d35    call    350dh
64ce 3e20      ld      a,20h
64d0 f5        push    af
64d1 7b        ld      a,e
64d2 cd6f62    call    626fh
64d5 47        ld      b,a
64d6 f1        pop     af
64d7 04        inc     b
64d8 05        dec     b
64d9 28c3      jr      z,649eh
64db 2ac083    ld      hl,(83c0h)
64de 77        ld      (hl),a
64df 23        inc     hl
64e0 10fc      djnz    64deh
64e2 18ba      jr      649eh
64e4 cd5b65    call    655bh
64e7 af        xor     a
64e8 e3        ex      (sp),hl
64e9 4f        ld      c,a
64ea 3ee5      ld      a,0e5h
64ec e5        push    hl
64ed 7e        ld      a,(hl)
64ee b8        cp      b
64ef 3802      jr      c,64f3h
64f1 78        ld      a,b
64f2 110e00    ld      de,000eh
64f5 c5        push    bc
64f6 cdeb62    call    62ebh
64f9 c1        pop     bc
64fa e1        pop     hl
64fb e5        push    hl
64fc 23        inc     hl
64fd 46        ld      b,(hl)
64fe 23        inc     hl
64ff 66        ld      h,(hl)
6500 68        ld      l,b
6501 0600      ld      b,00h
6503 09        add     hl,bc
6504 44        ld      b,h
6505 4d        ld      c,l
6506 cd7262    call    6272h
6509 6f        ld      l,a
650a cd3f64    call    643fh
650d d1        pop     de
650e cd4f64    call    644fh
6511 c3ad62    jp      62adh
6514 cd5b65    call    655bh
6517 d1        pop     de
6518 d5        push    de
6519 1a        ld      a,(de)
651a 90        sub     b
651b 18cb      jr      64e8h
651d eb        ex      de,hl
651e 7e        ld      a,(hl)
651f cd6065    call    6560h
6522 04        inc     b
6523 05        dec     b
6524 ca1c29    jp      z,291ch
6527 c5        push    bc
6528 cd7066    call    6670h
652b f1        pop     af
652c e3        ex      (sp),hl
652d 01ec64    ld      bc,64ech
6530 c5        push    bc
6531 3d        dec     a
6532 be        cp      (hl)
6533 0600      ld      b,00h
6535 d0        ret     nc
6536 4f        ld      c,a
6537 7e        ld      a,(hl)
6538 91        sub     c
6539 bb        cp      e
653a 47        ld      b,a
653b d8        ret     c
653c 43        ld      b,e
653d c9        ret     
653e cd7c64    call    647ch
6541 ca7632    jp      z,3276h
6544 5f        ld      e,a
6545 23        inc     hl
6546 7e        ld      a,(hl)
6547 23        inc     hl
6548 66        ld      h,(hl)
6549 6f        ld      l,a
654a e5        push    hl
654b 19        add     hl,de
654c 46        ld      b,(hl)
654d 72        ld      (hl),d
654e e3        ex      (sp),hl
654f c5        push    bc
6550 2b        dec     hl
6551 cd1a28    call    281ah
6554 cd7d42    call    427dh
6557 c1        pop     bc
6558 e1        pop     hl
6559 70        ld      (hl),b
655a c9        ret     
655b eb        ex      de,hl
655c cda85f    call    5fa8h
655f 29        add     hl,hl
6560 c1        pop     bc
6561 d1        pop     de
6562 c5        push    bc
6563 43        ld      b,e
6564 c9        ret     
6565 cd1a28    call    281ah
6568 cdcf2e    call    2ecfh
656b cd0f32    call    320fh
656e 3e01      ld      a,01h
6570 f5        push    af
6571 2813      jr      z,6586h
6573 f1        pop     af
6574 cd0d35    call    350dh
6577 b7        or      a
6578 ca1c29    jp      z,291ch
657b f5        push    af
657c cda85f    call    5fa8h
657f 2c        inc     l
6580 cdd32e    call    2ed3h
6583 cd1d3e    call    3e1dh
6586 cda85f    call    5fa8h
6589 2c        inc     l
658a e5        push    hl
658b 2a2b85    ld      hl,(852bh)
658e e3        ex      (sp),hl
658f cdd32e    call    2ed3h
6592 cda85f    call    5fa8h
6595 29        add     hl,hl
6596 e5        push    hl
6597 cd4864    call    6448h
659a eb        ex      de,hl
659b c1        pop     bc
659c e1        pop     hl
659d f1        pop     af
659e c5        push    bc
659f 01563b    ld      bc,3b56h
65a2 c5        push    bc
65a3 017632    ld      bc,3276h
65a6 c5        push    bc
65a7 f5        push    af
65a8 d5        push    de
65a9 cd4e64    call    644eh
65ac d1        pop     de
65ad f1        pop     af
65ae 47        ld      b,a
65af 3d        dec     a
65b0 4f        ld      c,a
65b1 be        cp      (hl)
65b2 3e00      ld      a,00h
65b4 d0        ret     nc
65b5 1a        ld      a,(de)
65b6 b7        or      a
65b7 78        ld      a,b
65b8 c8        ret     z
65b9 7e        ld      a,(hl)
65ba 23        inc     hl
65bb 46        ld      b,(hl)
65bc 23        inc     hl
65bd 66        ld      h,(hl)
65be 68        ld      l,b
65bf 0600      ld      b,00h
65c1 09        add     hl,bc
65c2 91        sub     c
65c3 47        ld      b,a
65c4 c5        push    bc
65c5 d5        push    de
65c6 e3        ex      (sp),hl
65c7 4e        ld      c,(hl)
65c8 23        inc     hl
65c9 5e        ld      e,(hl)
65ca 23        inc     hl
65cb 56        ld      d,(hl)
65cc e1        pop     hl
65cd e5        push    hl
65ce d5        push    de
65cf c5        push    bc
65d0 1a        ld      a,(de)
65d1 be        cp      (hl)
65d2 2016      jr      nz,65eah
65d4 13        inc     de
65d5 0d        dec     c
65d6 2809      jr      z,65e1h
65d8 23        inc     hl
65d9 10f5      djnz    65d0h
65db d1        pop     de
65dc d1        pop     de
65dd c1        pop     bc
65de d1        pop     de
65df af        xor     a
65e0 c9        ret     
65e1 e1        pop     hl
65e2 d1        pop     de
65e3 d1        pop     de
65e4 c1        pop     bc
65e5 78        ld      a,b
65e6 94        sub     h
65e7 81        add     a,c
65e8 3c        inc     a
65e9 c9        ret     
65ea c1        pop     bc
65eb d1        pop     de
65ec e1        pop     hl
65ed 23        inc     hl
65ee 10dd      djnz    65cdh
65f0 18ec      jr      65deh
65f2 cda85f    call    5fa8h
65f5 28cd      jr      z,65c4h
65f7 b7        or      a
65f8 59        ld      e,c
65f9 cd1d3e    call    3e1dh
65fc e5        push    hl
65fd d5        push    de
65fe eb        ex      de,hl
65ff 23        inc     hl
6600 5e        ld      e,(hl)
6601 23        inc     hl
6602 56        ld      d,(hl)
6603 2aed83    ld      hl,(83edh)
6606 cda25f    call    5fa2h
6609 3812      jr      c,661dh
660b 2a4180    ld      hl,(8041h)
660e cda25f    call    5fa2h
6611 300a      jr      nc,661dh
6613 e1        pop     hl
6614 e5        push    hl
6615 cd5962    call    6259h
6618 e1        pop     hl
6619 e5        push    hl
661a cdb73c    call    3cb7h
661d e1        pop     hl
661e e3        ex      (sp),hl
661f cda85f    call    5fa8h
6622 2c        inc     l
6623 cd0a35    call    350ah
6626 b7        or      a
6627 ca1c29    jp      z,291ch
662a f5        push    af
662b 7e        ld      a,(hl)
662c cd7066    call    6670h
662f d5        push    de
6630 cdc82e    call    2ec8h
6633 e5        push    hl
6634 cd4864    call    6448h
6637 eb        ex      de,hl
6638 e1        pop     hl
6639 c1        pop     bc
663a f1        pop     af
663b 47        ld      b,a
663c e3        ex      (sp),hl
663d e5        push    hl
663e 21563b    ld      hl,3b56h
6641 e3        ex      (sp),hl
6642 79        ld      a,c
6643 b7        or      a
6644 c8        ret     z
6645 7e        ld      a,(hl)
6646 90        sub     b
6647 da1c29    jp      c,291ch
664a 3c        inc     a
664b b9        cp      c
664c 3801      jr      c,664fh
664e 79        ld      a,c
664f 48        ld      c,b
6650 0d        dec     c
6651 0600      ld      b,00h
6653 d5        push    de
6654 23        inc     hl
6655 5e        ld      e,(hl)
6656 23        inc     hl
6657 66        ld      h,(hl)
6658 6b        ld      l,e
6659 09        add     hl,bc
665a 47        ld      b,a
665b d1        pop     de
665c eb        ex      de,hl
665d 4e        ld      c,(hl)
665e 23        inc     hl
665f 7e        ld      a,(hl)
6660 23        inc     hl
6661 66        ld      h,(hl)
6662 6f        ld      l,a
6663 eb        ex      de,hl
6664 79        ld      a,c
6665 b7        or      a
6666 c8        ret     z
6667 1a        ld      a,(de)
6668 77        ld      (hl),a
6669 13        inc     de
666a 23        inc     hl
666b 0d        dec     c
666c c8        ret     z
666d 10f8      djnz    6667h
666f c9        ret     
6670 1eff      ld      e,0ffh
6672 fe29      cp      29h
6674 2807      jr      z,667dh
6676 cda85f    call    5fa8h
6679 2c        inc     l
667a cd0a35    call    350ah
667d cda85f    call    5fa8h
6680 29        add     hl,hl
6681 c9        ret     
6682 cd0f32    call    320fh
6685 c28e66    jp      nz,668eh
6688 cd4b64    call    644bh
668b cd1563    call    6315h
668e ed5bed83  ld      de,(83edh)
6692 2ac283    ld      hl,(83c2h)
6695 c36832    jp      3268h

6698 cde55e    call    5ee5h
669b 2a4180    ld      hl,(8041h)
669e 2b        dec     hl
669f 3600      ld      (hl),00h
CHECK_EXPANSION_BANKS:
   ld b,05h
   ld de, CHECK_EXPANSION_BANK_TABLE
   do      
      ld   a,(de)
      out  (40h),a
      call CHECK_EXPANSION_BANK
      inc  de      
   loopb b<>0 

   ; restore bank 0 in page 0
   ld   a,(8665h)
   out  (40h),a

   call 6924h
   im   1
   ei   
   jp   22dch

;$66bd
CHECK_EXPANSION_BANK_TABLE:
   defb $02  ; why does it checks for bank 2?      
   defb $0c        
   defb $0d        
   defb $0e
   defb $0f        

; $66c2
CHECK_EXPANSION_BANK:
   ;
   ; checks the sequence AA,55,EE,17
   ; in the first 4 bytes, if found 
   ; then jp $0004
   ;  
   ld      hl,0000h
   ld      a,0aah
   cp      (hl)
   inc     hl
   ret     nz
   cpl     
   cp      (hl)
   inc     hl
   ret     nz
   ld      a,0e7h
   cp      (hl)
   inc     hl
   ret     nz
   cpl     
   cp      (hl)
   inc     hl
   ret     nz
   jp      (hl)

BOOT_SEQUENCE:
   ; do a small pause of 150113 t-states, approx 50ms
   ld bc, 168dh
   do
      dec bc
   while bc <> 0 

WARM_OR_COLD:
   ; decides if it's warm or cold boot 
   ld      hl, (RESET_PTR)
   ld      a,h
   add     a,l
   add     a, RESET_CHECKSUM_VALUE
   ld      b,a          ; b = (861d) + (861e) + e1
   ld      a,(861fh)
   cp      b
   if ZERO then jp (hl) ; if (861d) + (861e) + RESET_CHECKSUM_VALUE = (861f) then jp (861d)->66c8

INIT_VIDEO:
   ld      a,02h     ; page 2 (I/O) in bank 3
   out     (43h),a   ;

   xor     a           ; set display to text mode
   ld      (0e800h),a  ;

   ld      a,05h       ; restore page 5 (hi ram) in bank 3
   out     (43h),a     ;

DETECT_WHICH_LASER:
   ; attempts to write at FFFFh to detect RAM
   ld      hl,0ffffh
   ld      a,(hl)
   cpl     
   ld      (hl),a

   if a=(hl) then
      ; Laser 500/700 detected, page 4-5 in bank 2-3, 7 as video page
      ld      a,04h
      out     (42h),a
      ld      (BANK2_LATCH),a
      ld      a,07h
      ld      (8664h),a
      LASER350_REJOIN:
      ld      a,05h
      ld      (8668h),a      
   else
      ; Laser 350 detected, use page 3 in bank 2, page 3 as video as well
      ld      a,03h
      out     (42h),a
      ld      (8664h),a
      ld      (BANK2_LATCH),a
      jr      LASER350_REJOIN
   end if

   ; sets the roms in page 0-1
   ld  a,00h
   ld  (BANK0_LATCH),a
   ld  a,01h
   ld  (BANK1_LATCH),a

FILL_VECTORS:
   ; prepares for vector zone, writes C9 (RET) from 8000 to 8015 step 3
   ld  b,07h
   ld  hl,8000h
   do
      ld      (hl),0c9h
      inc     hl
      inc     hl
      inc     hl      
   loopb while b<>0

   ; writes the value $291c ten times from $801b (TODO why?)
   ld      hl,801bh
   ld      de,291ch   
   ld      b,0ah
   do
      ld      (hl),e
      inc     hl
      ld      (hl),d
      inc     hl
   loopb while b<>0

   ; hl is 802F, writes 01 there, 00 in 8030-8034 (TODO why?)
   ld      (hl),01h
   ld      b,05h
   do
      inc     hl
      ld      (hl),00h      
   loopb while b<>0

   ; fills values (TODO what are they?)
   inc     hl : ld      (hl),70h    ; POKE 8035h, 70h
   inc     hl : ld      (hl),84h    ; POKE 8036h, 84h
   inc     hl : ld      (hl),ffh    ; POKE 8037h, ffh
   inc     hl : ld      (hl),38h    ; POKE 8038h, 38h

   ; hl is 8038h here

   ; fills 8039 to 8661 with 00h
   ld      bc,0629h   
   do
      inc     hl
      ld      (hl),00h
      dec     bc
      ld      a,b
      or      c
   loop while not zero

   ; fills
   ld      hl,1f38h
   ld      (8043h),hl   ; 8043: 38 1f
   ld      a,2ch
   ld      (8288h),a    ; POKE 8288h, 2ch

   ; copies from 68ec to 6903 into 856a - 8581 (TODO what's there)
   ; it's some self-modifying code used from BASIC (INP e OUT)
   ld      de,856ah
   ld      hl,68ech
   ld      bc,0018h
   ldir    

   ; fills with "JP 2228" from 8585 to 85C1 
   ; configurable unimplemented BASIC commands (JP 2228 gives "Syntax error")
   ld      b,15h
   ld      hl,8585h
   do
      ld      (hl),0c3h
      inc     hl
      ld      (hl),28h
      inc     hl
      ld      (hl),22h
      inc     hl
   loopb while b<>0

   ; fills with "RET 00 00" from 85C4 to 85DF
   ld      b,0ah
   do
      ld      (hl),0c9h
      inc     hl
      inc     hl
      inc     hl      
   loopb while b<>0

   ; continues somewhere else
   jp  BOOT_SEQUENCE_CONTINUE

;679a
BOOT_SEQUENCE_CONTINUE_2:
   ld      (85e2h),hl             ; here HL is &h7800, write 7800h in 85E2h

   ld      a,0f1h                 ; 
   out     (45h),a                ; COLOR 15, 1 
   ld      (PORT45_LATCH),a       ; saves latch

   ld      a,0ffh
   ld      (KEY_SCAN_CODE),a     ; initializes KEY_SCAN_CODE with FFh

   ld a,28h : ld (85f5h),a : ld (85f4h),a

   ld a,05h : ld (85f6h),a
   ld a,10h : ld (8606h),a : ld (8607h),a

   ld a,18h : ld (NROWS),a    ; number of scrolling rows (24)
   ld a,50h : ld (NCOLS),a    ; number of columns (80)

   ; sets the RESET_PTR and RESET_WARM_FLAG
   ld      de, WARM_RESET
   ld      hl, RESET_PTR
   ld      (hl), e
   inc     hl
   ld      (hl), d
   inc     hl
   ld      a,d
   add     a,e
   add     a, RESET_CHECKSUM_VALUE
   ld      (hl), a

   ld      hl,9fffh     ; ??? calls this sub while saving HL
   ld      sp,hl        ; on the stack at bottom of first ram bank
   push    hl           ; (so it works on 350 too)
   call    SOME_KEY     ; 
   pop     hl           ;

67e0 af        xor     a
67e1 321385    ld      (8513h),a
67e4 223d80    ld      (TOPMEM),hl   ; resets stack pointer
67e7 f9        ld      sp,hl         ;
67e8 214981    ld      hl,8149h
67eb 363a      ld      (hl),3ah
67ed cd6c5f    call    5f6ch
67f0 328c83    ld      (838ch),a
67f3 22d883    ld      (83d8h),hl
67f6 212122    ld      hl,2221h
67f9 224781    ld      (8147h),hl  
67fc 21feff    ld      hl,0fffeh     ; initializes SYSVARS
67ff 223f80    ld      (SYSVARS),hl
6802 af        xor     a
6803 323a80    ld      (803ah),a
6806 328b83    ld      (838bh),a
6809 321a85    ld      (851ah),a
680c 321485    ld      (8514h),a
680f 323180    ld      (8031h),a
6812 210000    ld      hl,0000h
6815 223380    ld      (8033h),hl
6818 218000    ld      hl,0080h
681b 221185    ld      (8511h),hl
681e 21a183    ld      hl,83a1h
6821 229f83    ld      (839fh),hl
6824 210b84    ld      hl,840bh
6827 227384    ld      (8473h),hl
682a 21ffff    ld      hl,0ffffh

682d 3a6786    ld      a,(BANK2_LATCH)    ; if it's laser 350 lowers stack
6830 fe03      cp      03h                ;
6832 2003      jr      nz,6837h           ;
6834 21ff9f    ld      hl,9fffh           ;
6837 229d83    ld      (STACKPTR),hl      ; 

683a 3e02      ld      a,02h
683c 326b80    ld      (806bh),a
683f 210000    ld      hl,0000h
6842 22c683    ld      (83c6h),hl
6845 2b        dec     hl
6846 2a9d83    ld      hl,(STACKPTR)
6849 2b        dec     hl
684a 229d83    ld      (STACKPTR),hl
684d 2b        dec     hl
684e e5        push    hl
684f 3a6b80    ld      a,(806bh)
6852 218786    ld      hl,8687h
6855 224980    ld      (8049h),hl
6858 114b80    ld      de,804bh
685b 326b80    ld      (806bh),a
685e 3c        inc     a
685f 01a900    ld      bc,00a9h
6862 eb        ex      de,hl
6863 73        ld      (hl),e
6864 23        inc     hl
6865 72        ld      (hl),d
6866 23        inc     hl
6867 eb        ex      de,hl
6868 09        add     hl,bc
6869 e5        push    hl
686a 2a1185    ld      hl,(8511h)
686d 01b200    ld      bc,00b2h
6870 09        add     hl,bc
6871 44        ld      b,h
6872 4d        ld      c,l
6873 e1        pop     hl
6874 3d        dec     a
6875 20eb      jr      nz,6862h
6877 23        inc     hl
6878 224180    ld      (8041h),hl
687b 22d883    ld      (83d8h),hl
687e d1        pop     de
687f 7b        ld      a,e
6880 95        sub     l
6881 6f        ld      l,a
6882 7a        ld      a,d
6883 9c        sbc     a,h
6884 67        ld      h,a
6885 dab35e    jp      c,5eb3h
6888 0603      ld      b,03h
688a b7        or      a
688b 7c        ld      a,h
688c 1f        rra     
688d 67        ld      h,a
688e 7d        ld      a,l
688f 1f        rra     
6890 6f        ld      l,a
6891 10f7      djnz    688ah
6893 7c        ld      a,h
6894 fe02      cp      02h
6896 3803      jr      c,689bh
6898 210002    ld      hl,0200h
689b 7b        ld      a,e
689c 95        sub     l
689d 6f        ld      l,a
689e 7a        ld      a,d
689f 9c        sbc     a,h
68a0 67        ld      h,a
68a1 dab35e    jp      c,5eb3h
68a4 229d83    ld      (STACKPTR),hl
68a7 eb        ex      de,hl
68a8 223d80    ld      (TOPMEM),hl
68ab 22c283    ld      (83c2h),hl
68ae f9        ld      sp,hl
68af 22d883    ld      (83d8h),hl
68b2 2a4180    ld      hl,(8041h)
68b5 eb        ex      de,hl
68b6 cdc15e    call    5ec1h
68b9 210469    ld      hl, BOOT_MESSAGE_VTECH
68bc cdd362    call    62d3h
68bf cd1c59    call    591ch
68c2 21e121    ld      hl,21e1h
68c5 c39866    jp      6698h

;***************************************************************
;68c8
WARM_RESET:
   ld   a,01h
   ld   (BANK1_LATCH),a
   ld   sp,(TOPMEM)
   ld   hl,83a1h
   ld   (839fh),hl
   ld   hl,83e7h
   xor  a
   ld   (hl),a
   inc  hl
   ld   (hl),a
   ld   (803ah),a
   call 5845h
   call 6b21h
   im   1
   jp   22dch

; unid code that is copied into 856A, part is BASIC INP/OUT
L68ec:
   defw d600h    
   defw 6f7ch      
   defw de00h      
   defw 6778h      
   defw de00h      
   defw 473eh
   defw 00c9h   
   defw db00h      
   defw c9d3h
   defw 00c9h   
   defw 52c7h      
   defw 4f80h      

BOOT_MESSAGE_VTECH:
   ; CLS + "VIDEO TECHNOLOGY\r\nBASIC V3.0\r\n" 
   defb 1fh, 56h, 49h, 44h, 45h, 4fh, 20h, 54h, 45h, 43h, 48h, 4eh, 4fh, 4ch, 4fh, 47h, 59h, 0dh, 0ah,         
   defb 42h, 41h, 53h, 49h, 43h, 20h, 56h, 33h, 2eh, 30h, 0dh, 0ah, 00h

;6924h
DISK_CHECK:
   ld b,aah : call IS_DRIVE_PRESENT : if Z=0 then return
   ld b,40h : call IS_DRIVE_PRESENT : if Z=0 then return

6930 cdda7f    call    LABEL_7FDA    ; sets HL=PORT_10_LATCH (8612), B=0
6933 77        ld      (hl),a        ; writes A (40h) into latch
6934 d310      out     (10h),a       ; enable disk read (bit 6 on port 10)
6936 10fe      djnz    6936h         ; small pause (255)
6938 23        inc     hl
6939 3611      ld      (hl),11h      ; writes 11h in PORT_11_LATCH (8613h)
693b cd1a6b    call    PORT_10_SET_BIT_4
693e 0628      ld      b,28h
6940 cde26a    call    6ae2h
6943 212c6b    ld      hl, DISK_GCR_TABLE
6946 1196a1    ld      de,0a196h
6949 ed530f86  ld      (DISK_GCR_TABLE_PTR),de
694d 0e6a      ld      c,6ah
694f edb0      ldir    
6951 ed430886  ld      (8608h),bc
6955 eb        ex      de,hl
6956 220b86    ld      (860bh),hl
6959 25        dec     h
695a 25        dec     h
695b 220d86    ld      (860dh),hl
695e cd8069    call    6980h
6961 d200a2    jp      nc,0a200h
6964 216a69    ld      hl, MSG_DISK_ERROR
6967 c3d362    jp      62d3h

;696a
MSG_DISK_ERROR:
   defm "DISK ERROR", 0

;*********************************************************************
; IN: B=aah or 40h
; returns: Z=1 if disk controller is not present
; Sends writes the byte in B on "fdc_data" and reads it back. 
; If they are the same then controller is working
;
; OUT 10h, 0
; OUT 13h, B
; IF INP(13H) = B THEN Z=0
;
IS_DRIVE_PRESENT:
   ld      a,00h
   out     (10h),a
   ld      a,b
   out     (13h),a
   in      a,(13h)
   cp      b
   ret 

6980 cd1a6b    call    PORT_10_SET_BIT_4
6983 3e30      ld      a,30h
6985 321186    ld      (8611h),a
6988 cd1e6a    call    6a1eh
698b 380b      jr      c,6998h
698d cd9d69    call    699dh
6990 3806      jr      c,6998h
6992 cdf369    call    69f3h
6995 c3216b    jp      6b21h
6998 cd216b    call    6b21h
699b 37        scf     
699c c9        ret   

699d 2a0f86    ld      hl,(DISK_GCR_TABLE_PTR)
69a0 ed5b0d86  ld      de,(860dh)
69a4 0e00      ld      c,00h
69a6 41        ld      b,c
69a7 cd936a    call    READ_DISK_BYTE
69aa fed5      cp      0d5h
69ac 20f9      jr      nz,69a7h
69ae cd936a    call    READ_DISK_BYTE
69b1 feaa      cp      0aah
69b3 20f2      jr      nz,69a7h
69b5 cd936a    call    READ_DISK_BYTE
69b8 fead      cp      0adh
69ba 2035      jr      nz,69f1h
69bc db12      in      a,(12h)
69be 07        rlca    
69bf 30fb      jr      nc,69bch
69c1 db13      in      a,(13h)
69c3 6f        ld      l,a
69c4 79        ld      a,c
69c5 ae        xor     (hl)
69c6 4f        ld      c,a
69c7 12        ld      (de),a
69c8 13        inc     de
69c9 10f1      djnz    69bch
69cb 0657      ld      b,57h
69cd db12      in      a,(12h)
69cf 07        rlca    
69d0 30fb      jr      nc,69cdh
69d2 db13      in      a,(13h)
69d4 6f        ld      l,a
69d5 79        ld      a,c
69d6 ae        xor     (hl)
69d7 4f        ld      c,a
69d8 12        ld      (de),a
69d9 13        inc     de
69da 10f1      djnz    69cdh
69dc db12      in      a,(12h)
69de 07        rlca    
69df 30fb      jr      nc,69dch
69e1 db13      in      a,(13h)
69e3 fede      cp      0deh
69e5 200a      jr      nz,69f1h
69e7 cd936a    call    READ_DISK_BYTE
69ea feaa      cp      0aah
69ec 2003      jr      nz,69f1h
69ee 79        ld      a,c
69ef b7        or      a
69f0 c8        ret     z
69f1 37        scf     
69f2 c9        ret    

69f3 dd2a0b86  ld      ix,(860bh)
69f7 2a0d86    ld      hl,(860dh)
69fa 115600    ld      de,0056h
69fd 19        add     hl,de
69fe eb        ex      de,hl
69ff 0e02      ld      c,02h
6a01 0656      ld      b,56h
6a03 2a0d86    ld      hl,(860dh)
6a06 1a        ld      a,(de)
6a07 cb3e      srl     (hl)
6a09 17        rla     
6a0a cb3e      srl     (hl)
6a0c 17        rla     
6a0d 23        inc     hl
6a0e dd7700    ld      (ix+00h),a
6a11 dd23      inc     ix
6a13 13        inc     de
6a14 10f0      djnz    6a06h
6a16 0d        dec     c
6a17 f8        ret     m
6a18 20e7      jr      nz,6a01h
6a1a 0654      ld      b,54h
6a1c 18e5      jr      6a03h

6a1e 3a0886    ld      a,(8608h)
6a21 210a86    ld      hl,860ah
6a24 96        sub     (hl)
6a25 281b      jr      z,6a42h
6a27 f2386a    jp      p,6a38h
6a2a ed44      neg     
6a2c 47        ld      b,a
6a2d cde26a    call    6ae2h
6a30 117a0d    ld      de,0d7ah
6a33 cdad6a    call    6aadh
6a36 180a      jr      6a42h
6a38 47        ld      b,a
6a39 cdb36a    call    6ab3h
6a3c 11bd06    ld      de,06bdh
6a3f cdad6a    call    6aadh
6a42 210886    ld      hl,8608h
6a45 4e        ld      c,(hl)
6a46 23        inc     hl
6a47 56        ld      d,(hl)
6a48 cd936a    call    READ_DISK_BYTE
6a4b fed5      cp      0d5h
6a4d 20f3      jr      nz,6a42h
6a4f cd936a    call    READ_DISK_BYTE
6a52 feaa      cp      0aah
6a54 20ec      jr      nz,6a42h
6a56 cd936a    call    READ_DISK_BYTE
6a59 fe96      cp      96h
6a5b 20e5      jr      nz,6a42h
6a5d cd9b6a    call    6a9bh
6a60 47        ld      b,a
6a61 cd9b6a    call    6a9bh
6a64 b9        cp      c
6a65 2020      jr      nz,6a87h
6a67 a8        xor     b
6a68 47        ld      b,a
6a69 cd9b6a    call    6a9bh
6a6c ba        cp      d
6a6d 20d3      jr      nz,6a42h
6a6f a8        xor     b
6a70 47        ld      b,a
6a71 cd9b6a    call    6a9bh
6a74 a8        xor     b
6a75 2013      jr      nz,6a8ah
6a77 cd936a    call    READ_DISK_BYTE
6a7a fede      cp      0deh
6a7c 200c      jr      nz,6a8ah
6a7e cd936a    call    READ_DISK_BYTE
6a81 feaa      cp      0aah
6a83 2005      jr      nz,6a8ah
6a85 b7        or      a
6a86 c9        ret     
6a87 320a86    ld      (860ah),a
6a8a 211186    ld      hl,8611h
6a8d 35        dec     (hl)
6a8e c21e6a    jp      nz,6a1eh
6a91 37        scf     
6a92 c9        ret     

;
; reads a byte from disk buffer, waits if necessary
; and returns value into A
;
; 6a93
READ_DISK_BYTE:
   in      a,(12h)
   rlca    
   jr      nc,READ_DISK_BYTE
   in      a,(13h)
   ret     

6a9b db12      in      a,(12h)
6a9d 07        rlca    
6a9e 30fb      jr      nc,6a9bh
6aa0 db13      in      a,(13h)
6aa2 17        rla     
6aa3 5f        ld      e,a
6aa4 db12      in      a,(12h)
6aa6 07        rlca    
6aa7 30fb      jr      nc,6aa4h
6aa9 db13      in      a,(13h)
6aab a3        and     e
6aac c9        ret     
6aad 1b        dec     de
6aae 7a        ld      a,d
6aaf b3        or      e
6ab0 20fb      jr      nz,6aadh
6ab2 c9        ret     
6ab3 3a0a86    ld      a,(860ah)
6ab6 80        add     a,b
6ab7 fe28      cp      28h
6ab9 3802      jr      c,6abdh
6abb 3e27      ld      a,27h
6abd 320a86    ld      (860ah),a
6ac0 cb20      sla     b
6ac2 3a1386    ld      a,(8613h)
6ac5 4f        ld      c,a
6ac6 07        rlca    
6ac7 f5        push    af
6ac8 321386    ld      (8613h),a
6acb b1        or      c
6acc cd0f6b    call    6b0fh
6acf 117300    ld      de,0073h
6ad2 cdad6a    call    6aadh
6ad5 f1        pop     af
6ad6 cd0f6b    call    6b0fh
6ad9 112503    ld      de,0325h
6adc cdad6a    call    6aadh
6adf 10e1      djnz    6ac2h
6ae1 c9        ret     

;6ae2
DO_SOMETHING_WITH_B:
6ae2 3a0a86    ld      a,(860ah)
6ae5 90        sub     b
6ae6 f2ea6a    jp      p,6aeah
6ae9 af        xor     a
6aea 320a86    ld      (860ah),a
6aed cb20      sla     b
   6aef 3a1386    ld      a,(8613h)
   6af2 4f        ld      c,a
   6af3 0f        rrca    
   6af4 f5        push    af
   6af5 321386    ld      (8613h),a
   6af8 b1        or      c
   6af9 cd0f6b    call    6b0fh
   6afc 117300    ld      de,0073h
   6aff cdad6a    call    6aadh
   6b02 f1        pop     af
   6b03 cd0f6b    call    6b0fh
   6b06 112503    ld      de,0325h
   6b09 cdad6a    call    6aadh
   6b0c 10e1      djnz    6aefh
6b0e c9        ret     

6b0f e60f      and     0fh
6b11 4f        ld      c,a
6b12 3a1286    ld      a,(PORT10_LATCH)
6b15 e6f0      and     0f0h
6b17 b1        or      c
6b18 180c      jr      PORT_10_WRITE

;6b1a
PORT_10_SET_BIT_4:
   ld      a,(PORT10_LATCH)
   or      10h
   jr      PORT_10_WRITE

;6b21
PORT_10_RESET_BIT_4:
   ld      a,(PORT10_LATCH)
   and     0efh
;6b26   
PORT_10_WRITE:   
   ld      (PORT10_LATCH),a
   out     (10h),a
   ret 

;
; $6a bytes sector encoding GCR table
;
DISK_GCR_TABLE:
6b2c 00        nop     
6b2d 019899    ld      bc,9998h
6b30 02        ld      (bc),a
6b31 03        inc     bc
6b32 9c        sbc     a,h
6b33 04        inc     b
6b34 05        dec     b
6b35 06a0      ld      b,0a0h
6b37 a1        and     c
6b38 a2        and     d
6b39 a3        and     e
6b3a a4        and     h
6b3b a5        and     l
6b3c 07        rlca    
6b3d 08        ex      af,af'
6b3e a8        xor     b
6b3f a9        xor     c
6b40 aa        xor     d
6b41 09        add     hl,bc
6b42 0a        ld      a,(bc)
6b43 0b        dec     bc
6b44 0c        inc     c
6b45 0d        dec     c
6b46 b0        or      b
6b47 b1        or      c
6b48 0e0f      ld      c,0fh
6b4a 1011      djnz    6b5dh
6b4c 12        ld      (de),a
6b4d 13        inc     de
6b4e b8        cp      b
6b4f 14        inc     d
6b50 15        dec     d
6b51 1617      ld      d,17h
6b53 1819      jr      6b6eh
6b55 1a        ld      a,(de)
6b56 c0        ret     nz
6b57 c1        pop     bc
6b58 c2c3c4    jp      nz,0c4c3h
6b5b c5        push    bc
6b5c c6c7      add     a,0c7h
6b5e c8        ret     z
6b5f c9        ret     
6b60 ca1bcc    jp      z,0cc1bh
6b63 1c        inc     e
6b64 1d        dec     e
6b65 1ed0      ld      e,0d0h
6b67 d1        pop     de
6b68 d21fd4    jp      nc,0d41fh
6b6b d5        push    de
6b6c 2021      jr      nz,6b8fh
6b6e d8        ret     c
6b6f 222324    ld      (2423h),hl
6b72 25        dec     h
6b73 2627      ld      h,27h
6b75 28e0      jr      z,6b57h
6b77 e1        pop     hl
6b78 e2e3e4    jp      po,0e4e3h
6b7b 29        add     hl,hl
6b7c 2a2be8    ld      hl,(0e82bh)
6b7f 2c        inc     l
6b80 2d        dec     l
6b81 2e2f      ld      l,2fh
6b83 3031      jr      nc,6bb6h
6b85 32f0f1    ld      (0f1f0h),a
6b88 33        inc     sp
6b89 34        inc     (hl)
6b8a 35        dec     (hl)
6b8b 3637      ld      (hl),37h
6b8d 38f8      jr      c,6b87h
6b8f 39        add     hl,sp
6b90 3a3b3c    ld      a,(3c3bh)
6b93 3d        dec     a
6b94 3e3f      ld      a,3fh
6b96 e5        push    hl

6b97 216e77    ld      hl,776eh
6b9a cddb72    call    72dbh
6b9d cd0d0c    call    0c0dh
6ba0 38f5      jr      c,6b97h
6ba2 e5        push    hl
6ba3 e1        pop     hl
6ba4 cdde6b    call    6bdeh
6ba7 23        inc     hl
6ba8 7e        ld      a,(hl)
6ba9 b7        or      a
6baa 28eb      jr      z,6b97h
6bac fe20      cp      20h
6bae 28f4      jr      z,6ba4h
6bb0 cd036c    call    6c03h
6bb3 50        ld      d,b
6bb4 e5        push    hl
6bb5 21726c    ld      hl,6c72h
6bb8 011000    ld      bc,0010h
6bbb edb1      cpir    
6bbd 2017      jr      nz,6bd6h
6bbf 21a36b    ld      hl,6ba3h
6bc2 e5        push    hl
6bc3 21826c    ld      hl,6c82h
6bc6 cb21      sla     c
6bc8 09        add     hl,bc
6bc9 4e        ld      c,(hl)
6bca 23        inc     hl
6bcb 46        ld      b,(hl)
6bcc c5        push    bc
6bcd 42        ld      b,d
6bce 2a2086    ld      hl,(8620h)
6bd1 ed5b2286  ld      de,(8622h)
6bd5 c9        ret     
6bd6 e1        pop     hl
6bd7 21976b    ld      hl,6b97h
6bda e5        push    hl
6bdb cdb373    call    73b3h
6bde 3ae985    ld      a,(85e9h)
6be1 b7        or      a
6be2 c8        ret     z
6be3 3e0d      ld      a,0dh
6be5 cdea6b    call    6beah
6be8 3e0a      ld      a,0ah
6bea dde5      push    ix
6bec cdd957    call    57d9h
6bef e5        push    hl
6bf0 21fc85    ld      hl,85fch
6bf3 cb5e      bit     3,(hl)
6bf5 213480    ld      hl,8034h
6bf8 3601      ld      (hl),01h
6bfa c4d957    call    nz,57d9h
6bfd 3600      ld      (hl),00h
6bff e1        pop     hl
6c00 dde1      pop     ix
6c02 c9        ret     
6c03 eb        ex      de,hl
6c04 212586    ld      hl,8625h
6c07 0604      ld      b,04h
6c09 3600      ld      (hl),00h
6c0b 2b        dec     hl
6c0c 10fb      djnz    6c09h
6c0e 0603      ld      b,03h
6c10 c5        push    bc
6c11 010000    ld      bc,0000h
6c14 2b        dec     hl
6c15 cd366c    call    6c36h
6c18 300a      jr      nc,6c24h
6c1a cd646c    call    6c64h
6c1d 71        ld      (hl),c
6c1e 23        inc     hl
6c1f 70        ld      (hl),b
6c20 13        inc     de
6c21 1a        ld      a,(de)
6c22 18f0      jr      6c14h
6c24 c1        pop     bc
6c25 c637      add     a,37h
6c27 fe2c      cp      2ch
6c29 2002      jr      nz,6c2dh
6c2b 1002      djnz    6c2fh
6c2d eb        ex      de,hl
6c2e c9        ret     
6c2f 23        inc     hl
6c30 23        inc     hl
6c31 23        inc     hl
6c32 13        inc     de
6c33 1a        ld      a,(de)
6c34 18da      jr      6c10h
6c36 fe61      cp      61h
6c38 3806      jr      c,6c40h
6c3a fe7b      cp      7bh
6c3c 3002      jr      nc,6c40h
6c3e d620      sub     20h
6c40 d630      sub     30h
6c42 fe0a      cp      0ah
6c44 d8        ret     c
6c45 d607      sub     07h
6c47 fe0a      cp      0ah
6c49 3803      jr      c,6c4eh
6c4b fe10      cp      10h
6c4d c9        ret     
6c4e 3f        ccf     
6c4f c9        ret     
6c50 010000    ld      bc,0000h
6c53 13        inc     de
6c54 1a        ld      a,(de)
6c55 fe20      cp      20h
6c57 28fa      jr      z,6c53h
6c59 cd366c    call    6c36h
6c5c d0        ret     nc
6c5d cd646c    call    6c64h
6c60 13        inc     de
6c61 1a        ld      a,(de)
6c62 18f5      jr      6c59h
6c64 f5        push    af
6c65 3e04      ld      a,04h
6c67 cb21      sla     c
6c69 cb10      rl      b
6c6b 3d        dec     a
6c6c 20f9      jr      nz,6c67h
6c6e f1        pop     af
6c6f b1        or      c
6c70 4f        ld      c,a
6c71 c9        ret     
6c72 3a4d4c    ld      a,(4c4dh)
6c75 54        ld      d,h
6c76 47        ld      b,a
6c77 49        ld      c,c
6c78 4f        ld      c,a
6c79 52        ld      d,d
6c7a 57        ld      d,a
6c7b 58        ld      e,b
6c7c 50        ld      d,b
6c7d 5a        ld      e,d
6c7e 2b        dec     hl
6c7f 2d        dec     l
6c80 53        ld      d,e
6c81 51        ld      d,c
6c82 a2        and     d
6c83 6c        ld      l,h
6c84 75        ld      (hl),l
6c85 77        ld      (hl),a
6c86 a6        and     (hl)
6c87 6c        ld      l,h
6c88 a7        and     a
6c89 6c        ld      l,h
6c8a 76        halt    
6c8b 77        ld      (hl),a
6c8c 8f        adc     a,a
6c8d 6d        ld      l,l
6c8e b4        or      h
6c8f 6d        ld      l,l
6c90 f0        ret     p
6c91 6d        ld      l,l
6c92 206e      jr      nz,6d02h
6c94 71        ld      (hl),c
6c95 6d        ld      l,l
6c96 47        ld      b,a
6c97 6d        ld      l,l
6c98 97        sub     a
6c99 6d        ld      l,l
6c9a 29        add     hl,hl
6c9b 6d        ld      l,l
6c9c 6f        ld      l,a
6c9d 6e        ld      l,(hl)
6c9e d1        pop     de
6c9f 6c        ld      l,h
6ca0 05        dec     b
6ca1 6d        ld      l,l
6ca2 e1        pop     hl
6ca3 e1        pop     hl
6ca4 e1        pop     hl
6ca5 c9        ret     
6ca6 3eaf      ld      a,0afh
6ca8 b7        or      a
6ca9 201f      jr      nz,6ccah
6cab 19        add     hl,de
6cac 7c        ld      a,h
6cad cdb16c    call    6cb1h
6cb0 7d        ld      a,l
6cb1 f5        push    af
6cb2 0f        rrca    
6cb3 0f        rrca    
6cb4 0f        rrca    
6cb5 0f        rrca    
6cb6 cdba6c    call    6cbah
6cb9 f1        pop     af
6cba cdc06c    call    6cc0h
6cbd c3ea6b    jp      6beah
6cc0 e60f      and     0fh
6cc2 c630      add     a,30h
6cc4 fe3a      cp      3ah
6cc6 d8        ret     c
6cc7 c607      add     a,07h
6cc9 c9        ret     
6cca ed52      sbc     hl,de
6ccc 18de      jr      6cach
6cce cde36b    call    6be3h
6cd1 cdac6c    call    6cach
6cd4 3e3a      ld      a,3ah
6cd6 cdea6b    call    6beah
6cd9 3e20      ld      a,20h
6cdb cdea6b    call    6beah
6cde 7e        ld      a,(hl)
6cdf cdb16c    call    6cb1h
6ce2 cdfd6c    call    6cfdh
6ce5 d0        ret     nc
6ce6 cded6c    call    6cedh
6ce9 28e3      jr      z,6cceh
6ceb 18ec      jr      6cd9h
6ced 7d        ld      a,l
6cee e60f      and     0fh
6cf0 c8        ret     z
6cf1 e607      and     07h
6cf3 c0        ret     nz
6cf4 3afd85    ld      a,(TEXT80)
6cf7 b7        or      a
6cf8 c9        ret     
6cf9 ed5b2286  ld      de,(8622h)
6cfd cda25f    call    5fa2h
6d00 23        inc     hl
6d01 222086    ld      (8620h),hl
6d04 c9        ret     
6d05 05        dec     b
6d06 05        dec     b
6d07 d1        pop     de
6d08 d1        pop     de
6d09 2811      jr      z,6d1ch
6d0b cd506c    call    6c50h
6d0e 71        ld      (hl),c
6d0f cd006d    call    6d00h
6d12 c637      add     a,37h
6d14 fe20      cp      20h
6d16 28f3      jr      z,6d0bh
6d18 eb        ex      de,hl
6d19 c3a86b    jp      6ba8h
6d1c cd506c    call    6c50h
6d1f 71        ld      (hl),c
6d20 d5        push    de
6d21 cdf96c    call    6cf9h
6d24 d1        pop     de
6d25 30f1      jr      nc,6d18h
6d27 18f6      jr      6d1fh
6d29 eb        ex      de,hl
6d2a b7        or      a
6d2b ed52      sbc     hl,de
6d2d d8        ret     c
6d2e 44        ld      b,h
6d2f 4d        ld      c,l
6d30 2a2486    ld      hl,(8624h)
6d33 eb        ex      de,hl
6d34 cda25f    call    5fa2h
6d37 300a      jr      nc,6d43h
6d39 2a2286    ld      hl,(8622h)
6d3c eb        ex      de,hl
6d3d 09        add     hl,bc
6d3e eb        ex      de,hl
6d3f 03        inc     bc
6d40 edb8      lddr    
6d42 c9        ret     
6d43 03        inc     bc
6d44 edb0      ldir    
6d46 c9        ret     
6d47 7c        ld      a,h
6d48 b2        or      d
6d49 c0        ret     nz
6d4a 1803      jr      6d4fh
6d4c cde36b    call    6be3h
6d4f cdac6c    call    6cach
6d52 3e3a      ld      a,3ah
6d54 cdea6b    call    6beah
6d57 3e20      ld      a,20h
6d59 cdea6b    call    6beah
6d5c 7d        ld      a,l
6d5d 327985    ld      (8579h),a
6d60 cd7885    call    8578h
6d63 cdb16c    call    6cb1h
6d66 cdfd6c    call    6cfdh
6d69 d0        ret     nc
6d6a cded6c    call    6cedh
6d6d 28dd      jr      z,6d4ch
6d6f 18e6      jr      6d57h
6d71 7c        ld      a,h
6d72 b7        or      a
6d73 c0        ret     nz
6d74 d1        pop     de
6d75 d1        pop     de
6d76 cd506c    call    6c50h
6d79 47        ld      b,a
6d7a 7d        ld      a,l
6d7b 327c85    ld      (857ch),a
6d7e 79        ld      a,c
6d7f cd7b85    call    857bh
6d82 cd006d    call    6d00h
6d85 78        ld      a,b
6d86 c637      add     a,37h
6d88 fe20      cp      20h
6d8a c2186d    jp      nz,6d18h
6d8d 18e7      jr      6d76h
6d8f 21fc85    ld      hl,85fch
6d92 7e        ld      a,(hl)
6d93 ee08      xor     08h
6d95 77        ld      (hl),a
6d96 c9        ret     
6d97 cda06d    call    6da0h
6d9a e5        push    hl
6d9b 2a2086    ld      hl,(8620h)
6d9e e3        ex      (sp),hl
6d9f c9        ret     
6da0 ed732286  ld      (8622h),sp
6da4 312a86    ld      sp,862ah
6da7 f1        pop     af
6da8 c1        pop     bc
6da9 d1        pop     de
6daa e1        pop     hl
6dab dde1      pop     ix
6dad fde1      pop     iy
6daf ed7b2286  ld      sp,(8622h)
6db3 c9        ret     
6db4 11e26d    ld      de,6de2h
6db7 212a86    ld      hl,862ah
6dba 222086    ld      (8620h),hl
6dbd 0607      ld      b,07h
6dbf 1a        ld      a,(de)
6dc0 cdea6b    call    6beah
6dc3 13        inc     de
6dc4 1a        ld      a,(de)
6dc5 cdea6b    call    6beah
6dc8 13        inc     de
6dc9 3e3d      ld      a,3dh
6dcb cdea6b    call    6beah
6dce 7e        ld      a,(hl)
6dcf f5        push    af
6dd0 23        inc     hl
6dd1 7e        ld      a,(hl)
6dd2 cdb16c    call    6cb1h
6dd5 f1        pop     af
6dd6 cdb16c    call    6cb1h
6dd9 3e20      ld      a,20h
6ddb cdea6b    call    6beah
6dde 23        inc     hl
6ddf 10de      djnz    6dbfh
6de1 c9        ret     
6de2 41        ld      b,c
6de3 46        ld      b,(hl)
6de4 42        ld      b,d
6de5 43        ld      b,e
6de6 44        ld      b,h
6de7 45        ld      b,l
6de8 48        ld      c,b
6de9 4c        ld      c,h
6dea 49        ld      c,c
6deb 58        ld      e,b
6dec 49        ld      c,c
6ded 59        ld      e,c
6dee 53        ld      d,e
6def 50        ld      d,b
6df0 f3        di      
6df1 eb        ex      de,hl
6df2 cda25f    call    5fa2h
6df5 d8        ret     c
6df6 c1        pop     bc
6df7 e3        ex      (sp),hl
6df8 d5        push    de
6df9 cd116e    call    6e11h
6dfc 0ef1      ld      c,0f1h
6dfe cd8b16    call    168bh
6e01 d1        pop     de
6e02 e3        ex      (sp),hl
6e03 eb        ex      de,hl
6e04 013b0b    ld      bc,0b3bh
6e07 cdcd0a    call    0acdh
6e0a 13        inc     de
6e0b cdba15    call    15bah
6e0e c3a36b    jp      6ba3h
6e11 23        inc     hl
6e12 7e        ld      a,(hl)
6e13 b7        or      a
6e14 c8        ret     z
6e15 fe22      cp      22h
6e17 c8        ret     z
6e18 fe20      cp      20h
6e1a 28f5      jr      z,6e11h
6e1c 2b        dec     hl
6e1d 3600      ld      (hl),00h
6e1f c9        ret     
6e20 f3        di      
6e21 05        dec     b
6e22 05        dec     b
6e23 2009      jr      nz,6e2eh
6e25 eb        ex      de,hl
6e26 b7        or      a
6e27 ed52      sbc     hl,de
6e29 d8        ret     c
6e2a 23        inc     hl
6e2b 222486    ld      (8624h),hl
6e2e e1        pop     hl
6e2f e1        pop     hl
6e30 cd116e    call    6e11h
6e33 cdbd16    call    16bdh
6e36 e5        push    hl
6e37 210b19    ld      hl,190bh
6e3a cdfc18    call    18fch
6e3d cdc217    call    17c2h
6e40 382a      jr      c,6e6ch
6e42 211819    ld      hl,1918h
6e45 cdfc18    call    18fch
6e48 cdbc19    call    19bch
6e4b 3819      jr      c,6e66h
6e4d ed52      sbc     hl,de
6e4f 3815      jr      c,6e66h
6e51 ed4b2486  ld      bc,(8624h)
6e55 78        ld      a,b
6e56 b1        or      c
6e57 2004      jr      nz,6e5dh
6e59 44        ld      b,h
6e5a 4d        ld      c,l
6e5b 1804      jr      6e61h
6e5d ed5b2086  ld      de,(8620h)
6e61 cd9c17    call    179ch
6e64 2806      jr      z,6e6ch
6e66 213319    ld      hl,1933h
6e69 cdfc18    call    18fch
6e6c c3a36b    jp      6ba3h
6e6f 3e10      ld      a,10h
6e71 322486    ld      (8624h),a
6e74 cd946e    call    6e94h
6e77 cde36b    call    6be3h
6e7a 2a2286    ld      hl,(8622h)
6e7d 7c        ld      a,h
6e7e b5        or      l
6e7f 2809      jr      z,6e8ah
6e81 2a2086    ld      hl,(8620h)
6e84 cdf96c    call    6cf9h
6e87 d0        ret     nc
6e88 18ea      jr      6e74h
6e8a cd3673    call    7336h
6e8d 212486    ld      hl,8624h
6e90 35        dec     (hl)
6e91 20e1      jr      nz,6e74h
6e93 c9        ret     
6e94 cdef72    call    72efh
6e97 3e01      ld      a,01h
6e99 322586    ld      (8625h),a
6e9c 2a2086    ld      hl,(8620h)
6e9f 7e        ld      a,(hl)
6ea0 322686    ld      (8626h),a
6ea3 011700    ld      bc,0017h
6ea6 214a74    ld      hl,744ah
6ea9 edb9      cpdr    
6eab 03        inc     bc
6eac 2006      jr      nz,6eb4h
6eae cdff72    call    72ffh
6eb1 c3c972    jp      72c9h
6eb4 f5        push    af
6eb5 e6c0      and     0c0h
6eb7 fe40      cp      40h
6eb9 2015      jr      nz,6ed0h
6ebb cdff72    call    72ffh
6ebe cd4973    call    7349h
6ec1 f1        pop     af
6ec2 f5        push    af
6ec3 0f        rrca    
6ec4 0f        rrca    
6ec5 0f        rrca    
6ec6 cd2c73    call    732ch
6ec9 cd9c73    call    739ch
6ecc f1        pop     af
6ecd c32c73    jp      732ch
6ed0 f1        pop     af
6ed1 0611      ld      b,11h
6ed3 dd219774  ld      ix,7497h
6ed7 3a2686    ld      a,(8626h)
6eda dda600    and     (ix+00h)
6edd ddbe01    cp      (ix+01h)
6ee0 2809      jr      z,6eebh
6ee2 110500    ld      de,0005h
6ee5 dd19      add     ix,de
6ee7 10ee      djnz    6ed7h
6ee9 1824      jr      6f0fh
6eeb 3e11      ld      a,11h
6eed 90        sub     b
6eee f5        push    af
6eef cdff72    call    72ffh
6ef2 214b74    ld      hl,744bh
6ef5 f1        pop     af
6ef6 4f        ld      c,a
6ef7 0c        inc     c
6ef8 cdcc72    call    72cch
6efb 3a2686    ld      a,(8626h)
6efe 4f        ld      c,a
6eff dda600    and     (ix+00h)
6f02 a9        xor     c
6f03 cd3e73    call    733eh
6f06 dd6e03    ld      l,(ix+03h)
6f09 dd6604    ld      h,(ix+04h)
6f0c c32f73    jp      732fh
6f0f cd9373    call    7393h
6f12 322786    ld      (8627h),a
6f15 0e00      ld      c,00h
6f17 21f775    ld      hl,75f7h
6f1a 3a2686    ld      a,(8626h)
6f1d be        cp      (hl)
6f1e 2011      jr      nz,6f31h
6f20 23        inc     hl
6f21 3a2786    ld      a,(8627h)
6f24 be        cp      (hl)
6f25 280d      jr      z,6f34h
6f27 23        inc     hl
6f28 0c        inc     c
6f29 79        ld      a,c
6f2a fe32      cp      32h
6f2c 20ec      jr      nz,6f1ah
6f2e c33e6f    jp      6f3eh
6f31 23        inc     hl
6f32 18f3      jr      6f27h
6f34 cdff72    call    72ffh
6f37 0c        inc     c
6f38 21ec74    ld      hl,74ech
6f3b c3cc72    jp      72cch
6f3e 060c      ld      b,0ch
6f40 219776    ld      hl,7697h
6f43 dd21a376  ld      ix,76a3h
6f47 3a2686    ld      a,(8626h)
6f4a be        cp      (hl)
6f4b 280a      jr      z,6f57h
6f4d 23        inc     hl
6f4e 110500    ld      de,0005h
6f51 dd19      add     ix,de
6f53 10f2      djnz    6f47h
6f55 1822      jr      6f79h
6f57 3a2786    ld      a,(8627h)
6f5a dda600    and     (ix+00h)
6f5d ddbe01    cp      (ix+01h)
6f60 2802      jr      z,6f64h
6f62 18e9      jr      6f4dh
6f64 3e0c      ld      a,0ch
6f66 90        sub     b
6f67 f5        push    af
6f68 cdff72    call    72ffh
6f6b 215976    ld      hl,7659h
6f6e f1        pop     af
6f6f 4f        ld      c,a
6f70 0c        inc     c
6f71 cdcc72    call    72cch
6f74 3a2786    ld      a,(8627h)
6f77 1885      jr      6efeh
6f79 3a2686    ld      a,(8626h)
6f7c f5        push    af
6f7d e6c7      and     0c7h
6f7f fe06      cp      06h
6f81 2019      jr      nz,6f9ch
6f83 cdff72    call    72ffh
6f86 cd4973    call    7349h
6f89 f1        pop     af
6f8a cb3f      srl     a
6f8c cb3f      srl     a
6f8e cb3f      srl     a
6f90 cd2c73    call    732ch
6f93 cd9c73    call    739ch
6f96 3a2786    ld      a,(8627h)
6f99 c3b16c    jp      6cb1h
6f9c f1        pop     af
6f9d f5        push    af
6f9e e6c7      and     0c7h
6fa0 fec6      cp      0c6h
6fa2 2012      jr      nz,6fb6h
6fa4 cdff72    call    72ffh
6fa7 f1        pop     af
6fa8 cb3f      srl     a
6faa cb3f      srl     a
6fac cb3f      srl     a
6fae 216b74    ld      hl,746bh
6fb1 cd2f73    call    732fh
6fb4 18e0      jr      6f96h
6fb6 f1        pop     af
6fb7 f5        push    af
6fb8 fecb      cp      0cbh
6fba 2032      jr      nz,6feeh
6fbc 3a2786    ld      a,(8627h)
6fbf f5        push    af
6fc0 e6c0      and     0c0h
6fc2 2003      jr      nz,6fc7h
6fc4 f1        pop     af
6fc5 1827      jr      6feeh
6fc7 f5        push    af
6fc8 cdff72    call    72ffh
6fcb f1        pop     af
6fcc 07        rlca    
6fcd 07        rlca    
6fce e603      and     03h
6fd0 4f        ld      c,a
6fd1 0c        inc     c
6fd2 cd4b73    call    734bh
6fd5 f1        pop     af
6fd6 f5        push    af
6fd7 cb3f      srl     a
6fd9 cb3f      srl     a
6fdb cb3f      srl     a
6fdd e607      and     07h
6fdf cdc06c    call    6cc0h
6fe2 cdea6b    call    6beah
6fe5 cd9c73    call    739ch
6fe8 f1        pop     af
6fe9 cd2c73    call    732ch
6fec f1        pop     af
6fed c9        ret     
6fee f1        pop     af
6fef f5        push    af
6ff0 010700    ld      bc,0007h
6ff3 212577    ld      hl,7725h
6ff6 edb9      cpdr    
6ff8 2021      jr      nz,701bh
6ffa cdff72    call    72ffh
6ffd 210277    ld      hl,7702h
7000 cdcc72    call    72cch
7003 3a2786    ld      a,(8627h)
7006 cb7f      bit     7,a
7008 2804      jr      z,700eh
700a 16ff      ld      d,0ffh
700c 1802      jr      7010h
700e 1600      ld      d,00h
7010 2a2086    ld      hl,(8620h)
7013 5f        ld      e,a
7014 19        add     hl,de
7015 23        inc     hl
7016 cdac6c    call    6cach
7019 f1        pop     af
701a c9        ret     
701b f1        pop     af
701c fedb      cp      0dbh
701e 200f      jr      nz,702fh
7020 cdff72    call    72ffh
7023 0e05      ld      c,05h
7025 cd4b73    call    734bh
7028 3a2786    ld      a,(8627h)
702b 4f        ld      c,a
702c c35273    jp      7352h
702f fed3      cp      0d3h
7031 2015      jr      nz,7048h
7033 cdff72    call    72ffh
7036 0e06      ld      c,06h
7038 cd4b73    call    734bh
703b 3a2786    ld      a,(8627h)
703e 4f        ld      c,a
703f cd5273    call    7352h
7042 cd9c73    call    739ch
7045 c3a173    jp      73a1h
7048 feed      cp      0edh
704a 2031      jr      nz,707dh
704c 3a2786    ld      a,(8627h)
704f f5        push    af
7050 e6c7      and     0c7h
7052 fe40      cp      40h
7054 2803      jr      z,7059h
7056 f1        pop     af
7057 1824      jr      707dh
7059 cdff72    call    72ffh
705c 0e09      ld      c,09h
705e cd4b73    call    734bh
7061 f1        pop     af
7062 cb3f      srl     a
7064 cb3f      srl     a
7066 cb3f      srl     a
7068 cd2c73    call    732ch
706b cd9c73    call    739ch
706e 3e28      ld      a,28h
7070 cdea6b    call    6beah
7073 3e43      ld      a,43h
7075 cdea6b    call    6beah
7078 3e29      ld      a,29h
707a c3ea6b    jp      6beah
707d cd9373    call    7393h
7080 322886    ld      (8628h),a
7083 3a2686    ld      a,(8626h)
7086 fedd      cp      0ddh
7088 2004      jr      nz,708eh
708a 3e58      ld      a,58h
708c 1807      jr      7095h
708e fefd      cp      0fdh
7090 c21771    jp      nz,7117h
7093 3e59      ld      a,59h
7095 326c86    ld      (866ch),a
7098 3a2786    ld      a,(8627h)
709b f5        push    af
709c e6c7      and     0c7h
709e fe86      cp      86h
70a0 2017      jr      nz,70b9h
70a2 cdff72    call    72ffh
70a5 f1        pop     af
70a6 cb3f      srl     a
70a8 cb3f      srl     a
70aa cb3f      srl     a
70ac e607      and     07h
70ae 4f        ld      c,a
70af 0c        inc     c
70b0 216b74    ld      hl,746bh
70b3 cdcc72    call    72cch
70b6 c36073    jp      7360h
70b9 f1        pop     af
70ba f5        push    af
70bb e6f8      and     0f8h
70bd fe30      cp      30h
70bf 2018      jr      nz,70d9h
70c1 f1        pop     af
70c2 e607      and     07h
70c4 fe04      cp      04h
70c6 2004      jr      nz,70cch
70c8 0e08      ld      c,08h
70ca 1807      jr      70d3h
70cc fe05      cp      05h
70ce c21b72    jp      nz,721bh
70d1 0e09      ld      c,09h
70d3 cdff72    call    72ffh
70d6 c3af70    jp      70afh
70d9 f1        pop     af
70da f5        push    af
70db e6c7      and     0c7h
70dd fe46      cp      46h
70df 201d      jr      nz,70feh
70e1 cdff72    call    72ffh
70e4 cd4973    call    7349h
70e7 f1        pop     af
70e8 cb3f      srl     a
70ea cb3f      srl     a
70ec cb3f      srl     a
70ee e607      and     07h
70f0 fe06      cp      06h
70f2 cab373    jp      z,73b3h
70f5 cd2c73    call    732ch
70f8 cd9c73    call    739ch
70fb c36073    jp      7360h
70fe f1        pop     af
70ff f5        push    af
7100 e6f8      and     0f8h
7102 fe70      cp      70h
7104 c21a72    jp      nz,721ah
7107 cdff72    call    72ffh
710a cd4973    call    7349h
710d cd6073    call    7360h
7110 cd9c73    call    739ch
7113 f1        pop     af
7114 c32c73    jp      732ch
7117 fe3a      cp      3ah
7119 200f      jr      nz,712ah
711b cdff72    call    72ffh
711e cd4973    call    7349h
7121 cda173    call    73a1h
7124 cd9c73    call    739ch
7127 c38373    jp      7383h
712a fe2a      cp      2ah
712c 200c      jr      nz,713ah
712e cdff72    call    72ffh
7131 cd4973    call    7349h
7134 cda673    call    73a6h
7137 c32471    jp      7124h
713a fe32      cp      32h
713c 2013      jr      nz,7151h
713e cd4471    call    7144h
7141 c3a173    jp      73a1h
7144 cdff72    call    72ffh
7147 cd4973    call    7349h
714a cd8373    call    7383h
714d cd9c73    call    739ch
7150 c9        ret     
7151 fe22      cp      22h
7153 2006      jr      nz,715bh
7155 cd4471    call    7144h
7158 c3a673    jp      73a6h
715b fec3      cp      0c3h
715d 200e      jr      nz,716dh
715f cdff72    call    72ffh
7162 0e07      ld      c,07h
7164 cd4b73    call    734bh
7167 2a2786    ld      hl,(8627h)
716a c3ac6c    jp      6cach
716d fecd      cp      0cdh
716f 200a      jr      nz,717bh
7171 cdff72    call    72ffh
7174 0e08      ld      c,08h
7176 cd4b73    call    734bh
7179 18ec      jr      7167h
717b f5        push    af
717c e6c7      and     0c7h
717e fec2      cp      0c2h
7180 201b      jr      nz,719dh
7182 cdff72    call    72ffh
7185 0e07      ld      c,07h
7187 cd4b73    call    734bh
718a f1        pop     af
718b cb3f      srl     a
718d cb3f      srl     a
718f cb3f      srl     a
7191 213e77    ld      hl,773eh
7194 cd2f73    call    732fh
7197 cd9c73    call    739ch
719a c36771    jp      7167h
719d f1        pop     af
719e f5        push    af
719f e6c7      and     0c7h
71a1 fec4      cp      0c4h
71a3 2007      jr      nz,71ach
71a5 cdff72    call    72ffh
71a8 0e08      ld      c,08h
71aa 18db      jr      7187h
71ac f1        pop     af
71ad f5        push    af
71ae e6cf      and     0cfh
71b0 fe01      cp      01h
71b2 201a      jr      nz,71ceh
71b4 cdff72    call    72ffh
71b7 cd4973    call    7349h
71ba f1        pop     af
71bb 0604      ld      b,04h
71bd cd4473    call    7344h
71c0 e603      and     03h
71c2 215b77    ld      hl,775bh
71c5 cd2f73    call    732fh
71c8 cd9c73    call    739ch
71cb c36771    jp      7167h
71ce cd9373    call    7393h
71d1 322986    ld      (8629h),a
71d4 f1        pop     af
71d5 feed      cp      0edh
71d7 c2b073    jp      nz,73b0h
71da 3a2786    ld      a,(8627h)
71dd f5        push    af
71de e6c7      and     0c7h
71e0 fe43      cp      43h
71e2 2804      jr      z,71e8h
71e4 f1        pop     af
71e5 c3b373    jp      73b3h
71e8 cdff72    call    72ffh
71eb cd4973    call    7349h
71ee f1        pop     af
71ef 0604      ld      b,04h
71f1 cd4473    call    7344h
71f4 3813      jr      c,7209h
71f6 f5        push    af
71f7 2a2886    ld      hl,(8628h)
71fa cd8673    call    7386h
71fd cd9c73    call    739ch
7200 f1        pop     af
7201 e603      and     03h
7203 215b77    ld      hl,775bh
7206 c32f73    jp      732fh
7209 e603      and     03h
720b 215b77    ld      hl,775bh
720e cd2f73    call    732fh
7211 cd9c73    call    739ch
7214 2a2886    ld      hl,(8628h)
7217 c38673    jp      7386h
721a f1        pop     af
721b cd9373    call    7393h
721e 322986    ld      (8629h),a
7221 3a2786    ld      a,(8627h)
7224 fecb      cp      0cbh
7226 2050      jr      nz,7278h
7228 cdff72    call    72ffh
722b 3a2986    ld      a,(8629h)
722e f5        push    af
722f e607      and     07h
7231 fe06      cp      06h
7233 2804      jr      z,7239h
7235 f1        pop     af
7236 c3b373    jp      73b3h
7239 f1        pop     af
723a f5        push    af
723b e6c0      and     0c0h
723d 201c      jr      nz,725bh
723f f1        pop     af
7240 cb3f      srl     a
7242 cb3f      srl     a
7244 cb3f      srl     a
7246 e607      and     07h
7248 fe06      cp      06h
724a cab373    jp      z,73b3h
724d fe07      cp      07h
724f 2001      jr      nz,7252h
7251 3d        dec     a
7252 217576    ld      hl,7675h
7255 cd2f73    call    732fh
7258 c36073    jp      7360h
725b 07        rlca    
725c 07        rlca    
725d 21df76    ld      hl,76dfh
7260 cd2f73    call    732fh
7263 f1        pop     af
7264 cb3f      srl     a
7266 cb3f      srl     a
7268 cb3f      srl     a
726a e607      and     07h
726c cdc06c    call    6cc0h
726f cdea6b    call    6beah
7272 cd9c73    call    739ch
7275 c36073    jp      7360h
7278 fe22      cp      22h
727a 2012      jr      nz,728eh
727c cdff72    call    72ffh
727f cd4973    call    7349h
7282 2a2886    ld      hl,(8628h)
7285 cd8673    call    7386h
7288 cd9c73    call    739ch
728b c37873    jp      7378h
728e fe21      cp      21h
7290 2016      jr      nz,72a8h
7292 cd9872    call    7298h
7295 c3ac6c    jp      6cach
7298 cdff72    call    72ffh
729b cd4973    call    7349h
729e cd7873    call    7378h
72a1 cd9c73    call    739ch
72a4 2a2886    ld      hl,(8628h)
72a7 c9        ret     
72a8 fe2a      cp      2ah
72aa 2006      jr      nz,72b2h
72ac cd9872    call    7298h
72af c38673    jp      7386h
72b2 fe36      cp      36h
72b4 c2b073    jp      nz,73b0h
72b7 cdff72    call    72ffh
72ba cd4973    call    7349h
72bd cd6073    call    7360h
72c0 cd9c73    call    739ch
72c3 3a2986    ld      a,(8629h)
72c6 c3b16c    jp      6cb1h
72c9 21bb73    ld      hl,73bbh
72cc 0d        dec     c
72cd 280c      jr      z,72dbh
72cf 7e        ld      a,(hl)
72d0 cb7f      bit     7,a
72d2 2003      jr      nz,72d7h
72d4 23        inc     hl
72d5 18f8      jr      72cfh
72d7 23        inc     hl
72d8 0d        dec     c
72d9 20f4      jr      nz,72cfh
72db 7e        ld      a,(hl)
72dc f5        push    af
72dd e67f      and     7fh
72df fe20      cp      20h
72e1 2002      jr      nz,72e5h
72e3 3e09      ld      a,09h
72e5 cdea6b    call    6beah
72e8 23        inc     hl
72e9 f1        pop     af
72ea cb7f      bit     7,a
72ec 28ed      jr      z,72dbh
72ee c9        ret     
72ef 2a2086    ld      hl,(8620h)
72f2 cdac6c    call    6cach
72f5 3e3a      ld      a,3ah
72f7 cdea6b    call    6beah
72fa 3e20      ld      a,20h
72fc c3ea6b    jp      6beah
72ff c5        push    bc
7300 3a2586    ld      a,(8625h)
7303 47        ld      b,a
7304 212686    ld      hl,8626h
7307 7e        ld      a,(hl)
7308 cdb16c    call    6cb1h
730b 3e20      ld      a,20h
730d cdea6b    call    6beah
7310 23        inc     hl
7311 10f4      djnz    7307h
7313 212773    ld      hl,7327h
7316 3a2586    ld      a,(8625h)
7319 4f        ld      c,a
731a 0600      ld      b,00h
731c 09        add     hl,bc
731d 46        ld      b,(hl)
731e 3e20      ld      a,20h
7320 cdea6b    call    6beah
7323 10f9      djnz    731eh
7325 c1        pop     bc
7326 c9        ret     
7327 00        nop     
7328 0a        ld      a,(bc)
7329 07        rlca    
732a 04        inc     b
732b 012163    ld      bc,6321h
732e 77        ld      (hl),a
732f e607      and     07h
7331 4f        ld      c,a
7332 0c        inc     c
7333 c3cc72    jp      72cch
7336 2a2086    ld      hl,(8620h)
7339 23        inc     hl
733a 222086    ld      (8620h),hl
733d c9        ret     
733e dd4602    ld      b,(ix+02h)
7341 05        dec     b
7342 f8        ret     m
7343 04        inc     b
7344 cb3f      srl     a
7346 10fc      djnz    7344h
7348 c9        ret     
7349 0e01      ld      c,01h
734b 21df76    ld      hl,76dfh
734e cdcc72    call    72cch
7351 c9        ret     
7352 3e28      ld      a,28h
7354 cdea6b    call    6beah
7357 79        ld      a,c
7358 cdb16c    call    6cb1h
735b 3e29      ld      a,29h
735d c3ea6b    jp      6beah
7360 3e28      ld      a,28h
7362 cdea6b    call    6beah
7365 cd7873    call    7378h
7368 3e2b      ld      a,2bh
736a cdea6b    call    6beah
736d 3a2886    ld      a,(8628h)
7370 cdb16c    call    6cb1h
7373 3e29      ld      a,29h
7375 c3ea6b    jp      6beah
7378 3e49      ld      a,49h
737a cdea6b    call    6beah
737d 3a6c86    ld      a,(866ch)
7380 c3ea6b    jp      6beah
7383 2a2786    ld      hl,(8627h)
7386 3e28      ld      a,28h
7388 cdea6b    call    6beah
738b cdac6c    call    6cach
738e 3e29      ld      a,29h
7390 c3ea6b    jp      6beah
7393 212586    ld      hl,8625h
7396 34        inc     (hl)
7397 cd3673    call    7336h
739a 7e        ld      a,(hl)
739b c9        ret     
739c 3e2c      ld      a,2ch
739e c3ea6b    jp      6beah
73a1 3e41      ld      a,41h
73a3 c3ea6b    jp      6beah
73a6 3e48      ld      a,48h
73a8 cdea6b    call    6beah
73ab 3e4c      ld      a,4ch
73ad c3ea6b    jp      6beah
73b0 cdff72    call    72ffh
73b3 3e3f      ld      a,3fh
73b5 cdea6b    call    6beah
73b8 c3ea6b    jp      6beah
73bb 4c        ld      c,h
73bc 44        ld      b,h
73bd 2041      jr      nz,7400h
73bf 2c        inc     l
73c0 2842      jr      z,7404h
73c2 43        ld      b,e
73c3 a9        xor     c
73c4 4c        ld      c,h
73c5 44        ld      b,h
73c6 2041      jr      nz,7409h
73c8 2c        inc     l
73c9 2844      jr      z,740fh
73cb 45        ld      b,l
73cc a9        xor     c
73cd 4c        ld      c,h
73ce 44        ld      b,h
73cf 2028      jr      nz,73f9h
73d1 42        ld      b,d
73d2 43        ld      b,e
73d3 29        add     hl,hl
73d4 2c        inc     l
73d5 c1        pop     bc
73d6 4c        ld      c,h
73d7 44        ld      b,h
73d8 2028      jr      nz,7402h
73da 44        ld      b,h
73db 45        ld      b,l
73dc 29        add     hl,hl
73dd 2c        inc     l
73de c1        pop     bc
73df 4c        ld      c,h
73e0 44        ld      b,h
73e1 2053      jr      nz,7436h
73e3 50        ld      d,b
73e4 2c        inc     l
73e5 48        ld      c,b
73e6 cc4558    call    z,5845h
73e9 2044      jr      nz,742fh
73eb 45        ld      b,l
73ec 2c        inc     l
73ed 48        ld      c,b
73ee cc4558    call    z,5845h
73f1 2041      jr      nz,7434h
73f3 46        ld      b,(hl)
73f4 2c        inc     l
73f5 41        ld      b,c
73f6 46        ld      b,(hl)
73f7 a7        and     a
73f8 45        ld      b,l
73f9 58        ld      e,b
73fa d8        ret     c
73fb 45        ld      b,l
73fc 58        ld      e,b
73fd 2028      jr      nz,7427h
73ff 53        ld      d,e
7400 50        ld      d,b
7401 29        add     hl,hl
7402 2c        inc     l
7403 48        ld      c,b
7404 cc4441    call    z,4144h
7407 c1        pop     bc
7408 43        ld      b,e
7409 50        ld      d,b
740a cc4343    call    z,4343h
740d c653      add     a,53h
740f 43        ld      b,e
7410 c64e      add     a,4eh
7412 4f        ld      c,a
7413 d0        ret     nc
7414 48        ld      c,b
7415 41        ld      b,c
7416 4c        ld      c,h
7417 d444c9    call    nc,0c944h
741a 45        ld      b,l
741b c9        ret     
741c 52        ld      d,d
741d 4c        ld      c,h
741e 43        ld      b,e
741f c1        pop     bc
7420 52        ld      d,d
7421 4c        ld      c,h
7422 c1        pop     bc
7423 52        ld      d,d
7424 52        ld      d,d
7425 43        ld      b,e
7426 c1        pop     bc
7427 52        ld      d,d
7428 52        ld      d,d
7429 c1        pop     bc
742a 4a        ld      c,d
742b 50        ld      d,b
742c 2028      jr      nz,7456h
742e 48        ld      c,b
742f 4c        ld      c,h
7430 a9        xor     c
7431 52        ld      d,d
7432 45        ld      b,l
7433 d40a1a    call    nc,1a0ah
7436 02        ld      (bc),a
7437 12        ld      (de),a
7438 f9        ld      sp,hl
7439 eb        ex      de,hl
743a 08        ex      af,af'
743b d9        exx     
743c e3        ex      (sp),hl
743d 27        daa     
743e 2f        cpl     
743f 3f        ccf     
7440 37        scf     
7441 00        nop     
7442 76        halt    
7443 f3        di      
7444 fb        ei      
7445 07        rlca    
7446 17        rla     
7447 0f        rrca    
7448 1f        rra     
7449 e9        jp      (hl)
744a c9        ret     
744b 50        ld      d,b
744c 55        ld      d,l
744d 53        ld      d,e
744e 48        ld      c,b
744f a0        and     b
7450 50        ld      d,b
7451 4f        ld      c,a
7452 50        ld      d,b
7453 a0        and     b
7454 41        ld      b,c
7455 44        ld      b,h
7456 44        ld      b,h
7457 2048      jr      nz,74a1h
7459 4c        ld      c,h
745a ac        xor     h
745b 52        ld      d,d
745c 45        ld      b,l
745d 54        ld      d,h
745e a0        and     b
745f 52        ld      d,d
7460 53        ld      d,e
7461 54        ld      d,h
7462 a0        and     b
7463 49        ld      c,c
7464 4e        ld      c,(hl)
7465 43        ld      b,e
7466 a0        and     b
7467 44        ld      b,h
7468 45        ld      b,l
7469 43        ld      b,e
746a a0        and     b
746b 41        ld      b,c
746c 44        ld      b,h
746d 44        ld      b,h
746e 2041      jr      nz,74b1h
7470 ac        xor     h
7471 41        ld      b,c
7472 44        ld      b,h
7473 43        ld      b,e
7474 2041      jr      nz,74b7h
7476 ac        xor     h
7477 53        ld      d,e
7478 55        ld      d,l
7479 42        ld      b,d
747a a0        and     b
747b 53        ld      d,e
747c 42        ld      b,d
747d 43        ld      b,e
747e 2041      jr      nz,74c1h
7480 ac        xor     h
7481 41        ld      b,c
7482 4e        ld      c,(hl)
7483 44        ld      b,h
7484 a0        and     b
7485 58        ld      e,b
7486 4f        ld      c,a
7487 52        ld      d,d
7488 a0        and     b
7489 4f        ld      c,a
748a 52        ld      d,d
748b a0        and     b
748c 43        ld      b,e
748d 50        ld      d,b
748e a0        and     b
748f 49        ld      c,c
7490 4e        ld      c,(hl)
7491 43        ld      b,e
7492 a0        and     b
7493 44        ld      b,h
7494 45        ld      b,l
7495 43        ld      b,e
7496 a0        and     b
7497 cf        rst     08h
7498 c5        push    bc
7499 04        inc     b
749a 2e77      ld      l,77h
749c cf        rst     08h
749d c1        pop     bc
749e 04        inc     b
749f 2e77      ld      l,77h
74a1 cf        rst     08h
74a2 09        add     hl,bc
74a3 04        inc     b
74a4 5b        ld      e,e
74a5 77        ld      (hl),a
74a6 c7        rst     00h
74a7 c0        ret     nz
74a8 03        inc     bc
74a9 3e77      ld      a,77h
74ab c7        rst     00h
74ac c7        rst     00h
74ad 03        inc     bc
74ae 4b        ld      c,e
74af 77        ld      (hl),a
74b0 c7        rst     00h
74b1 04        inc     b
74b2 03        inc     bc
74b3 63        ld      h,e
74b4 77        ld      (hl),a
74b5 c7        rst     00h
74b6 05        dec     b
74b7 03        inc     bc
74b8 63        ld      h,e
74b9 77        ld      (hl),a
74ba f8        ret     m
74bb 80        add     a,b
74bc 00        nop     
74bd 63        ld      h,e
74be 77        ld      (hl),a
74bf f8        ret     m
74c0 88        adc     a,b
74c1 00        nop     
74c2 63        ld      h,e
74c3 77        ld      (hl),a
74c4 f8        ret     m
74c5 90        sub     b
74c6 00        nop     
74c7 63        ld      h,e
74c8 77        ld      (hl),a
74c9 f8        ret     m
74ca 98        sbc     a,b
74cb 00        nop     
74cc 63        ld      h,e
74cd 77        ld      (hl),a
74ce f8        ret     m
74cf a0        and     b
74d0 00        nop     
74d1 63        ld      h,e
74d2 77        ld      (hl),a
74d3 f8        ret     m
74d4 a8        xor     b
74d5 00        nop     
74d6 63        ld      h,e
74d7 77        ld      (hl),a
74d8 f8        ret     m
74d9 b0        or      b
74da 00        nop     
74db 63        ld      h,e
74dc 77        ld      (hl),a
74dd f8        ret     m
74de b8        cp      b
74df 00        nop     
74e0 63        ld      h,e
74e1 77        ld      (hl),a
74e2 cf        rst     08h
74e3 03        inc     bc
74e4 04        inc     b
74e5 5b        ld      e,e
74e6 77        ld      (hl),a
74e7 cf        rst     08h
74e8 0b        dec     bc
74e9 04        inc     b
74ea 5b        ld      e,e
74eb 77        ld      (hl),a
74ec 4c        ld      c,h
74ed 44        ld      b,h
74ee 2041      jr      nz,7531h
74f0 2c        inc     l
74f1 c9        ret     
74f2 4c        ld      c,h
74f3 44        ld      b,h
74f4 2041      jr      nz,7537h
74f6 2c        inc     l
74f7 d24c44    jp      nc,444ch
74fa 2049      jr      nz,7545h
74fc 2c        inc     l
74fd c1        pop     bc
74fe 4c        ld      c,h
74ff 44        ld      b,h
7500 2052      jr      nz,7554h
7502 2c        inc     l
7503 c1        pop     bc
7504 4c        ld      c,h
7505 44        ld      b,h
7506 2053      jr      nz,755bh
7508 50        ld      d,b
7509 2c        inc     l
750a 49        ld      c,c
750b d8        ret     c
750c 4c        ld      c,h
750d 44        ld      b,h
750e 2053      jr      nz,7563h
7510 50        ld      d,b
7511 2c        inc     l
7512 49        ld      c,c
7513 d9        exx     
7514 50        ld      d,b
7515 55        ld      d,l
7516 53        ld      d,e
7517 48        ld      c,b
7518 2049      jr      nz,7563h
751a d8        ret     c
751b 50        ld      d,b
751c 55        ld      d,l
751d 53        ld      d,e
751e 48        ld      c,b
751f 2049      jr      nz,756ah
7521 d9        exx     
7522 50        ld      d,b
7523 4f        ld      c,a
7524 50        ld      d,b
7525 2049      jr      nz,7570h
7527 d8        ret     c
7528 50        ld      d,b
7529 4f        ld      c,a
752a 50        ld      d,b
752b 2049      jr      nz,7576h
752d d9        exx     
752e 45        ld      b,l
752f 58        ld      e,b
7530 2028      jr      nz,755ah
7532 53        ld      d,e
7533 50        ld      d,b
7534 29        add     hl,hl
7535 2c        inc     l
7536 49        ld      c,c
7537 d8        ret     c
7538 45        ld      b,l
7539 58        ld      e,b
753a 2028      jr      nz,7564h
753c 53        ld      d,e
753d 50        ld      d,b
753e 29        add     hl,hl
753f 2c        inc     l
7540 49        ld      c,c
7541 d9        exx     
7542 4c        ld      c,h
7543 44        ld      b,h
7544 c9        ret     
7545 4c        ld      c,h
7546 44        ld      b,h
7547 49        ld      c,c
7548 d24c44    jp      nc,444ch
754b c44c44    call    nz,444ch
754e 44        ld      b,h
754f d24350    jp      nc,5043h
7552 c9        ret     
7553 43        ld      b,e
7554 50        ld      d,b
7555 49        ld      c,c
7556 d24350    jp      nc,5043h
7559 c44350    call    nz,5043h
755c 44        ld      b,h
755d d24e45    jp      nc,454eh
7560 c7        rst     00h
7561 49        ld      c,c
7562 4d        ld      c,l
7563 20b0      jr      nz,7515h
7565 49        ld      c,c
7566 4d        ld      c,l
7567 20b1      jr      nz,751ah
7569 49        ld      c,c
756a 4d        ld      c,l
756b 20b2      jr      nz,751fh
756d 49        ld      c,c
756e 4e        ld      c,(hl)
756f 43        ld      b,e
7570 2049      jr      nz,75bbh
7572 d8        ret     c
7573 49        ld      c,c
7574 4e        ld      c,(hl)
7575 43        ld      b,e
7576 2049      jr      nz,75c1h
7578 d9        exx     
7579 44        ld      b,h
757a 45        ld      b,l
757b 43        ld      b,e
757c 2049      jr      nz,75c7h
757e d8        ret     c
757f 44        ld      b,h
7580 45        ld      b,l
7581 43        ld      b,e
7582 2049      jr      nz,75cdh
7584 d9        exx     
7585 52        ld      d,d
7586 4c        ld      c,h
7587 c45252    call    nz,5252h
758a c44a50    call    nz,504ah
758d 2028      jr      nz,75b7h
758f 49        ld      c,c
7590 58        ld      e,b
7591 a9        xor     c
7592 4a        ld      c,d
7593 50        ld      d,b
7594 2028      jr      nz,75beh
7596 49        ld      c,c
7597 59        ld      e,c
7598 a9        xor     c
7599 52        ld      d,d
759a 45        ld      b,l
759b 54        ld      d,h
759c c9        ret     
759d 52        ld      d,d
759e 45        ld      b,l
759f 54        ld      d,h
75a0 ce49      adc     a,49h
75a2 4e        ld      c,(hl)
75a3 2042      jr      nz,75e7h
75a5 2c        inc     l
75a6 2843      jr      z,75ebh
75a8 a9        xor     c
75a9 49        ld      c,c
75aa 4e        ld      c,(hl)
75ab 2043      jr      nz,75f0h
75ad 2c        inc     l
75ae 2843      jr      z,75f3h
75b0 a9        xor     c
75b1 49        ld      c,c
75b2 4e        ld      c,(hl)
75b3 2044      jr      nz,75f9h
75b5 2c        inc     l
75b6 2843      jr      z,75fbh
75b8 a9        xor     c
75b9 49        ld      c,c
75ba 4e        ld      c,(hl)
75bb 2045      jr      nz,7602h
75bd 2c        inc     l
75be 2843      jr      z,7603h
75c0 a9        xor     c
75c1 49        ld      c,c
75c2 4e        ld      c,(hl)
75c3 2048      jr      nz,760dh
75c5 2c        inc     l
75c6 2843      jr      z,760bh
75c8 a9        xor     c
75c9 49        ld      c,c
75ca 4e        ld      c,(hl)
75cb 204c      jr      nz,7619h
75cd 2c        inc     l
75ce 2843      jr      z,7613h
75d0 a9        xor     c
75d1 49        ld      c,c
75d2 4e        ld      c,(hl)
75d3 2041      jr      nz,7616h
75d5 2c        inc     l
75d6 2843      jr      z,761bh
75d8 a9        xor     c
75d9 49        ld      c,c
75da 4e        ld      c,(hl)
75db c9        ret     
75dc 49        ld      c,c
75dd 4e        ld      c,(hl)
75de 49        ld      c,c
75df d2494e    jp      nc,4e49h
75e2 c4494e    call    nz,4e49h
75e5 44        ld      b,h
75e6 d24f55    jp      nc,554fh
75e9 54        ld      d,h
75ea c9        ret     
75eb 4f        ld      c,a
75ec 54        ld      d,h
75ed 49        ld      c,c
75ee d24f55    jp      nc,554fh
75f1 54        ld      d,h
75f2 c44f54    call    nz,544fh
75f5 44        ld      b,h
75f6 d2ed57    jp      nc,57edh
75f9 ed5f      ld      a,r
75fb ed47      ld      i,a
75fd ed4f      ld      r,a
75ff ddf9      ld      sp,ix
7601 fdf9      ld      sp,iy
7603 dde5      push    ix
7605 fde5      push    iy
7607 dde1      pop     ix
7609 fde1      pop     iy
760b dde3      ex      (sp),ix
760d fde3      ex      (sp),iy
760f eda0      ldi     
7611 edb0      ldir    
7613 eda8      ldd     
7615 edb8      lddr    
7617 eda1      cpi     
7619 edb1      cpir    
761b eda9      cpd     
761d edb9      cpdr    
761f ed44      neg     
7621 ed46      im      0
7623 ed56      im      1
7625 ed5e      im      2
7627 dd23      inc     ix
7629 fd23      inc     iy
762b dd2b      dec     ix
762d fd2b      dec     iy
762f ed6f      rld     
7631 ed67      rrd     
7633 dde9      jp      (ix)
7635 fde9      jp      (iy)
7637 ed4d      reti    
7639 ed45      retn    
763b ed40      in      b,(c)
763d ed48      in      c,(c)
763f ed50      in      d,(c)
7641 ed58      in      e,(c)
7643 ed60      in      h,(c)
7645 ed68      in      l,(c)
7647 ed78      in      a,(c)
7649 eda2      ini     
764b edb2      inir    
764d edaa      ind     
764f edba      indr    
7651 eda3      outi    
7653 edb3      otir    
7655 edab      outd    
7657 edbb      otdr    
7659 41        ld      b,c
765a 44        ld      b,h
765b 43        ld      b,e
765c 2048      jr      nz,76a6h
765e 4c        ld      c,h
765f ac        xor     h
7660 53        ld      d,e
7661 42        ld      b,d
7662 43        ld      b,e
7663 2048      jr      nz,76adh
7665 4c        ld      c,h
7666 ac        xor     h
7667 41        ld      b,c
7668 44        ld      b,h
7669 44        ld      b,h
766a 2049      jr      nz,76b5h
766c 58        ld      e,b
766d ac        xor     h
766e 41        ld      b,c
766f 44        ld      b,h
7670 44        ld      b,h
7671 2049      jr      nz,76bch
7673 59        ld      e,c
7674 ac        xor     h
7675 52        ld      d,d
7676 4c        ld      c,h
7677 43        ld      b,e
7678 a0        and     b
7679 52        ld      d,d
767a 52        ld      d,d
767b 43        ld      b,e
767c a0        and     b
767d 52        ld      d,d
767e 4c        ld      c,h
767f a0        and     b
7680 52        ld      d,d
7681 52        ld      d,d
7682 a0        and     b
7683 53        ld      d,e
7684 4c        ld      c,h
7685 41        ld      b,c
7686 a0        and     b
7687 53        ld      d,e
7688 52        ld      d,d
7689 41        ld      b,c
768a a0        and     b
768b 53        ld      d,e
768c 52        ld      d,d
768d 4c        ld      c,h
768e a0        and     b
768f 4f        ld      c,a
7690 55        ld      d,l
7691 54        ld      d,h
7692 2028      jr      nz,76bch
7694 43        ld      b,e
7695 29        add     hl,hl
7696 ac        xor     h
7697 eded      db      0edh, 0edh       ; Undocumented 8 T-State NOP
7699 ddfdcbcbcb  ld      e,set 1,(iy-35h)
769e cbcb      set     1,e
76a0 cbcb      set     1,e
76a2 edcf      db      0edh, 0cfh       ; Undocumented 8 T-State NOP
76a4 4a        ld      c,d
76a5 04        inc     b
76a6 5b        ld      e,e
76a7 77        ld      (hl),a
76a8 cf        rst     08h
76a9 42        ld      b,d
76aa 04        inc     b
76ab 5b        ld      e,e
76ac 77        ld      (hl),a
76ad cf        rst     08h
76ae 09        add     hl,bc
76af 04        inc     b
76b0 2677      ld      h,77h
76b2 cf        rst     08h
76b3 09        add     hl,bc
76b4 04        inc     b
76b5 3677      ld      (hl),77h
76b7 f8        ret     m
76b8 00        nop     
76b9 00        nop     
76ba 63        ld      h,e
76bb 77        ld      (hl),a
76bc f8        ret     m
76bd 08        ex      af,af'
76be 00        nop     
76bf 63        ld      h,e
76c0 77        ld      (hl),a
76c1 f8        ret     m
76c2 1000      djnz    76c4h
76c4 63        ld      h,e
76c5 77        ld      (hl),a
76c6 f8        ret     m
76c7 1800      jr      76c9h
76c9 63        ld      h,e
76ca 77        ld      (hl),a
76cb f8        ret     m
76cc 2000      jr      nz,76ceh
76ce 63        ld      h,e
76cf 77        ld      (hl),a
76d0 f8        ret     m
76d1 2800      jr      z,76d3h
76d3 63        ld      h,e
76d4 77        ld      (hl),a
76d5 f8        ret     m
76d6 3800      jr      c,76d8h
76d8 63        ld      h,e
76d9 77        ld      (hl),a
76da c7        rst     00h
76db 41        ld      b,c
76dc 03        inc     bc
76dd 63        ld      h,e
76de 77        ld      (hl),a
76df 4c        ld      c,h
76e0 44        ld      b,h
76e1 a0        and     b
76e2 42        ld      b,d
76e3 49        ld      c,c
76e4 54        ld      d,h
76e5 a0        and     b
76e6 52        ld      d,d
76e7 45        ld      b,l
76e8 53        ld      d,e
76e9 a0        and     b
76ea 53        ld      d,e
76eb 45        ld      b,l
76ec 54        ld      d,h
76ed a0        and     b
76ee 49        ld      c,c
76ef 4e        ld      c,(hl)
76f0 2041      jr      nz,7733h
76f2 ac        xor     h
76f3 4f        ld      c,a
76f4 55        ld      d,l
76f5 54        ld      d,h
76f6 a0        and     b
76f7 4a        ld      c,d
76f8 50        ld      d,b
76f9 a0        and     b
76fa 43        ld      b,e
76fb 41        ld      b,c
76fc 4c        ld      c,h
76fd 4c        ld      c,h
76fe a0        and     b
76ff 49        ld      c,c
7700 4e        ld      c,(hl)
7701 a0        and     b
7702 44        ld      b,h
7703 4a        ld      c,d
7704 4e        ld      c,(hl)
7705 5a        ld      e,d
7706 a0        and     b
7707 4a        ld      c,d
7708 52        ld      d,d
7709 a0        and     b
770a 4a        ld      c,d
770b 52        ld      d,d
770c 204e      jr      nz,775ch
770e 5a        ld      e,d
770f ac        xor     h
7710 4a        ld      c,d
7711 52        ld      d,d
7712 205a      jr      nz,776eh
7714 ac        xor     h
7715 4a        ld      c,d
7716 52        ld      d,d
7717 204e      jr      nz,7767h
7719 43        ld      b,e
771a ac        xor     h
771b 4a        ld      c,d
771c 52        ld      d,d
771d 2043      jr      nz,7762h
771f ac        xor     h
7720 1018      djnz    773ah
7722 2028      jr      nz,774ch
7724 3038      jr      nc,775eh
7726 42        ld      b,d
7727 c344c5    jp      0c544h
772a 49        ld      c,c
772b d8        ret     c
772c 53        ld      d,e
772d d0        ret     nc
772e 42        ld      b,d
772f c344c5    jp      0c544h
7732 48        ld      c,b
7733 cc41c6    call    z,0c641h
7736 42        ld      b,d
7737 c344c5    jp      0c544h
773a 49        ld      c,c
773b d9        exx     
773c 53        ld      d,e
773d d0        ret     nc
773e 4e        ld      c,(hl)
773f dada4e    jp      c,4edah
7742 c3c350    jp      50c3h
7745 cf        rst     08h
7746 50        ld      d,b
7747 c5        push    bc
7748 d0        ret     nc
7749 cd0030    call    3000h
774c b0        or      b
774d 30b8      jr      nc,7707h
774f 31b031    ld      sp,31b0h
7752 b8        cp      b
7753 32b032    ld      (32b0h),a
7756 b8        cp      b
7757 33        inc     sp
7758 b0        or      b
7759 33        inc     sp
775a b8        cp      b
775b 42        ld      b,d
775c c344c5    jp      0c544h
775f 48        ld      c,b
7760 cc53d0    call    z,0d053h
7763 c2c3c4    jp      nz,0c4c3h
7766 c5        push    bc
7767 c8        ret     z
7768 cc2848    call    z,4828h
776b 4c        ld      c,h
776c a9        xor     c
776d c1        pop     bc
776e 3c        inc     a
776f 4d        ld      c,l
7770 4f        ld      c,a
7771 4e        ld      c,(hl)
7772 3e0d      ld      a,0dh
7774 8a        adc     a,d
7775 c9        ret     
7776 e1        pop     hl
7777 e1        pop     hl
7778 ed733686  ld      (8636h),sp
777c ed7b3686  ld      sp,(8636h)
7780 cdde6b    call    6bdeh
7783 cd0d0c    call    0c0dh
7786 da976b    jp      c,6b97h
7789 110000    ld      de,0000h
778c ed532286  ld      (8622h),de
7790 ed532486  ld      (8624h),de
7794 112186    ld      de,8621h
7797 0605      ld      b,05h
7799 cd657b    call    7b65h
779c 28de      jr      z,777ch
779e 05        dec     b
779f ca397f    jp      z,7f39h
77a2 13        inc     de
77a3 12        ld      (de),a
77a4 23        inc     hl
77a5 7e        ld      a,(hl)
77a6 a7        and     a
77a7 2804      jr      z,77adh
77a9 fe20      cp      20h
77ab 20f1      jr      nz,779eh
77ad 1a        ld      a,(de)
77ae f680      or      80h
77b0 12        ld      (de),a
77b1 e5        push    hl
77b2 0612      ld      b,12h
77b4 11357e    ld      de,7e35h
77b7 cd937a    call    7a93h
77ba 3805      jr      c,77c1h
77bc 10f9      djnz    77b7h
77be c3397f    jp      7f39h
77c1 cb20      sla     b
77c3 68        ld      l,b
77c4 2600      ld      h,00h
77c6 11cc7d    ld      de,7dcch
77c9 19        add     hl,de
77ca 5e        ld      e,(hl)
77cb 23        inc     hl
77cc 56        ld      d,(hl)
77cd eb        ex      de,hl
77ce e3        ex      (sp),hl
77cf c9        ret     
77d0 cd617f    call    7f61h
77d3 f5        push    af
77d4 cd477b    call    7b47h
77d7 f1        pop     af
77d8 fe0e      cp      0eh
77da 2025      jr      nz,7801h
77dc cd667b    call    7b66h
77df fe41      cp      41h
77e1 2013      jr      nz,77f6h
77e3 cd657b    call    7b65h
77e6 fe46      cp      46h
77e8 200c      jr      nz,77f6h
77ea cd657b    call    7b65h
77ed fe27      cp      27h
77ef 2005      jr      nz,77f6h
77f1 cd657b    call    7b65h
77f4 2803      jr      z,77f9h
77f6 c33e7f    jp      7f3eh
77f9 3e08      ld      a,08h
77fb ed5b2086  ld      de,(8620h)
77ff 181d      jr      781eh
7801 f5        push    af
7802 cd517b    call    7b51h
7805 4f        ld      c,a
7806 f1        pop     af
7807 fe09      cp      09h
7809 2009      jr      nz,7814h
780b 79        ld      a,c
780c fe0a      cp      0ah
780e 20e6      jr      nz,77f6h
7810 3eeb      ld      a,0ebh
7812 180a      jr      781eh
7814 fe14      cp      14h
7816 20de      jr      nz,77f6h
7818 79        ld      a,c
7819 0ee3      ld      c,0e3h
781b cd8879    call    7988h
781e c39d7b    jp      7b9dh
7821 cd617f    call    7f61h
7824 f5        push    af
7825 cd477b    call    7b47h
7828 f1        pop     af
7829 fe07      cp      07h
782b 3009      jr      nc,7836h
782d cd377b    call    7b37h
7830 f608      or      08h
7832 4f        ld      c,a
7833 c3e67a    jp      7ae6h
7836 2040      jr      nz,7878h
7838 e5        push    hl
7839 4f        ld      c,a
783a cd517b    call    7b51h
783d e1        pop     hl
783e fe0f      cp      0fh
7840 d24678    jp      nc,7846h
7843 79        ld      a,c
7844 18e7      jr      782dh
7846 2005      jr      nz,784dh
7848 3e0a      ld      a,0ah
784a c39d7b    jp      7b9dh
784d fe10      cp      10h
784f 2004      jr      nz,7855h
7851 3e1a      ld      a,1ah
7853 18f5      jr      784ah
7855 fe19      cp      19h
7857 2005      jr      nz,785eh
7859 3e3a      ld      a,3ah
785b c3fa79    jp      79fah
785e fe11      cp      11h
7860 28e1      jr      z,7843h
7862 fe15      cp      15h
7864 da3e7f    jp      c,7f3eh
7867 fe17      cp      17h
7869 d24378    jp      nc,7843h
786c 07        rlca    
786d 07        rlca    
786e f607      or      07h
7870 f5        push    af
7871 3eed      ld      a,0edh
7873 12        ld      (de),a
7874 13        inc     de
7875 f1        pop     af
7876 18d2      jr      784ah
7878 fe0d      cp      0dh
787a 2012      jr      nz,788eh
787c d602      sub     02h
787e 47        ld      b,a
787f cd517b    call    7b51h
7882 fe0a      cp      0ah
7884 382a      jr      c,78b0h
7886 fe0d      cp      0dh
7888 3026      jr      nc,78b0h
788a 0ef9      ld      c,0f9h
788c 188d      jr      781bh
788e fe15      cp      15h
7890 200f      jr      nz,78a1h
7892 47        ld      b,a
7893 cd517b    call    7b51h
7896 fe07      cp      07h
7898 c2f677    jp      nz,77f6h
789b 78        ld      a,b
789c d60d      sub     0dh
789e 07        rlca    
789f 18cb      jr      786ch
78a1 fe16      cp      16h
78a3 28ed      jr      z,7892h
78a5 cd9d79    call    799dh
78a8 2828      jr      z,78d2h
78aa 383f      jr      c,78ebh
78ac 47        ld      b,a
78ad cd517b    call    7b51h
78b0 fe18      cp      18h
78b2 0e01      ld      c,01h
78b4 2812      jr      z,78c8h
78b6 fe19      cp      19h
78b8 c2f677    jp      nz,77f6h
78bb 78        ld      a,b
78bc 0e0a      ld      c,0ah
78be fe0a      cp      0ah
78c0 2806      jr      z,78c8h
78c2 0e4b      ld      c,4bh
78c4 3eed      ld      a,0edh
78c6 12        ld      (de),a
78c7 13        inc     de
78c8 78        ld      a,b
78c9 e607      and     07h
78cb 07        rlca    
78cc 07        rlca    
78cd 07        rlca    
78ce 07        rlca    
78cf b1        or      c
78d0 1889      jr      785bh
78d2 47        ld      b,a
78d3 cd517b    call    7b51h
78d6 fe18      cp      18h
78d8 2009      jr      nz,78e3h
78da 0e21      ld      c,21h
78dc 78        ld      a,b
78dd cd8879    call    7988h
78e0 c35b78    jp      785bh
78e3 fe19      cp      19h
78e5 20d1      jr      nz,78b8h
78e7 0e2a      ld      c,2ah
78e9 18f1      jr      78dch
78eb fe19      cp      19h
78ed 2031      jr      nz,7920h
78ef ed4b2286  ld      bc,(8622h)
78f3 cd517b    call    7b51h
78f6 ed432286  ld      (8622h),bc
78fa fe07      cp      07h
78fc 2005      jr      nz,7903h
78fe 3e32      ld      a,32h
7900 c35b78    jp      785bh
7903 cd9d79    call    799dh
7906 da3e7f    jp      c,7f3eh
7909 0e22      ld      c,22h
790b 280e      jr      z,791bh
790d fe0a      cp      0ah
790f 2005      jr      nz,7916h
7911 3e22      ld      a,22h
7913 c35b78    jp      785bh
7916 47        ld      b,a
7917 0e43      ld      c,43h
7919 18a9      jr      78c4h
791b 0e22      ld      c,22h
791d 47        ld      b,a
791e 18bc      jr      78dch
7920 fe0f      cp      0fh
7922 200f      jr      nz,7933h
7924 3e02      ld      a,02h
7926 f5        push    af
7927 cd517b    call    7b51h
792a fe07      cp      07h
792c c23e7f    jp      nz,7f3eh
792f f1        pop     af
7930 c34a78    jp      784ah
7933 fe10      cp      10h
7935 2004      jr      nz,793bh
7937 3e12      ld      a,12h
7939 18eb      jr      7926h
793b 47        ld      b,a
793c ed5b2286  ld      de,(8622h)
7940 d5        push    de
7941 cd517b    call    7b51h
7944 fe08      cp      08h
7946 e1        pop     hl
7947 300e      jr      nc,7957h
7949 cd377b    call    7b37h
794c f670      or      70h
794e 222286    ld      (8622h),hl
7951 cd6d79    call    796dh
7954 c39e7b    jp      7b9eh
7957 fe18      cp      18h
7959 c2b878    jp      nz,78b8h
795c 3a2286    ld      a,(8622h)
795f 67        ld      h,a
7960 7d        ld      a,l
7961 322286    ld      (8622h),a
7964 3e36      ld      a,36h
7966 cd6d79    call    796dh
7969 7c        ld      a,h
796a c39d7b    jp      7b9dh
796d 4f        ld      c,a
796e 78        ld      a,b
796f fe11      cp      11h
7971 2811      jr      z,7984h
7973 fe1a      cp      1ah
7975 da3e7f    jp      c,7f3eh
7978 d60f      sub     0fh
797a cd9479    call    7994h
797d 12        ld      (de),a
797e 13        inc     de
797f 3a2286    ld      a,(8622h)
7982 1801      jr      7985h
7984 79        ld      a,c
7985 12        ld      (de),a
7986 13        inc     de
7987 c9        ret     
7988 fe0a      cp      0ah
798a 280f      jr      z,799bh
798c da3e7f    jp      c,7f3eh
798f fe0e      cp      0eh
7991 d23e7f    jp      nc,7f3eh
7994 07        rlca    
7995 07        rlca    
7996 07        rlca    
7997 f6dd      or      0ddh
7999 12        ld      (de),a
799a 13        inc     de
799b 79        ld      a,c
799c c9        ret     
799d fe0b      cp      0bh
799f c8        ret     z
79a0 fe0c      cp      0ch
79a2 c8        ret     z
79a3 fe08      cp      08h
79a5 d8        ret     c
79a6 fe0d      cp      0dh
79a8 2003      jr      nz,79adh
79aa 3d        dec     a
79ab 3d        dec     a
79ac c9        ret     
79ad 3f        ccf     
79ae c9        ret     
79af c5        push    bc
79b0 e5        push    hl
79b1 0e2c      ld      c,2ch
79b3 0603      ld      b,03h
79b5 f5        push    af
79b6 cd6e7b    call    7b6eh
79b9 2023      jr      nz,79deh
79bb f1        pop     af
79bc be        cp      (hl)
79bd 2020      jr      nz,79dfh
79bf 3a2286    ld      a,(8622h)
79c2 a7        and     a
79c3 ca3e7f    jp      z,7f3eh
79c6 1a        ld      a,(de)
79c7 f680      or      80h
79c9 12        ld      (de),a
79ca 113d77    ld      de,773dh
79cd e5        push    hl
79ce cd937a    call    7a93h
79d1 e1        pop     hl
79d2 d2df79    jp      nc,79dfh
79d5 79        ld      a,c
79d6 3d        dec     a
79d7 07        rlca    
79d8 07        rlca    
79d9 07        rlca    
79da 23        inc     hl
79db c1        pop     bc
79dc c1        pop     bc
79dd c9        ret     
79de f1        pop     af
79df e1        pop     hl
79e0 c1        pop     bc
79e1 37        scf     
79e2 c9        ret     
79e3 79        ld      a,c
79e4 fe01      cp      01h
79e6 201f      jr      nz,7a07h
79e8 3e2c      ld      a,2ch
79ea cdaf79    call    79afh
79ed 3002      jr      nc,79f1h
79ef 3e09      ld      a,09h
79f1 f6c4      or      0c4h
79f3 cdf27d    call    7df2h
79f6 ed5b2086  ld      de,(8620h)
79fa 12        ld      (de),a
79fb 13        inc     de
79fc 3a2286    ld      a,(8622h)
79ff 12        ld      (de),a
7a00 13        inc     de
7a01 3a2386    ld      a,(8623h)
7a04 c39d7b    jp      7b9dh
7a07 cd667b    call    7b66h
7a0a 2004      jr      nz,7a10h
7a0c 3e09      ld      a,09h
7a0e 1807      jr      7a17h
7a10 af        xor     a
7a11 cdaf79    call    79afh
7a14 da3e7f    jp      c,7f3eh
7a17 f6c0      or      0c0h
7a19 ed5b2086  ld      de,(8620h)
7a1d c39d7b    jp      7b9dh
7a20 3e2c      ld      a,2ch
7a22 cdaf79    call    79afh
7a25 3804      jr      c,7a2bh
7a27 f6c2      or      0c2h
7a29 18c8      jr      79f3h
7a2b cd517b    call    7b51h
7a2e fe18      cp      18h
7a30 2004      jr      nz,7a36h
7a32 3ec3      ld      a,0c3h
7a34 18c4      jr      79fah
7a36 ed5b2086  ld      de,(8620h)
7a3a fe11      cp      11h
7a3c 2005      jr      nz,7a43h
7a3e 3ee9      ld      a,0e9h
7a40 c39d7b    jp      7b9dh
7a43 fe12      cp      12h
7a45 2004      jr      nz,7a4bh
7a47 3edd      ld      a,0ddh
7a49 1807      jr      7a52h
7a4b fe13      cp      13h
7a4d c23e7f    jp      nz,7f3eh
7a50 3efd      ld      a,0fdh
7a52 12        ld      (de),a
7a53 13        inc     de
7a54 3ee9      ld      a,0e9h
7a56 c39d7b    jp      7b9dh
7a59 3e2c      ld      a,2ch
7a5b cdaf79    call    79afh
7a5e 382b      jr      c,7a8bh
7a60 fe20      cp      20h
7a62 d23e7f    jp      nc,7f3eh
7a65 f620      or      20h
7a67 cdf27d    call    7df2h
7a6a ed5b2086  ld      de,(8620h)
7a6e 2a2286    ld      hl,(8622h)
7a71 f5        push    af
7a72 af        xor     a
7a73 2b        dec     hl
7a74 2b        dec     hl
7a75 ed52      sbc     hl,de
7a77 f27c7a    jp      p,7a7ch
7a7a 3eff      ld      a,0ffh
7a7c ac        xor     h
7a7d c23e7f    jp      nz,7f3eh
7a80 ed5b2086  ld      de,(8620h)
7a84 f1        pop     af
7a85 12        ld      (de),a
7a86 13        inc     de
7a87 7d        ld      a,l
7a88 c39d7b    jp      7b9dh
7a8b 3e18      ld      a,18h
7a8d 18d8      jr      7a67h
7a8f 3e10      ld      a,10h
7a91 18d4      jr      7a67h
7a93 0e00      ld      c,00h
7a95 0c        inc     c
7a96 212186    ld      hl,8621h
7a99 13        inc     de
7a9a 23        inc     hl
7a9b 1a        ld      a,(de)
7a9c a7        and     a
7a9d c8        ret     z
7a9e f2a67a    jp      p,7aa6h
7aa1 be        cp      (hl)
7aa2 280d      jr      z,7ab1h
7aa4 18ef      jr      7a95h
7aa6 be        cp      (hl)
7aa7 28f0      jr      z,7a99h
7aa9 13        inc     de
7aaa 1a        ld      a,(de)
7aab a7        and     a
7aac f2a97a    jp      p,7aa9h
7aaf 18e4      jr      7a95h
7ab1 37        scf     
7ab2 c9        ret     
7ab3 c2c3c4    jp      nz,0c4c3h
7ab6 c5        push    bc
7ab7 c8        ret     z
7ab8 ccc142    call    z,42c1h
7abb c344c5    jp      0c544h
7abe 48        ld      c,b
7abf cc49d8    call    z,0d849h
7ac2 49        ld      c,c
7ac3 d9        exx     
7ac4 53        ld      d,e
7ac5 d0        ret     nc
7ac6 41        ld      b,c
7ac7 c628      add     a,28h
7ac9 42        ld      b,d
7aca 43        ld      b,e
7acb a9        xor     c
7acc 2844      jr      z,7b12h
7ace 45        ld      b,l
7acf a9        xor     c
7ad0 2848      jr      z,7b1ah
7ad2 4c        ld      c,h
7ad3 a9        xor     c
7ad4 2849      jr      z,7b1fh
7ad6 58        ld      e,b
7ad7 a9        xor     c
7ad8 2849      jr      z,7b23h
7ada 59        ld      e,c
7adb a9        xor     c
7adc 2853      jr      z,7b31h
7ade 50        ld      d,b
7adf a9        xor     c
7ae0 c9        ret     
7ae1 d22843    jp      nc,4328h
7ae4 a9        xor     c
7ae5 00        nop     
7ae6 cd517b    call    7b51h
7ae9 fe08      cp      08h
7aeb 3823      jr      c,7b10h
7aed fe11      cp      11h
7aef 282b      jr      z,7b1ch
7af1 fe18      cp      18h
7af3 282b      jr      z,7b20h
7af5 fe1a      cp      1ah
7af7 da3e7f    jp      c,7f3eh
7afa 2802      jr      z,7afeh
7afc c61f      add     a,1fh
7afe c6c3      add     a,0c3h
7b00 12        ld      (de),a
7b01 13        inc     de
7b02 79        ld      a,c
7b03 07        rlca    
7b04 07        rlca    
7b05 07        rlca    
7b06 f606      or      06h
7b08 12        ld      (de),a
7b09 13        inc     de
7b0a 3a2286    ld      a,(8622h)
7b0d c39d7b    jp      7b9dh
7b10 cd377b    call    7b37h
7b13 47        ld      b,a
7b14 79        ld      a,c
7b15 07        rlca    
7b16 07        rlca    
7b17 07        rlca    
7b18 b0        or      b
7b19 c39d7b    jp      7b9dh
7b1c 3e06      ld      a,06h
7b1e 18f3      jr      7b13h
7b20 3a2386    ld      a,(8623h)
7b23 a7        and     a
7b24 c23e7f    jp      nz,7f3eh
7b27 79        ld      a,c
7b28 ee08      xor     08h
7b2a 07        rlca    
7b2b 07        rlca    
7b2c 07        rlca    
7b2d f606      or      06h
7b2f 12        ld      (de),a
7b30 13        inc     de
7b31 3a2286    ld      a,(8622h)
7b34 c39d7b    jp      7b9dh
7b37 fe07      cp      07h
7b39 c8        ret     z
7b3a 3d        dec     a
7b3b c9        ret     
7b3c 79        ld      a,c
7b3d fe01      cp      01h
7b3f 2001      jr      nz,7b42h
7b41 3d        dec     a
7b42 c612      add     a,12h
7b44 4f        ld      c,a
7b45 189f      jr      7ae6h
7b47 cd667b    call    7b66h
7b4a fe2c      cp      2ch
7b4c c23e7f    jp      nz,7f3eh
7b4f 23        inc     hl
7b50 c9        ret     
7b51 cd617f    call    7f61h
7b54 a7        and     a
7b55 ca3e7f    jp      z,7f3eh
7b58 f5        push    af
7b59 cd667b    call    7b66h
7b5c c2397f    jp      nz,7f39h
7b5f ed5b2086  ld      de,(8620h)
7b63 f1        pop     af
7b64 c9        ret     
7b65 23        inc     hl
7b66 7e        ld      a,(hl)
7b67 a7        and     a
7b68 c8        ret     z
7b69 fe20      cp      20h
7b6b 28f8      jr      z,7b65h
7b6d c9        ret     
7b6e 110000    ld      de,0000h
7b71 ed532286  ld      (8622h),de
7b75 ed532486  ld      (8624h),de
7b79 112186    ld      de,8621h
7b7c 2b        dec     hl
7b7d cd657b    call    7b65h
7b80 c8        ret     z
7b81 b9        cp      c
7b82 c8        ret     z
7b83 13        inc     de
7b84 05        dec     b
7b85 2803      jr      z,7b8ah
7b87 12        ld      (de),a
7b88 18f3      jr      7b7dh
7b8a a7        and     a
7b8b c9        ret     
7b8c cd667b    call    7b66h
7b8f c2397f    jp      nz,7f39h
7b92 ed5b2086  ld      de,(8620h)
7b96 21167f    ld      hl,7f16h
7b99 0600      ld      b,00h
7b9b 09        add     hl,bc
7b9c 7e        ld      a,(hl)
7b9d 12        ld      (de),a
7b9e 3e18      ld      a,18h
7ba0 cdd957    call    57d9h
7ba3 cd946e    call    6e94h
7ba6 cd3673    call    7336h
7ba9 c37c77    jp      777ch
7bac cd667b    call    7b66h
7baf c2397f    jp      nz,7f39h
7bb2 ed5b2086  ld      de,(8620h)
7bb6 3eed      ld      a,0edh
7bb8 12        ld      (de),a
7bb9 13        inc     de
7bba 21237f    ld      hl,7f23h
7bbd 18da      jr      7b99h
7bbf cdf27d    call    7df2h
7bc2 3a2386    ld      a,(8623h)
7bc5 a7        and     a
7bc6 c23e7f    jp      nz,7f3eh
7bc9 3a2286    ld      a,(8622h)
7bcc fe08      cp      08h
7bce d23e7f    jp      nc,7f3eh
7bd1 c9        ret     
7bd2 cdf27d    call    7df2h
7bd5 3a2386    ld      a,(8623h)
7bd8 b7        or      a
7bd9 c23e7f    jp      nz,7f3eh
7bdc 3a2286    ld      a,(8622h)
7bdf 57        ld      d,a
7be0 e6c7      and     0c7h
7be2 c23e7f    jp      nz,7f3eh
7be5 7a        ld      a,d
7be6 f6c7      or      0c7h
7be8 ed5b2086  ld      de,(8620h)
7bec 18af      jr      7b9dh
7bee cdbf7b    call    7bbfh
7bf1 fe03      cp      03h
7bf3 d23e7f    jp      nc,7f3eh
7bf6 2a2086    ld      hl,(8620h)
7bf9 36ed      ld      (hl),0edh
7bfb 23        inc     hl
7bfc eb        ex      de,hl
7bfd 07        rlca    
7bfe 07        rlca    
7bff 07        rlca    
7c00 a7        and     a
7c01 2802      jr      z,7c05h
7c03 c608      add     a,08h
7c05 f646      or      46h
7c07 1894      jr      7b9dh
7c09 cd517b    call    7b51h
7c0c fe08      cp      08h
7c0e 3824      jr      c,7c34h
7c10 fe11      cp      11h
7c12 2830      jr      z,7c44h
7c14 fe1a      cp      1ah
7c16 da3e7f    jp      c,7f3eh
7c19 e601      and     01h
7c1b 0f        rrca    
7c1c 0f        rrca    
7c1d 0f        rrca    
7c1e f6dd      or      0ddh
7c20 12        ld      (de),a
7c21 13        inc     de
7c22 3ecb      ld      a,0cbh
7c24 12        ld      (de),a
7c25 13        inc     de
7c26 3a2286    ld      a,(8622h)
7c29 12        ld      (de),a
7c2a 13        inc     de
7c2b 79        ld      a,c
7c2c 07        rlca    
7c2d 07        rlca    
7c2e 07        rlca    
7c2f f606      or      06h
7c31 c39d7b    jp      7b9dh
7c34 cd377b    call    7b37h
7c37 47        ld      b,a
7c38 3ecb      ld      a,0cbh
7c3a 12        ld      (de),a
7c3b 13        inc     de
7c3c 79        ld      a,c
7c3d 07        rlca    
7c3e 07        rlca    
7c3f 07        rlca    
7c40 b0        or      b
7c41 c39d7b    jp      7b9dh
7c44 3ecb      ld      a,0cbh
7c46 12        ld      (de),a
7c47 13        inc     de
7c48 79        ld      a,c
7c49 07        rlca    
7c4a 07        rlca    
7c4b 07        rlca    
7c4c 18e1      jr      7c2fh
7c4e 79        ld      a,c
7c4f cd377b    call    7b37h
7c52 4f        ld      c,a
7c53 18b4      jr      7c09h
7c55 79        ld      a,c
7c56 07        rlca    
7c57 07        rlca    
7c58 07        rlca    
7c59 4f        ld      c,a
7c5a cdbf7b    call    7bbfh
7c5d b1        or      c
7c5e 4f        ld      c,a
7c5f cd477b    call    7b47h
7c62 18a5      jr      7c09h
7c64 cd517b    call    7b51h
7c67 fe08      cp      08h
7c69 da3e7f    jp      c,7f3eh
7c6c fe0f      cp      0fh
7c6e d23e7f    jp      nc,7f3eh
7c71 47        ld      b,a
7c72 79        ld      a,c
7c73 3d        dec     a
7c74 07        rlca    
7c75 07        rlca    
7c76 f6c1      or      0c1h
7c78 4f        ld      c,a
7c79 78        ld      a,b
7c7a e607      and     07h
7c7c fe03      cp      03h
7c7e 380a      jr      c,7c8ah
7c80 3c        inc     a
7c81 fe06      cp      06h
7c83 3805      jr      c,7c8ah
7c85 ca3e7f    jp      z,7f3eh
7c88 3e03      ld      a,03h
7c8a fe04      cp      04h
7c8c 3008      jr      nc,7c96h
7c8e 07        rlca    
7c8f 07        rlca    
7c90 07        rlca    
7c91 07        rlca    
7c92 b1        or      c
7c93 c39d7b    jp      7b9dh
7c96 0f        rrca    
7c97 0f        rrca    
7c98 0f        rrca    
7c99 f65d      or      5dh
7c9b 12        ld      (de),a
7c9c 13        inc     de
7c9d 79        ld      a,c
7c9e f620      or      20h
7ca0 c39d7b    jp      7b9dh
7ca3 cd617f    call    7f61h
7ca6 a7        and     a
7ca7 ca3e7f    jp      z,7f3eh
7caa fe07      cp      07h
7cac 200f      jr      nz,7cbdh
7cae cd477b    call    7b47h
7cb1 79        ld      a,c
7cb2 fe03      cp      03h
7cb4 2801      jr      z,7cb7h
7cb6 3d        dec     a
7cb7 c610      add     a,10h
7cb9 4f        ld      c,a
7cba c3e67a    jp      7ae6h
7cbd f5        push    af
7cbe cd477b    call    7b47h
7cc1 f1        pop     af
7cc2 0d        dec     c
7cc3 204f      jr      nz,7d14h
7cc5 fe0a      cp      0ah
7cc7 200f      jr      nz,7cd8h
7cc9 0e42      ld      c,42h
7ccb cd517b    call    7b51h
7cce fe0b      cp      0bh
7cd0 28d5      jr      z,7ca7h
7cd2 fe0c      cp      0ch
7cd4 28d1      jr      z,7ca7h
7cd6 1854      jr      7d2ch
7cd8 fe0b      cp      0bh
7cda 2023      jr      nz,7cffh
7cdc cd517b    call    7b51h
7cdf 06dd      ld      b,0ddh
7ce1 fe08      cp      08h
7ce3 280e      jr      z,7cf3h
7ce5 fe09      cp      09h
7ce7 280a      jr      z,7cf3h
7ce9 3d        dec     a
7cea fe0a      cp      0ah
7cec 2805      jr      z,7cf3h
7cee 3d        dec     a
7cef fe0b      cp      0bh
7cf1 200e      jr      nz,7d01h
7cf3 e607      and     07h
7cf5 0e09      ld      c,09h
7cf7 f5        push    af
7cf8 78        ld      a,b
7cf9 12        ld      (de),a
7cfa 13        inc     de
7cfb f1        pop     af
7cfc c38a7c    jp      7c8ah
7cff fe0c      cp      0ch
7d01 c23e7f    jp      nz,7f3eh
7d04 cd517b    call    7b51h
7d07 06fd      ld      b,0fdh
7d09 fe0b      cp      0bh
7d0b 289a      jr      z,7ca7h
7d0d fe0c      cp      0ch
7d0f 20d0      jr      nz,7ce1h
7d11 3d        dec     a
7d12 18cd      jr      7ce1h
7d14 fe0a      cp      0ah
7d16 20e9      jr      nz,7d01h
7d18 cd517b    call    7b51h
7d1b f5        push    af
7d1c 3eed      ld      a,0edh
7d1e 12        ld      (de),a
7d1f 13        inc     de
7d20 79        ld      a,c
7d21 ee03      xor     03h
7d23 f628      or      28h
7d25 4f        ld      c,a
7d26 f1        pop     af
7d27 18a5      jr      7cceh
7d29 cd517b    call    7b51h
7d2c fe08      cp      08h
7d2e 3825      jr      c,7d55h
7d30 0d        dec     c
7d31 fe0e      cp      0eh
7d33 3019      jr      nc,7d4eh
7d35 e607      and     07h
7d37 fe03      cp      03h
7d39 3807      jr      c,7d42h
7d3b 3c        inc     a
7d3c fe06      cp      06h
7d3e 2002      jr      nz,7d42h
7d40 3e03      ld      a,03h
7d42 f5        push    af
7d43 79        ld      a,c
7d44 07        rlca    
7d45 07        rlca    
7d46 07        rlca    
7d47 ee03      xor     03h
7d49 4f        ld      c,a
7d4a f1        pop     af
7d4b c38a7c    jp      7c8ah
7d4e 47        ld      b,a
7d4f 79        ld      a,c
7d50 f634      or      34h
7d52 c35179    jp      7951h
7d55 cd377b    call    7b37h
7d58 07        rlca    
7d59 07        rlca    
7d5a 07        rlca    
7d5b b1        or      c
7d5c c603      add     a,03h
7d5e c39d7b    jp      7b9dh
7d61 cd617f    call    7f61h
7d64 f5        push    af
7d65 cd477b    call    7b47h
7d68 cd517b    call    7b51h
7d6b fe19      cp      19h
7d6d 2016      jr      nz,7d85h
7d6f 3a2386    ld      a,(8623h)
7d72 a7        and     a
7d73 c23e7f    jp      nz,7f3eh
7d76 f1        pop     af
7d77 fe07      cp      07h
7d79 c23e7f    jp      nz,7f3eh
7d7c 3edb      ld      a,0dbh
7d7e ed5b2086  ld      de,(8620h)
7d82 c32f7b    jp      7b2fh
7d85 0e40      ld      c,40h
7d87 fe17      cp      17h
7d89 c23e7f    jp      nz,7f3eh
7d8c f1        pop     af
7d8d fe08      cp      08h
7d8f d23e7f    jp      nc,7f3eh
7d92 cd377b    call    7b37h
7d95 07        rlca    
7d96 07        rlca    
7d97 07        rlca    
7d98 81        add     a,c
7d99 f5        push    af
7d9a 3eed      ld      a,0edh
7d9c ed5b2086  ld      de,(8620h)
7da0 12        ld      (de),a
7da1 13        inc     de
7da2 f1        pop     af
7da3 c39d7b    jp      7b9dh
7da6 cd617f    call    7f61h
7da9 fe19      cp      19h
7dab 2017      jr      nz,7dc4h
7dad 3a2286    ld      a,(8622h)
7db0 f5        push    af
7db1 cd477b    call    7b47h
7db4 cd517b    call    7b51h
7db7 fe07      cp      07h
7db9 c23e7f    jp      nz,7f3eh
7dbc f1        pop     af
7dbd 322286    ld      (8622h),a
7dc0 3ed3      ld      a,0d3h
7dc2 18ba      jr      7d7eh
7dc4 cd477b    call    7b47h
7dc7 cd517b    call    7b51h
7dca 0e41      ld      c,41h
7dcc 18bf      jr      7d8dh
7dce d0        ret     nc
7dcf 77        ld      (hl),a
7dd0 ee7b      xor     7bh
7dd2 8c        adc     a,h
7dd3 7b        ld      a,e
7dd4 ac        xor     h
7dd5 7b        ld      a,e
7dd6 a6        and     (hl)
7dd7 7d        ld      a,l
7dd8 61        ld      h,c
7dd9 7d        ld      a,l
7dda d27b8f    jp      nc,8f7bh
7ddd 7a        ld      a,d
7dde 59        ld      e,c
7ddf 7a        ld      a,d
7de0 207a      jr      nz,7e5ch
7de2 55        ld      d,l
7de3 7c        ld      a,h
7de4 4e        ld      c,(hl)
7de5 7c        ld      a,h
7de6 e3        ex      (sp),hl
7de7 79        ld      a,c
7de8 3c        inc     a
7de9 7b        ld      a,e
7dea 29        add     hl,hl
7deb 7d        ld      a,l
7dec a3        and     e
7ded 7c        ld      a,h
7dee 64        ld      h,h
7def 7c        ld      a,h
7df0 2178f5    ld      hl,0f578h
7df3 c5        push    bc
7df4 d5        push    de
7df5 2b        dec     hl
7df6 cd657b    call    7b65h
7df9 fe30      cp      30h
7dfb da3e7f    jp      c,7f3eh
7dfe fe3a      cp      3ah
7e00 d23e7f    jp      nc,7f3eh
7e03 2b        dec     hl
7e04 110000    ld      de,0000h
7e07 0600      ld      b,00h
7e09 cd657b    call    7b65h
7e0c 04        inc     b
7e0d d630      sub     30h
7e0f fa2a7e    jp      m,7e2ah
7e12 fe0a      cp      0ah
7e14 380a      jr      c,7e20h
7e16 d607      sub     07h
7e18 fe0a      cp      0ah
7e1a 380e      jr      c,7e2ah
7e1c fe10      cp      10h
7e1e 300a      jr      nc,7e2ah
7e20 eb        ex      de,hl
7e21 29        add     hl,hl
7e22 29        add     hl,hl
7e23 29        add     hl,hl
7e24 29        add     hl,hl
7e25 eb        ex      de,hl
7e26 b3        or      e
7e27 5f        ld      e,a
7e28 18df      jr      7e09h
7e2a ed532286  ld      (8622h),de
7e2e 05        dec     b
7e2f ca3e7f    jp      z,7f3eh
7e32 d1        pop     de
7e33 c1        pop     bc
7e34 f1        pop     af
7e35 c9        ret     
7e36 4c        ld      c,h
7e37 c40050    call    nz,5000h
7e3a 4f        ld      c,a
7e3b d0        ret     nc
7e3c 50        ld      d,b
7e3d 55        ld      d,l
7e3e 53        ld      d,e
7e3f c8        ret     z
7e40 00        nop     
7e41 41        ld      b,c
7e42 44        ld      b,h
7e43 c44144    call    nz,4441h
7e46 c35342    jp      4253h
7e49 c30049    jp      4900h
7e4c 4e        ld      c,(hl)
7e4d c34445    jp      4544h
7e50 c30053    jp      5300h
7e53 55        ld      d,l
7e54 c2414e    jp      nz,4e41h
7e57 c4584f    call    nz,4f58h
7e5a d24fd2    jp      nc,0d24fh
7e5d 43        ld      b,e
7e5e d0        ret     nc
7e5f 00        nop     
7e60 43        ld      b,e
7e61 41        ld      b,c
7e62 4c        ld      c,h
7e63 cc5245    call    z,4552h
7e66 d40052    call    nc,5200h
7e69 4c        ld      c,h
7e6a c35252    jp      5252h
7e6d c352cc    jp      0cc52h
7e70 52        ld      d,d
7e71 d2534c    jp      nc,4c53h
7e74 c1        pop     bc
7e75 53        ld      d,e
7e76 52        ld      d,d
7e77 c1        pop     bc
7e78 53        ld      d,e
7e79 52        ld      d,d
7e7a cc0042    call    z,4200h
7e7d 49        ld      c,c
7e7e d45245    call    nc,4552h
7e81 d353      out     (53h),a
7e83 45        ld      b,l
7e84 d4004a    call    nc,4a00h
7e87 d0        ret     nc
7e88 00        nop     
7e89 4a        ld      c,d
7e8a d20044    jp      nc,4400h
7e8d 4a        ld      c,d
7e8e 4e        ld      c,(hl)
7e8f da0052    jp      c,5200h
7e92 53        ld      d,e
7e93 d40049    call    nc,4900h
7e96 ce00      adc     a,00h
7e98 4f        ld      c,a
7e99 55        ld      d,l
7e9a d4004c    call    nc,4c00h
7e9d 44        ld      b,h
7e9e c9        ret     
7e9f 4c        ld      c,h
7ea0 44        ld      b,h
7ea1 49        ld      c,c
7ea2 d24c44    jp      nc,444ch
7ea5 c44c44    call    nz,444ch
7ea8 44        ld      b,h
7ea9 d24350    jp      nc,5043h
7eac c9        ret     
7ead 43        ld      b,e
7eae 50        ld      d,b
7eaf 49        ld      c,c
7eb0 d24350    jp      nc,5043h
7eb3 c44350    call    nz,5043h
7eb6 44        ld      b,h
7eb7 d24e45    jp      nc,454eh
7eba c7        rst     00h
7ebb 52        ld      d,d
7ebc 4c        ld      c,h
7ebd c45252    call    nz,5252h
7ec0 c45245    call    nz,4552h
7ec3 54        ld      d,h
7ec4 c9        ret     
7ec5 52        ld      d,d
7ec6 45        ld      b,l
7ec7 54        ld      d,h
7ec8 ce49      adc     a,49h
7eca 4e        ld      c,(hl)
7ecb c9        ret     
7ecc 49        ld      c,c
7ecd 4e        ld      c,(hl)
7ece 49        ld      c,c
7ecf d2494e    jp      nc,4e49h
7ed2 c4494e    call    nz,4e49h
7ed5 44        ld      b,h
7ed6 d24f55    jp      nc,554fh
7ed9 54        ld      d,h
7eda c9        ret     
7edb 4f        ld      c,a
7edc 54        ld      d,h
7edd 49        ld      c,c
7ede d24f55    jp      nc,554fh
7ee1 54        ld      d,h
7ee2 c44f54    call    nz,544fh
7ee5 44        ld      b,h
7ee6 d20044    jp      nc,4400h
7ee9 41        ld      b,c
7eea c1        pop     bc
7eeb 43        ld      b,e
7eec 50        ld      d,b
7eed cc4343    call    z,4343h
7ef0 c653      add     a,53h
7ef2 43        ld      b,e
7ef3 c64e      add     a,4eh
7ef5 4f        ld      c,a
7ef6 d0        ret     nc
7ef7 48        ld      c,b
7ef8 41        ld      b,c
7ef9 4c        ld      c,h
7efa d444c9    call    nc,0c944h
7efd 45        ld      b,l
7efe c9        ret     
7eff 52        ld      d,d
7f00 4c        ld      c,h
7f01 43        ld      b,e
7f02 c1        pop     bc
7f03 52        ld      d,d
7f04 4c        ld      c,h
7f05 c1        pop     bc
7f06 52        ld      d,d
7f07 52        ld      d,d
7f08 43        ld      b,e
7f09 c1        pop     bc
7f0a 52        ld      d,d
7f0b 52        ld      d,d
7f0c c1        pop     bc
7f0d 45        ld      b,l
7f0e 58        ld      e,b
7f0f d8        ret     c
7f10 00        nop     
7f11 49        ld      c,c
7f12 cd0045    call    4500h
7f15 d8        ret     c
7f16 00        nop     
7f17 27        daa     
7f18 2f        cpl     
7f19 3f        ccf     
7f1a 37        scf     
7f1b 00        nop     
7f1c 76        halt    
7f1d f3        di      
7f1e fb        ei      
7f1f 07        rlca    
7f20 17        rla     
7f21 0f        rrca    
7f22 1f        rra     
7f23 d9        exx     
7f24 a0        and     b
7f25 b0        or      b
7f26 a8        xor     b
7f27 b8        cp      b
7f28 a1        and     c
7f29 b1        or      c
7f2a a9        xor     c
7f2b b9        cp      c
7f2c 44        ld      b,h
7f2d 6f        ld      l,a
7f2e 67        ld      h,a
7f2f 4d        ld      c,l
7f30 45        ld      b,l
7f31 a2        and     d
7f32 b2        or      d
7f33 aa        xor     d
7f34 ba        cp      d
7f35 a3        and     e
7f36 b3        or      e
7f37 ab        xor     e
7f38 bb        cp      e
7f39 21477f    ld      hl,7f47h
7f3c 1803      jr      7f41h
7f3e 21567f    ld      hl,7f56h
7f41 cddb72    call    72dbh
7f44 c37c77    jp      777ch
7f47 42        ld      b,d
7f48 41        ld      b,c
7f49 44        ld      b,h
7f4a 2049      jr      nz,7f95h
7f4c 4e        ld      c,(hl)
7f4d 53        ld      d,e
7f4e 54        ld      d,h
7f4f 52        ld      d,d
7f50 55        ld      d,l
7f51 43        ld      b,e
7f52 54        ld      d,h
7f53 49        ld      c,c
7f54 4f        ld      c,a
7f55 ce42      adc     a,42h
7f57 41        ld      b,c
7f58 44        ld      b,h
7f59 204f      jr      nz,7faah
7f5b 50        ld      d,b
7f5c 45        ld      b,l
7f5d 52        ld      d,d
7f5e 41        ld      b,c
7f5f 4e        ld      c,(hl)
7f60 c4c50e    call    nz,0ec5h
7f63 2c        inc     l
7f64 0605      ld      b,05h
7f66 e5        push    hl
7f67 cd6e7b    call    7b6eh
7f6a 2856      jr      z,7fc2h
7f6c e1        pop     hl
7f6d cd667b    call    7b66h
7f70 fe28      cp      28h
7f72 280a      jr      z,7f7eh
7f74 cdf27d    call    7df2h
7f77 0e18      ld      c,18h
7f79 cd667b    call    7b66h
7f7c 183b      jr      7fb9h
7f7e cd657b    call    7b65h
7f81 fe49      cp      49h
7f83 2807      jr      z,7f8ch
7f85 cdf27d    call    7df2h
7f88 0e19      ld      c,19h
7f8a 1822      jr      7faeh
7f8c 0e1a      ld      c,1ah
7f8e cd657b    call    7b65h
7f91 fe58      cp      58h
7f93 2806      jr      z,7f9bh
7f95 fe59      cp      59h
7f97 c23e7f    jp      nz,7f3eh
7f9a 0c        inc     c
7f9b cd657b    call    7b65h
7f9e fe2b      cp      2bh
7fa0 c23e7f    jp      nz,7f3eh
7fa3 23        inc     hl
7fa4 cdf27d    call    7df2h
7fa7 3a2386    ld      a,(8623h)
7faa a7        and     a
7fab c23e7f    jp      nz,7f3eh
7fae cd667b    call    7b66h
7fb1 fe29      cp      29h
7fb3 c23e7f    jp      nz,7f3eh
7fb6 cd657b    call    7b65h
7fb9 281c      jr      z,7fd7h
7fbb fe2c      cp      2ch
7fbd 2818      jr      z,7fd7h
7fbf c33e7f    jp      7f3eh
7fc2 3a2286    ld      a,(8622h)
7fc5 a7        and     a
7fc6 2810      jr      z,7fd8h
7fc8 1a        ld      a,(de)
7fc9 f680      or      80h
7fcb 12        ld      (de),a
7fcc 11b27a    ld      de,7ab2h
7fcf e5        push    hl
7fd0 cd937a    call    7a93h
7fd3 e1        pop     hl
7fd4 3096      jr      nc,7f6ch
7fd6 d1        pop     de
7fd7 79        ld      a,c
7fd8 c1        pop     bc
7fd9 c9        ret     

;7fda
LABEL_7FDA:
   ld      hl, PORT10_LATCH
   ld      b,00h
   ret     

;7fe0
BOOT_SEQUENCE_CONTINUE:
   ld      hl,85d0h
   ld      (hl),0c3h   ; POKE &H85D0, &HC3
   inc     hl
   ld      (hl),28h    ; POKE &H85D1, &H28
   inc     hl
   ld      (hl),22h    ; POKE &H85D2, &H22
   ld      hl,7800h
   jp      BOOT_SEQUENCE_CONTINUE_2

; ??? display "BAD OPERAND" and continues to assemble (Z)
7ff1 2828      jr      z,801bh
7ff3 0a        ld      a,(bc)
7ff4 cdf27d    call    7df2h
7ff7 0e18      ld      c,18h
7ff9 cd667b    call    7b66h
7ffc 183b      jr      8039h
7ffe cd6500    call    0065h
